/*==========================================================================
  * Copyright (c)      Realtek Semiconductor Corporation, 2014
  * All rights reserved.
  * ========================================================================*/
  /*================= File Description =======================================*/
  /**
   * @file
   *  This file is for HDR 10+ related functions.
   *
   * @author  $Author$
   * @date	  $Date$
   * @version	  $Revision$
   */


  /*============================ Module dependency	===========================*/
//#include <linux/string.h>
//#include <linux/kernel.h>
//#include <linux/math64.h>
#ifndef BUILD_QUICK_SHOW
#include <linux/delay.h>
#include <generated/autoconf.h>
#include <linux/module.h>
#include <linux/kernel.h>
#include <linux/device.h>
#include <linux/string.h>
#include <linux/cdev.h>
#include <linux/slab.h>
#include <linux/fs.h>
#include <linux/platform_device.h>
#include <linux/mtd/mtd.h>
#include <linux/types.h>
#include <linux/uaccess.h>
#include <asm/cacheflush.h>
//#include <mach/RPCDriver.h>
#include <linux/pageremap.h>
#include <mach/system.h>
#include <linux/hrtimer.h>
#include <linux/kthread.h>
#else
#include <no_os/slab.h>
#include <include/string.h>
#include <timer.h>
#include <sysdefs.h>
#include <no_os/printk.h>
#include <no_os/semaphore.h>
#include <no_os/spinlock.h>
#include <no_os/spinlock_types.h>
#include <malloc.h>
#include <div64.h>
#include <rtd_log/rtd_module_log.h>
#include <no_os/pageremap.h>
#include <no_os/math64.h>
#include <rtk_kdriver/rmm/rmm.h>
//#include <tvscalercontrol/scaler/scalervideo.h>
#include <qs_pq_setting.h>
#include <rtk_kdriver/quick_show/quick_show.h>
#include <scaler/scalerCommon.h>
#endif

#include <tvscalercontrol/io/ioregdrv.h>

//#include <tvscalercontrol/vip/tc_hdr.h>
//#include <tvscalercontrol/vip/tc_math.h>//juwen, merlin3, tc//juwen, 170216, TCv1.3.0_computeMetaData
//#include <tvscalercontrol/scaler/vipinclude.h> // for typedef that used in VIP_reg_def.h
//#include <tvscalercontrol/vip/vip_reg_def.h>
//#include <rbus/rbusTCReg.h>
//#include <rbus/tc_reg.h>
#include <tvscalercontrol/vip/scalerColor.h>
//#include <rbus/dmato3dtable_reg.h>
//#include <rbus/dmato3dlut_reg.h>
#include <mach/rtk_log.h>
#include "rtk_vip_logger.h"
//#include <tvscalercontrol/vip/ST2094.h>
//#include <rbus/efuse_reg.h>
//#include <tvscalercontrol/hdmirx/hdmifun.h>
//#include <tvscalercontrol/vip/HDR10_vivid.h>
#include "tvscalercontrol/vip/HDR10_vivid.h"
#include "scaler/scalerCommon.h"

#include "rbus/dm_reg.h"
#include <rbus/vgip_reg.h>
#include <rbus/vodma_reg.h>



#define CLIP_hdr_vivid(min, max, val) ((val < min) ? min : (val > max ? max : val))
extern dm_dm_submodule_enable_RBUS dm_submodule_temp; 

#define CUVA_FW_TEST_ON_FPGA 0
#define CUVA_NEED_ELI_MODIFY 0

static HDR_VIVID_Metadata hdr10_vivid_metadata_buff;
extern int rtk_otp_field_read_int_by_name(const char *name);
unsigned char drvif_Get_HDR10_vivid_EFuse_Status(void)
{
	unsigned char ret;
	if (rtk_otp_field_read_int_by_name("chip_type_cuva_hdr_disable") == 1)
		ret = 1;
	else
		ret = 0;

	rtd_pr_vpq_info("%s, ret=%d,\n", __func__, ret);
#ifdef BUILD_QUICK_SHOW
	ret = 1;
	printf2("no hdr vivi on qs\n");
#endif

	return ret;
}

HDR_VIVID_Metadata* drvif_fwif_color_Get_HDR10_vivid_METADATA_Buff(void)
{
	return &hdr10_vivid_metadata_buff;
}

static VIP_HDR10_vivid_CTRL HDR10_vivid_CTRL = {0};
VIP_HDR10_vivid_CTRL* drvif_fwif_color_Get_HDR10_vivid_Ctrl(void)
{
	return &HDR10_vivid_CTRL;
}

//#ifdef HDR10_vivid_compile_fail
/* CUVA process functions */
long long abs_cuva(long long x)
{
	return x>=0 ? x : (-x);
}
long long max_cuva(long long x, long long y)
{
	long long out;
	out=x;
	if(y>out)
		out=y;
	return out;
}

long long min_cuva(long long x, long long y)
{
	long long out;
	out=x;
	if(y<out)
		out=y;
	return out;
}

long long maxRGBPQ(long long r, long long g, long long b)
{
	long long out=0;
	out=r;
	if(g>out)
		out=g;
	if(b>out)
		out=b;
	return out;
}
/* OETF interpolation table */
static const unsigned int l2pqLutX[128] = {
		0x00000000, 0x0000000d, 0x0000004e, 0x000000f2, 0x00000214, 0x000003ed, 0x000006a2, 0x00000a6f, 
		0x00000f8b, 0x00001639, 0x00001ebf, 0x00002972, 0x0000369a, 0x000046ab, 0x00005a06, 0x00007125, 
		0x00008c8a, 0x0000acbc, 0x0000d268, 0x0000fe3b, 0x000130d4, 0x00016b1d, 0x0001adff, 0x0001fa53, 
		0x00025135, 0x0002b3b4, 0x0003230f, 0x0003a09a, 0x00042de4, 0x0004cc72, 0x00057e45, 0x0006453f, 
		0x00072328, 0x00081a99, 0x00092dc6, 0x000a5f96, 0x000bb28c, 0x000d2a54, 0x000ec9f4, 0x00109521, 
		0x00128fe8, 0x0014bee4, 0x0017270d, 0x0019cd3f, 0x001cb709, 0x001fea27, 0x00236d03, 0x00274696, 
		0x002b7ed7, 0x00301de6, 0x00352d89, 0x003ab771, 0x0040c5c7, 0x00476365, 0x004e9c3a, 0x00567e18, 
		0x005f1810, 0x0068796b, 0x0072b10d, 0x007dd465, 0x0089f513, 0x009727cb, 0x00a587cb, 0x00b526fe, 
		0x00c628cd, 0x00d8a1b6, 0x00ecba12, 0x01028ad3, 0x011a43d7, 0x0134020e, 0x014ffb77, 0x016e591e, 
		0x018f4dc5, 0x01b31818, 0x01d9e7dd, 0x020407dd, 0x0231bf12, 0x02635154, 0x029916e2, 0x02d36f11, 
		0x0312b208, 0x03574bba, 0x03a1aef0, 0x03f26478, 0x0449e29f, 0x04a8c0e6, 0x050f9c17, 0x057f2b45, 
		0x05f83742, 0x067b715a, 0x0709c26f, 0x07a41207, 0x084b747f, 0x090116dc, 0x09c63ccf, 0x0a9c44e9, 
		0x0b848165, 0x0c8098b0, 0x0d92316e, 0x0ebb37be, 0x0ffdc6c7, 0x115c3297, 0x12d90935, 0x1477179b, 
		0x16396e13, 0x1823653c, 0x1a38a764, 0x1c7d3101, 0x1ef55ccd, 0x21a5e67e, 0x2493f699, 0x27c52ce7, 
		0x2b3fb584, 0x2f0a7cd3, 0x332d32d3, 0x37b067f0, 0x3c9d7506, 0x41fe3834, 0x47dd49c0, 0x4e4624e5, 
		0x5545b31a, 0x5cea41fc, 0x6543e276, 0x6e6428cd, 0x785c36ab, 0x83434491, 0x8f1f6c3f, 0x9c400000
	};
static const unsigned int l2pqLutA[128] = {
		0x0c032082, 0x043c81ab, 0x024272f8, 0x018110d4, 0x010b262b, 0x00c8102b, 0x0099818a, 0x0078df8d, 
		0x00614c32, 0x004f9831, 0x0041c6f1, 0x003729bd, 0x002e80eb, 0x0027a8b4, 0x0021f8ee, 0x001d4609, 
		0x00196914, 0x00161f31, 0x00135308, 0x0010fef4, 0x000ef57a, 0x000d377d, 0x000bba73, 0x000a6ac8, 
		0x00094876, 0x00084a4b, 0x00076bbe, 0x0006a6ed, 0x0005fb69, 0x000561d4, 0x0004d943, 0x00046114, 
		0x0003f511, 0x000394fe, 0x00033ed9, 0x0002f20f, 0x0002ac6a, 0x00026e9a, 0x00023677, 0x000203ed, 
		0x0001d654, 0x0001ad0f, 0x000187d5, 0x000165f4, 0x00014745, 0x00012b6a, 0x0001121f, 0x0000fb10, 
		0x0000e62f, 0x0000d311, 0x0000c1a3, 0x0000b1b8, 0x0000a32d, 0x000095e8, 0x000089d0, 0x00007eaf, 
		0x00007478, 0x00006b3c, 0x000062a6, 0x00005ad0, 0x000053ac, 0x00004d01, 0x00004707, 0x00004165, 
		0x00003c54, 0x00003795, 0x0000334c, 0x00002f45, 0x00002ba6, 0x0000283e, 0x00002526, 0x00002248, 
		0x00001fa0, 0x00001d37, 0x00001af5, 0x000018e3, 0x000016fc, 0x00001538, 0x00001396, 0x00001218, 
		0x000010b4, 0x00000f6d, 0x00000e3e, 0x00000d28, 0x00000c25, 0x00000b37, 0x00000a5a, 0x0000098f, 
		0x000008d4, 0x00000825, 0x00000785, 0x000006f0, 0x00000667, 0x000005e9, 0x00000573, 0x00000508, 
		0x000004a3, 0x00000447, 0x000003f1, 0x000003a3, 0x0000035a, 0x00000316, 0x000002d8, 0x0000029e, 
		0x00000269, 0x00000238, 0x0000020b, 0x000001e1, 0x000001ba, 0x00000196, 0x00000175, 0x00000157, 
		0x0000013b, 0x00000121, 0x00000109, 0x000000f3, 0x000000df, 0x000000cd, 0x000000bb, 0x000000ac, 
		0x0000009d, 0x00000090, 0x00000084, 0x00000078, 0x0000006e, 0x00000065, 0x0000005a, 0x00000000
	};
static const unsigned int l2pqLutB[128] = {
		0x0000, 0x004c, 0x00d7, 0x0190, 0x026a, 0x0361, 0x0470, 0x0594, 
		0x06c8, 0x080d, 0x0961, 0x0ac0, 0x0c2b, 0x0da1, 0x0f21, 0x10a9, 
		0x123a, 0x13d3, 0x1574, 0x171c, 0x18ca, 0x1a7d, 0x1c37, 0x1df7, 
		0x1fbc, 0x2185, 0x2352, 0x2524, 0x26fa, 0x28d4, 0x2ab3, 0x2c95, 
		0x2e7b, 0x3065, 0x3252, 0x3442, 0x3635, 0x382b, 0x3a25, 0x3c21, 
		0x3e1f, 0x4021, 0x4225, 0x442c, 0x4636, 0x4841, 0x4a4f, 0x4c5f, 
		0x4e70, 0x5084, 0x529a, 0x54b3, 0x56cd, 0x58e8, 0x5b06, 0x5d25, 
		0x5f46, 0x6168, 0x638c, 0x65b1, 0x67d8, 0x6a00, 0x6c2a, 0x6e54, 
		0x7080, 0x72ae, 0x74dc, 0x770c, 0x793c, 0x7b6e, 0x7da1, 0x7fd5, 
		0x820a, 0x8440, 0x8677, 0x88ae, 0x8ae7, 0x8d21, 0x8f5b, 0x9197, 
		0x93d3, 0x9610, 0x984e, 0x9a8d, 0x9ccc, 0x9f0c, 0xa14d, 0xa38e, 
		0xa5d1, 0xa814, 0xaa57, 0xac9c, 0xaee0, 0xb126, 0xb36c, 0xb5b4, 
		0xb7fc, 0xba44, 0xbc8d, 0xbed7, 0xc121, 0xc36c, 0xc5b8, 0xc805, 
		0xca53, 0xcca1, 0xcef1, 0xd142, 0xd393, 0xd5e6, 0xd839, 0xda8d, 
		0xdce2, 0xdf37, 0xe18d, 0xe3e4, 0xe63b, 0xe893, 0xeaeb, 0xed44, 
		0xef9c, 0xf1f5, 0xf44d, 0xf6a6, 0xf8fe, 0xfb55, 0xfdab, 0xffff 
	};
/* OETF interpolation table */
long long FindNodeIdxFixPnt_cuva(long long l)
{
    long long il = 0, ir = 128, num = 128;// num = 2^n
    long long ic;
    // do a binary search
    while (num > 1) {
        num >>= 1;
        ic = il + num;
        if (l < l2pqLutX[ic]) ir = ic;
        else if (l > l2pqLutX[ic]) il = ic;
        else return ic;
    }

    return il;
}
long long inv_EO_lut( long long in_buffer32)
{	
	long long index;
	long long y1;
	long long y2;

	index = FindNodeIdxFixPnt_cuva( (long long)in_buffer32 );
	y1 = (in_buffer32 - l2pqLutX[index]) * l2pqLutA[index];
	y2 = (long long)( y1 >> (18 + 23 - 16) ) + l2pqLutB[index];
	return y2;
}
// EOTF table
		unsigned int EOTF_tbl[4097]={
		0x0,0x1,0x5,0xa,0x11,0x19,0x22,0x2c,0x38,0x44,0x52,0x60,0x70,0x81,0x92,0xa5,
		0xb9,0xcd,0xe3,0xf9,0x111,0x129,0x143,0x15d,0x179,0x195,0x1b3,0x1d1,0x1f0,0x211,0x232,0x254,
		0x277,0x29c,0x2c1,0x2e7,0x30e,0x337,0x360,0x38a,0x3b5,0x3e1,0x40f,0x43d,0x46c,0x49d,0x4ce,0x500,
		0x534,0x568,0x59e,0x5d4,0x60c,0x645,0x67f,0x6b9,0x6f5,0x732,0x770,0x7af,0x7f0,0x831,0x874,0x8b7,
		0x8fc,0x941,0x988,0x9d0,0xa1a,0xa64,0xaaf,0xafc,0xb4a,0xb98,0xbe8,0xc3a,0xc8c,0xce0,0xd34,0xd8a,
		0xde1,0xe3a,0xe93,0xeee,0xf4a,0xfa7,0x1005,0x1065,0x10c6,0x1128,0x118b,0x11f0,0x1256,0x12bd,0x1325,0x138f,
		0x13fa,0x1466,0x14d3,0x1542,0x15b2,0x1624,0x1696,0x170a,0x1780,0x17f7,0x186f,0x18e8,0x1963,0x19df,0x1a5c,0x1adb,
		0x1b5b,0x1bdd,0x1c60,0x1ce4,0x1d6a,0x1df1,0x1e7a,0x1f04,0x1f8f,0x201c,0x20aa,0x213a,0x21cb,0x225e,0x22f2,0x2388,
		0x241f,0x24b7,0x2551,0x25ed,0x268a,0x2728,0x27c8,0x286a,0x290d,0x29b1,0x2a57,0x2aff,0x2ba8,0x2c53,0x2cff,0x2dad,
		0x2e5d,0x2f0e,0x2fc0,0x3074,0x312a,0x31e2,0x329b,0x3355,0x3412,0x34d0,0x358f,0x3651,0x3714,0x37d8,0x389e,0x3966,
		0x3a30,0x3afb,0x3bc8,0x3c97,0x3d67,0x3e39,0x3f0d,0x3fe3,0x40ba,0x4193,0x426e,0x434b,0x4429,0x4509,0x45eb,0x46cf,
		0x47b4,0x489c,0x4985,0x4a70,0x4b5c,0x4c4b,0x4d3c,0x4e2e,0x4f22,0x5018,0x5110,0x520a,0x5305,0x5403,0x5502,0x5604,
		0x5707,0x580c,0x5913,0x5a1c,0x5b27,0x5c34,0x5d43,0x5e54,0x5f67,0x607c,0x6193,0x62ab,0x63c6,0x64e3,0x6602,0x6723,
		0x6846,0x696b,0x6a92,0x6bbb,0x6ce6,0x6e14,0x6f43,0x7074,0x71a8,0x72de,0x7415,0x754f,0x768b,0x77c9,0x790a,0x7a4c,
		0x7b91,0x7cd8,0x7e21,0x7f6c,0x80b9,0x8209,0x835b,0x84af,0x8605,0x875e,0x88b8,0x8a15,0x8b75,0x8cd6,0x8e3a,0x8fa0,
		0x9109,0x9273,0x93e1,0x9550,0x96c2,0x9836,0x99ac,0x9b25,0x9ca0,0x9e1e,0x9f9e,0xa120,0xa2a5,0xa42c,0xa5b5,0xa741,
		0xa8d0,0xaa61,0xabf4,0xad8a,0xaf22,0xb0bd,0xb25a,0xb3fa,0xb59c,0xb741,0xb8e8,0xba92,0xbc3e,0xbded,0xbf9f,0xc153,
		0xc309,0xc4c3,0xc67f,0xc83d,0xc9fe,0xcbc2,0xcd88,0xcf51,0xd11d,0xd2eb,0xd4bc,0xd690,0xd866,0xda3f,0xdc1b,0xddfa,
		0xdfdb,0xe1bf,0xe3a6,0xe58f,0xe77c,0xe96b,0xeb5d,0xed51,0xef49,0xf143,0xf340,0xf540,0xf743,0xf949,0xfb52,0xfd5d,
		0xff6b,0x1017d,0x10391,0x105a8,0x107c2,0x109df,0x10bff,0x10e22,0x11047,0x11270,0x1149c,0x116cb,0x118fd,0x11b32,0x11d6a,0x11fa4,
		0x121e2,0x12424,0x12668,0x128af,0x12af9,0x12d47,0x12f97,0x131eb,0x13442,0x1369c,0x138f9,0x13b59,0x13dbc,0x14023,0x1428d,0x144fa,
		0x1476a,0x149de,0x14c54,0x14ecf,0x1514c,0x153cc,0x15650,0x158d7,0x15b62,0x15df0,0x16081,0x16315,0x165ad,0x16848,0x16ae7,0x16d89,
		0x1702e,0x172d7,0x17583,0x17833,0x17ae6,0x17d9c,0x18056,0x18314,0x185d5,0x18899,0x18b61,0x18e2d,0x190fc,0x193ce,0x196a5,0x1997e,
		0x19c5c,0x19f3d,0x1a221,0x1a509,0x1a7f5,0x1aae4,0x1add7,0x1b0ce,0x1b3c9,0x1b6c7,0x1b9c8,0x1bcce,0x1bfd7,0x1c2e4,0x1c5f5,0x1c909,
		0x1cc22,0x1cf3e,0x1d25e,0x1d581,0x1d8a9,0x1dbd4,0x1df03,0x1e236,0x1e56d,0x1e8a8,0x1ebe7,0x1ef29,0x1f270,0x1f5ba,0x1f908,0x1fc5b,
		0x1ffb1,0x2030b,0x2066a,0x209cc,0x20d32,0x2109d,0x2140b,0x2177e,0x21af4,0x21e6f,0x221ee,0x22571,0x228f8,0x22c83,0x23012,0x233a6,
		0x2373d,0x23ad9,0x23e79,0x2421d,0x245c6,0x24972,0x24d23,0x250d9,0x25492,0x25850,0x25c12,0x25fd9,0x263a3,0x26773,0x26b46,0x26f1e,
		0x272fa,0x276db,0x27ac0,0x27eaa,0x28298,0x2868a,0x28a81,0x28e7d,0x2927d,0x29681,0x29a8a,0x29e98,0x2a2aa,0x2a6c0,0x2aadc,0x2aefb,
		0x2b320,0x2b749,0x2bb77,0x2bfa9,0x2c3e0,0x2c81c,0x2cc5d,0x2d0a2,0x2d4ec,0x2d93a,0x2dd8e,0x2e1e6,0x2e643,0x2eaa5,0x2ef0b,0x2f377,
		0x2f7e7,0x2fc5c,0x300d6,0x30555,0x309d9,0x30e62,0x312ef,0x31782,0x31c19,0x320b6,0x32558,0x329fe,0x32eaa,0x3335a,0x33810,0x33ccb,
		0x3418b,0x34650,0x34b1a,0x34fe9,0x354bd,0x35997,0x35e75,0x36359,0x36842,0x36d31,0x37224,0x3771d,0x37c1b,0x3811f,0x38627,0x38b35,
		0x39049,0x39561,0x39a80,0x39fa3,0x3a4cc,0x3a9fa,0x3af2e,0x3b467,0x3b9a6,0x3beea,0x3c433,0x3c982,0x3ced7,0x3d431,0x3d991,0x3def6,
		0x3e461,0x3e9d2,0x3ef48,0x3f4c4,0x3fa45,0x3ffcc,0x40559,0x40aec,0x41084,0x41622,0x41bc6,0x42170,0x4271f,0x42cd4,0x4328f,0x43850,
		0x43e17,0x443e3,0x449b6,0x44f8e,0x4556d,0x45b51,0x4613b,0x4672c,0x46d22,0x4731e,0x47921,0x47f29,0x48537,0x48b4c,0x49167,0x49787,
		0x49dae,0x4a3db,0x4aa0f,0x4b048,0x4b688,0x4bcce,0x4c31a,0x4c96c,0x4cfc5,0x4d624,0x4dc8a,0x4e2f5,0x4e967,0x4efe0,0x4f65f,0x4fce4,
		0x50370,0x50a02,0x5109a,0x51739,0x51ddf,0x5248b,0x52b3e,0x531f7,0x538b7,0x53f7d,0x5464a,0x54d1e,0x553f9,0x55ada,0x561c1,0x568b0,
		0x56fa5,0x576a1,0x57da4,0x584ad,0x58bbd,0x592d5,0x599f3,0x5a117,0x5a843,0x5af76,0x5b6af,0x5bdf0,0x5c538,0x5cc86,0x5d3dc,0x5db38,
		0x5e29c,0x5ea06,0x5f178,0x5f8f1,0x60071,0x607f8,0x60f86,0x6171c,0x61eb9,0x6265d,0x62e08,0x635ba,0x63d74,0x64535,0x64cfd,0x654cd,
		0x65ca4,0x66483,0x66c69,0x67456,0x67c4b,0x68447,0x68c4b,0x69456,0x69c69,0x6a483,0x6aca5,0x6b4cf,0x6bd00,0x6c539,0x6cd79,0x6d5c2,
		0x6de12,0x6e669,0x6eec9,0x6f730,0x6ff9f,0x70815,0x71094,0x7191b,0x721a9,0x72a3f,0x732dd,0x73b83,0x74432,0x74ce8,0x755a6,0x75e6c,
		0x7673a,0x77010,0x778ef,0x781d5,0x78ac4,0x793bb,0x79cba,0x7a5c1,0x7aed1,0x7b7e8,0x7c108,0x7ca31,0x7d361,0x7dc9a,0x7e5dc,0x7ef25,
		0x7f878,0x801d2,0x80b35,0x814a1,0x81e15,0x82792,0x83117,0x83aa5,0x8443b,0x84dda,0x85782,0x86132,0x86aeb,0x874ad,0x87e78,0x8884b,
		0x89227,0x89c0c,0x8a5fa,0x8aff0,0x8b9f0,0x8c3f8,0x8ce0a,0x8d824,0x8e248,0x8ec74,0x8f6a9,0x900e8,0x90b2f,0x91580,0x91fda,0x92a3d,
		0x934a9,0x93f1e,0x9499d,0x95425,0x95eb6,0x96950,0x973f4,0x97ea1,0x98958,0x99418,0x99ee1,0x9a9b4,0x9b490,0x9bf76,0x9ca66,0x9d55f,
		0x9e061,0x9eb6d,0x9f683,0xa01a3,0xa0ccc,0xa17ff,0xa233b,0xa2e82,0xa39d2,0xa452c,0xa5090,0xa5bfe,0xa6776,0xa72f7,0xa7e83,0xa8a18,
		0xa95b8,0xaa161,0xaad15,0xab8d3,0xac49b,0xad06d,0xadc49,0xae82f,0xaf420,0xb001b,0xb0c20,0xb182f,0xb2449,0xb306d,0xb3c9c,0xb48d5,
		0xb5518,0xb6166,0xb6dbf,0xb7a22,0xb868f,0xb9307,0xb9f8a,0xbac17,0xbb8af,0xbc552,0xbd1ff,0xbdeb7,0xbeb7a,0xbf848,0xc0521,0xc1204,
		0xc1ef3,0xc2bec,0xc38f0,0xc45ff,0xc531a,0xc603f,0xc6d6f,0xc7aab,0xc87f1,0xc9543,0xca2a0,0xcb008,0xcbd7b,0xccafa,0xcd884,0xce619,
		0xcf3ba,0xd0166,0xd0f1e,0xd1ce1,0xd2aaf,0xd3889,0xd466e,0xd545f,0xd625c,0xd7064,0xd7e78,0xd8c98,0xd9ac4,0xda8fb,0xdb73e,0xdc58c,
		0xdd3e7,0xde24d,0xdf0c0,0xdff3e,0xe0dc9,0xe1c5f,0xe2b01,0xe39b0,0xe486a,0xe5731,0xe6604,0xe74e3,0xe83ce,0xe92c5,0xea1c9,0xeb0d9,
		0xebff6,0xecf1f,0xede54,0xeed96,0xefce4,0xf0c3f,0xf1ba6,0xf2b1a,0xf3a9a,0xf4a27,0xf59c1,0xf6967,0xf791b,0xf88db,0xf98a7,0xfa881,
		0xfb868,0xfc85b,0xfd85b,0xfe869,0xff883,0x1008aa,0x1018df,0x102920,0x10396f,0x1049cb,0x105a34,0x106aab,0x107b2e,0x108bbf,0x109c5d,0x10ad09,
		0x10bdc2,0x10ce89,0x10df5d,0x10f03e,0x11012d,0x11122a,0x112334,0x11344c,0x114572,0x1156a5,0x1167e6,0x117935,0x118a92,0x119bfc,0x11ad75,0x11befb,
		0x11d090,0x11e232,0x11f3e3,0x1205a1,0x12176e,0x122949,0x123b32,0x124d29,0x125f2f,0x127143,0x128365,0x129595,0x12a7d4,0x12ba22,0x12cc7d,0x12dee8,
		0x12f161,0x1303e8,0x13167e,0x132923,0x133bd7,0x134e99,0x13616a,0x13744a,0x138739,0x139a36,0x13ad43,0x13c05e,0x13d389,0x13e6c2,0x13fa0b,0x140d63,
		0x1420ca,0x143440,0x1447c5,0x145b5a,0x146efe,0x1482b1,0x149673,0x14aa46,0x14be27,0x14d218,0x14e619,0x14fa29,0x150e49,0x152278,0x1536b7,0x154b06,
		0x155f65,0x1573d3,0x158852,0x159ce0,0x15b17e,0x15c62c,0x15daeb,0x15efb9,0x160497,0x161986,0x162e84,0x164393,0x1658b2,0x166de2,0x168322,0x169872,
		0x16add3,0x16c344,0x16d8c5,0x16ee57,0x1703fa,0x1719ad,0x172f71,0x174546,0x175b2c,0x177122,0x178729,0x179d41,0x17b36a,0x17c9a4,0x17dfef,0x17f64b,
		0x180cb8,0x182336,0x1839c6,0x185067,0x186718,0x187ddc,0x1894b0,0x18ab96,0x18c28e,0x18d996,0x18f0b1,0x1907dd,0x191f1a,0x19366a,0x194dcb,0x19653d,
		0x197cc2,0x199458,0x19ac00,0x19c3ba,0x19db87,0x19f365,0x1a0b55,0x1a2357,0x1a3b6b,0x1a5392,0x1a6bcb,0x1a8416,0x1a9c73,0x1ab4e3,0x1acd65,0x1ae5fa,
		0x1afea1,0x1b175b,0x1b3027,0x1b4906,0x1b61f8,0x1b7afc,0x1b9414,0x1bad3e,0x1bc67a,0x1bdfca,0x1bf92d,0x1c12a3,0x1c2c2c,0x1c45c8,0x1c5f77,0x1c7939,
		0x1c930f,0x1cacf8,0x1cc6f4,0x1ce104,0x1cfb27,0x1d155d,0x1d2fa7,0x1d4a05,0x1d6476,0x1d7efb,0x1d9994,0x1db441,0x1dcf01,0x1de9d5,0x1e04bd,0x1e1fb9,
		0x1e3aca,0x1e55ee,0x1e7126,0x1e8c73,0x1ea7d3,0x1ec348,0x1eded2,0x1efa6f,0x1f1621,0x1f31e8,0x1f4dc3,0x1f69b3,0x1f85b7,0x1fa1d0,0x1fbdfe,0x1fda40,
		0x1ff697,0x201304,0x202f85,0x204c1b,0x2068c6,0x208586,0x20a25b,0x20bf46,0x20dc45,0x20f95a,0x211684,0x2133c4,0x215119,0x216e84,0x218c04,0x21a99a,
		0x21c745,0x21e506,0x2202dd,0x2220ca,0x223ecc,0x225ce5,0x227b13,0x229958,0x22b7b2,0x22d623,0x22f4aa,0x231347,0x2331fa,0x2350c4,0x236fa4,0x238e9a,
		0x23ada7,0x23cccb,0x23ec05,0x240b56,0x242abe,0x244a3c,0x2469d1,0x24897e,0x24a941,0x24c91b,0x24e90c,0x250914,0x252933,0x25496a,0x2569b8,0x258a1d,
		0x25aa9a,0x25cb2e,0x25ebda,0x260c9d,0x262d78,0x264e6a,0x266f74,0x269096,0x26b1d0,0x26d322,0x26f48c,0x27160d,0x2737a7,0x275959,0x277b23,0x279d06,
		0x27bf00,0x27e113,0x28033f,0x282583,0x2847e0,0x286a55,0x288ce3,0x28af89,0x28d248,0x28f521,0x291812,0x293b1c,0x295e3f,0x29817b,0x29a4d0,0x29c83f,
		0x29ebc7,0x2a0f68,0x2a3322,0x2a56f6,0x2a7ae4,0x2a9eeb,0x2ac30b,0x2ae746,0x2b0b9a,0x2b3008,0x2b5490,0x2b7931,0x2b9ded,0x2bc2c3,0x2be7b3,0x2c0cbd,
		0x2c31e1,0x2c5720,0x2c7c79,0x2ca1ec,0x2cc77a,0x2ced23,0x2d12e6,0x2d38c4,0x2d5ebd,0x2d84d0,0x2daaff,0x2dd148,0x2df7ac,0x2e1e2c,0x2e44c6,0x2e6b7c,
		0x2e924d,0x2eb939,0x2ee041,0x2f0764,0x2f2ea3,0x2f55fd,0x2f7d73,0x2fa505,0x2fccb3,0x2ff47c,0x301c62,0x304463,0x306c80,0x3094ba,0x30bd10,0x30e582,
		0x310e10,0x3136bb,0x315f82,0x318866,0x31b166,0x31da83,0x3203bd,0x322d13,0x325686,0x328017,0x32a9c4,0x32d38f,0x32fd76,0x33277b,0x33519d,0x337bdc,
		0x33a639,0x33d0b4,0x33fb4c,0x342601,0x3450d4,0x347bc5,0x34a6d4,0x34d201,0x34fd4c,0x3528b5,0x35543c,0x357fe1,0x35aba4,0x35d786,0x360386,0x362fa5,
		0x365be2,0x36883e,0x36b4b9,0x36e152,0x370e0a,0x373ae1,0x3767d7,0x3794ed,0x37c221,0x37ef74,0x381ce7,0x384a79,0x38782b,0x38a5fc,0x38d3ed,0x3901fd,
		0x39302d,0x395e7d,0x398ced,0x39bb7d,0x39ea2d,0x3a18fc,0x3a47ed,0x3a76fd,0x3aa62e,0x3ad57f,0x3b04f0,0x3b3482,0x3b6435,0x3b9409,0x3bc3fd,0x3bf412,
		0x3c2448,0x3c549f,0x3c8517,0x3cb5b1,0x3ce66b,0x3d1747,0x3d4845,0x3d7964,0x3daaa4,0x3ddc06,0x3e0d8a,0x3e3f30,0x3e70f7,0x3ea2e1,0x3ed4ec,0x3f071a,
		0x3f396a,0x3f6bdc,0x3f9e71,0x3fd128,0x400401,0x4036fd,0x406a1c,0x409d5e,0x40d0c2,0x41044a,0x4137f4,0x416bc1,0x419fb2,0x41d3c6,0x4207fd,0x423c58,
		0x4270d6,0x42a578,0x42da3e,0x430f27,0x434434,0x437965,0x43aeba,0x43e433,0x4419d0,0x444f92,0x448578,0x44bb82,0x44f1b1,0x452804,0x455e7c,0x459519,
		0x45cbdb,0x4602c2,0x4639cd,0x4670fe,0x46a854,0x46dfd0,0x471770,0x474f36,0x478722,0x47bf33,0x47f76a,0x482fc7,0x48684a,0x48a0f3,0x48d9c2,0x4912b7,
		0x494bd2,0x498514,0x49be7c,0x49f80a,0x4a31bf,0x4a6b9b,0x4aa59e,0x4adfc8,0x4b1a18,0x4b5490,0x4b8f2e,0x4bc9f4,0x4c04e2,0x4c3ff6,0x4c7b33,0x4cb696,
		0x4cf222,0x4d2dd5,0x4d69b1,0x4da5b4,0x4de1df,0x4e1e33,0x4e5aae,0x4e9752,0x4ed41f,0x4f1114,0x4f4e31,0x4f8b78,0x4fc8e7,0x50067f,0x504440,0x50822a,
		0x50c03e,0x50fe7a,0x513ce0,0x517b70,0x51ba29,0x51f90c,0x523818,0x52774f,0x52b6af,0x52f63a,0x5335ee,0x5375cd,0x53b5d7,0x53f60a,0x543668,0x5476f1,
		0x54b7a5,0x54f883,0x55398d,0x557ac1,0x55bc21,0x55fdac,0x563f62,0x568143,0x56c351,0x570589,0x5747ee,0x578a7e,0x57cd3b,0x581023,0x585337,0x589678,
		0x58d9e5,0x591d7f,0x596145,0x59a538,0x59e957,0x5a2da3,0x5a721d,0x5ab6c3,0x5afb97,0x5b4098,0x5b85c6,0x5bcb22,0x5c10ab,0x5c5662,0x5c9c47,0x5ce259,
		0x5d289a,0x5d6f09,0x5db5a6,0x5dfc71,0x5e436b,0x5e8a93,0x5ed1ea,0x5f1970,0x5f6125,0x5fa908,0x5ff11b,0x60395d,0x6081ce,0x60ca6e,0x61133e,0x615c3e,
		0x61a56d,0x61eecc,0x62385b,0x62821b,0x62cc0a,0x63162a,0x63607a,0x63aafa,0x63f5ab,0x64408d,0x648ba0,0x64d6e3,0x652258,0x656dfe,0x65b9d5,0x6605dd,
		0x665217,0x669e83,0x66eb20,0x6737f0,0x6784f1,0x67d224,0x681f89,0x686d21,0x68baeb,0x6908e8,0x695717,0x69a579,0x69f40e,0x6a42d6,0x6a91d1,0x6ae100,
		0x6b3061,0x6b7ff6,0x6bcfbf,0x6c1fbb,0x6c6fec,0x6cc050,0x6d10e8,0x6d61b4,0x6db2b5,0x6e03ea,0x6e5554,0x6ea6f2,0x6ef8c5,0x6f4acd,0x6f9d0a,0x6fef7c,
		0x704223,0x709500,0x70e812,0x713b59,0x718ed7,0x71e28a,0x723674,0x728a93,0x72dee9,0x733375,0x738837,0x73dd30,0x743260,0x7487c7,0x74dd65,0x753339,
		0x758945,0x75df89,0x763603,0x768cb6,0x76e3a0,0x773ac2,0x77921c,0x77e9ae,0x784178,0x78997b,0x78f1b6,0x794a2a,0x79a2d6,0x79fbbc,0x7a54da,0x7aae32,
		0x7b07c2,0x7b618d,0x7bbb90,0x7c15ce,0x7c7045,0x7ccaf6,0x7d25e1,0x7d8106,0x7ddc66,0x7e3800,0x7e93d5,0x7eefe4,0x7f4c2e,0x7fa8b3,0x800574,0x80626f,
		0x80bfa6,0x811d18,0x817ac6,0x81d8b0,0x8236d6,0x829538,0x82f3d6,0x8352b0,0x83b1c7,0x84111a,0x8470aa,0x84d077,0x853081,0x8590c8,0x85f14d,0x86520f,
		0x86b30e,0x87144b,0x8775c6,0x87d77f,0x883976,0x889bab,0x88fe1f,0x8960d1,0x89c3c2,0x8a26f2,0x8a8a61,0x8aee0f,0x8b51fc,0x8bb628,0x8c1a95,0x8c7f40,
		0x8ce42c,0x8d4957,0x8daec3,0x8e146f,0x8e7a5b,0x8ee088,0x8f46f6,0x8fada4,0x901493,0x907bc4,0x90e336,0x914ae9,0x91b2de,0x921b14,0x92838d,0x92ec47,
		0x935544,0x93be83,0x942804,0x9491c8,0x94fbcf,0x956619,0x95d0a5,0x963b75,0x96a689,0x9711e0,0x977d7a,0x97e959,0x98557b,0x98c1e1,0x992e8c,0x999b7b,
		0x9a08af,0x9a7628,0x9ae3e5,0x9b51e8,0x9bc030,0x9c2ebd,0x9c9d8f,0x9d0ca8,0x9d7c06,0x9debaa,0x9e5b94,0x9ecbc5,0x9f3c3c,0x9facfa,0xa01dfe,0xa08f4a,
		0xa100dc,0xa172b6,0xa1e4d7,0xa25740,0xa2c9f0,0xa33ce9,0xa3b029,0xa423b2,0xa49783,0xa50b9d,0xa57fff,0xa5f4ab,0xa6699f,0xa6dedd,0xa75464,0xa7ca34,
		0xa8404e,0xa8b6b2,0xa92d60,0xa9a458,0xaa1b9b,0xaa9328,0xab0b00,0xab8323,0xabfb90,0xac7449,0xaced4e,0xad669d,0xade039,0xae5a20,0xaed454,0xaf4ed4,
		0xafc9a0,0xb044b8,0xb0c01e,0xb13bd0,0xb1b7cf,0xb2341c,0xb2b0b6,0xb32d9d,0xb3aad3,0xb42856,0xb4a627,0xb52447,0xb5a2b5,0xb62172,0xb6a07e,0xb71fd8,
		0xb79f82,0xb81f7b,0xb89fc4,0xb9205c,0xb9a145,0xba227d,0xbaa406,0xbb25de,0xbba808,0xbc2a82,0xbcad4e,0xbd306a,0xbdb3d8,0xbe3797,0xbebba8,0xbf400b,
		0xbfc4c0,0xc049c7,0xc0cf20,0xc154cc,0xc1dacb,0xc2611d,0xc2e7c2,0xc36eba,0xc3f606,0xc47da6,0xc50599,0xc58de1,0xc6167d,0xc69f6d,0xc728b2,0xc7b24c,
		0xc83c3b,0xc8c67f,0xc95118,0xc9dc07,0xca674c,0xcaf2e7,0xcb7ed8,0xcc0b1f,0xcc97bd,0xcd24b2,0xcdb1fd,0xce3fa0,0xcecd9a,0xcf5bec,0xcfea95,0xd07996,
		0xd108f0,0xd198a1,0xd228ab,0xd2b90e,0xd349ca,0xd3dadf,0xd46c4d,0xd4fe15,0xd59036,0xd622b1,0xd6b587,0xd748b6,0xd7dc40,0xd87025,0xd90465,0xd99900,
		0xda2df6,0xdac347,0xdb58f5,0xdbeefe,0xdc8563,0xdd1c25,0xddb343,0xde4abe,0xdee296,0xdf7acb,0xe0135d,0xe0ac4d,0xe1459b,0xe1df47,0xe27951,0xe313b9,
		0xe3ae80,0xe449a5,0xe4e52a,0xe5810e,0xe61d52,0xe6b9f5,0xe756f8,0xe7f45b,0xe8921e,0xe93042,0xe9cec6,0xea6dac,0xeb0cf3,0xebac9b,0xec4ca4,0xeced10,
		0xed8ddd,0xee2f0d,0xeed09f,0xef7294,0xf014ec,0xf0b7a7,0xf15ac5,0xf1fe47,0xf2a22c,0xf34676,0xf3eb24,0xf49036,0xf535ad,0xf5db89,0xf681c9,0xf72870,
		0xf7cf7b,0xf876ed,0xf91ec5,0xf9c702,0xfa6fa7,0xfb18b2,0xfbc224,0xfc6bfd,0xfd163d,0xfdc0e5,0xfe6bf5,0xff176d,0xffc34d,0x1006f96,0x1011c48,0x101c962,
		0x10276e6,0x10324d3,0x103d32a,0x10481eb,0x1053116,0x105e0ab,0x10690ab,0x1074116,0x107f1ec,0x108a32d,0x10954da,0x10a06f3,0x10ab978,0x10b6c69,0x10c1fc6,0x10cd391,
		0x10d87c8,0x10e3c6d,0x10ef17f,0x10fa6ff,0x1105cec,0x1111348,0x111ca13,0x112814c,0x11338f4,0x113f10c,0x114a993,0x1156289,0x1161bf0,0x116d5c6,0x117900e,0x1184ac5,
		0x11905ee,0x119c188,0x11a7d93,0x11b3a10,0x11bf6ff,0x11cb461,0x11d7234,0x11e307b,0x11eef34,0x11fae60,0x1206e00,0x1212e14,0x121ee9b,0x122af97,0x1237107,0x12432ed,
		0x124f547,0x125b816,0x1267b5b,0x1273f15,0x1280346,0x128c7ed,0x1298d0a,0x12a529e,0x12b18aa,0x12bdf2c,0x12ca627,0x12d6d99,0x12e3583,0x12efde6,0x12fc6c1,0x1309015,
		0x13159e3,0x132242a,0x132eeea,0x133ba25,0x13485da,0x135520a,0x1361eb4,0x136ebd9,0x137b97a,0x1388796,0x139562e,0x13a2543,0x13af4d4,0x13bc4e1,0x13c956c,0x13d6674,
		0x13e37f9,0x13f09fc,0x13fdc7d,0x140af7d,0x14182fb,0x14256f9,0x1432b75,0x1440071,0x144d5ed,0x145abe9,0x1468265,0x1475961,0x14830df,0x14908de,0x149e15e,0x14aba60,
		0x14b93e4,0x14c6deb,0x14d4874,0x14e2380,0x14eff0f,0x14fdb22,0x150b7b8,0x15194d2,0x1527271,0x1535095,0x1542f3d,0x1550e6b,0x155ee1e,0x156ce57,0x157af16,0x158905c,
		0x1597228,0x15a547b,0x15b3755,0x15c1ab8,0x15cfea1,0x15de314,0x15ec80e,0x15fad92,0x160939e,0x1617a34,0x1626154,0x16348fd,0x1643131,0x16519f0,0x1660339,0x166ed0e,
		0x167d76e,0x168c25a,0x169add2,0x16a99d7,0x16b8668,0x16c7387,0x16d6133,0x16e4f6c,0x16f3e34,0x1702d89,0x1711d6e,0x1720de1,0x172fee4,0x173f076,0x174e298,0x175d54a,
		0x176c88d,0x177bc60,0x178b0c5,0x179a5bb,0x17a9b43,0x17b915d,0x17c880a,0x17d7f49,0x17e771b,0x17f6f81,0x180687a,0x1816208,0x1825c2a,0x18356e0,0x184522c,0x1854e0d,
		0x1864a83,0x1874790,0x1884533,0x189436d,0x18a423d,0x18b41a5,0x18c41a5,0x18d423c,0x18e436c,0x18f4535,0x1904796,0x1914a91,0x1924e26,0x1935254,0x194571d,0x1955c81,
		0x196627f,0x1976919,0x198704f,0x1997821,0x19a808f,0x19b899a,0x19c9342,0x19d9d87,0x19ea86a,0x19fb3eb,0x1a0c00b,0x1a1ccca,0x1a2da27,0x1a3e824,0x1a4f6c1,0x1a605ff,
		0x1a715dc,0x1a8265b,0x1a9377b,0x1aa493c,0x1ab5ba0,0x1ac6ea6,0x1ad824e,0x1ae969a,0x1afab89,0x1b0c11b,0x1b1d752,0x1b2ee2d,0x1b405ae,0x1b51dd3,0x1b6369e,0x1b7500f,
		0x1b86a26,0x1b984e3,0x1baa048,0x1bbbc54,0x1bcd908,0x1bdf664,0x1bf1468,0x1c03316,0x1c1526c,0x1c2726c,0x1c39316,0x1c4b46b,0x1c5d66a,0x1c6f914,0x1c81c69,0x1c9406b,
		0x1ca6519,0x1cb8a73,0x1ccb07a,0x1cdd72f,0x1cefe91,0x1d026a1,0x1d14f60,0x1d278ce,0x1d3a2eb,0x1d4cdb8,0x1d5f934,0x1d72561,0x1d8523f,0x1d97fce,0x1daae0f,0x1dbdd02,
		0x1dd0ca6,0x1de3cfe,0x1df6e09,0x1e09fc7,0x1e1d239,0x1e30560,0x1e4393b,0x1e56dcb,0x1e6a311,0x1e7d90d,0x1e90fbf,0x1ea4728,0x1eb7f47,0x1ecb81f,0x1edf1ae,0x1ef2bf5,
		0x1f066f5,0x1f1a2af,0x1f2df21,0x1f41c4e,0x1f55a35,0x1f698d7,0x1f7d834,0x1f9184c,0x1fa5920,0x1fb9ab1,0x1fcdcff,0x1fe2009,0x1ff63d2,0x200a858,0x201ed9d,0x20333a0,
		0x2047a63,0x205c1e6,0x2070a28,0x208532c,0x2099cf0,0x20ae775,0x20c32bd,0x20d7ec6,0x20ecb92,0x2101922,0x2116774,0x212b68b,0x2140666,0x2155706,0x216a86b,0x217fa96,
		0x2194d86,0x21aa13e,0x21bf5bc,0x21d4b02,0x21ea10f,0x21ff7e5,0x2214f83,0x222a7ea,0x224011c,0x2255b17,0x226b5dc,0x228116d,0x2296dc8,0x22acaf0,0x22c28e4,0x22d87a4,
		0x22ee732,0x230478d,0x231a8b6,0x2330aae,0x2346d74,0x235d10a,0x2373570,0x2389aa6,0x23a00ad,0x23b6785,0x23ccf2e,0x23e37aa,0x23fa0f8,0x2410b1a,0x242760e,0x243e1d7,
		0x2454e74,0x246bbe6,0x2482a2e,0x249994b,0x24b093f,0x24c7a09,0x24debaa,0x24f5e23,0x250d175,0x252459f,0x253baa2,0x255307e,0x256a735,0x2581ec6,0x2599732,0x25b107a,
		0x25c8a9e,0x25e059e,0x25f817b,0x260fe35,0x2627bce,0x263fa45,0x265799a,0x266f9cf,0x2687ae4,0x269fcd9,0x26b7faf,0x26d0366,0x26e87ff,0x2700d7a,0x27193d9,0x2731b1a,
		0x274a33f,0x2762c49,0x277b637,0x279410a,0x27accc4,0x27c5963,0x27de6ea,0x27f7557,0x28104ad,0x28294eb,0x2842611,0x285b821,0x2874b1b,0x288deff,0x28a73ce,0x28c0988,
		0x28da02e,0x28f37c0,0x290d040,0x29269ad,0x2940407,0x2959f51,0x2973b89,0x298d8b1,0x29a76c8,0x29c15d1,0x29db5ca,0x29f56b5,0x2a0f892,0x2a29b62,0x2a43f25,0x2a5e3db,
		0x2a78986,0x2a93026,0x2aad7bb,0x2ac8046,0x2ae29c7,0x2afd43f,0x2b17faf,0x2b32c16,0x2b4d977,0x2b687d0,0x2b83723,0x2b9e770,0x2bb98b8,0x2bd4afb,0x2befe3a,0x2c0b275,
		0x2c267ad,0x2c41de3,0x2c5d517,0x2c78d49,0x2c9467a,0x2cb00ac,0x2ccbbdd,0x2ce780f,0x2d03543,0x2d1f378,0x2d3b2b0,0x2d572eb,0x2d7342a,0x2d8f66d,0x2dab9b5,0x2dc7e02,
		0x2de4355,0x2e009ae,0x2e1d10e,0x2e39976,0x2e562e7,0x2e72d60,0x2e8f8e2,0x2eac56e,0x2ec9305,0x2ee61a7,0x2f03154,0x2f2020e,0x2f3d3d5,0x2f5a6a9,0x2f77a8b,0x2f94f7c,
		0x2fb257c,0x2fcfc8c,0x2fed4ac,0x300addd,0x302881f,0x3046374,0x3063fdc,0x3081d57,0x309fbe6,0x30bdb89,0x30dbc42,0x30f9e10,0x31180f5,0x31364f1,0x3154a04,0x3173030,
		0x3191775,0x31affd3,0x31ce94a,0x31ed3dd,0x320bf8b,0x322ac55,0x3249a3b,0x326893f,0x3287960,0x32a6aa0,0x32c5cfe,0x32e507d,0x330451b,0x3323adb,0x33431bc,0x33629bf,
		0x33822e5,0x33a1d2e,0x33c189b,0x33e152d,0x34012e5,0x34211c2,0x34411c6,0x34612f2,0x3481545,0x34a18c1,0x34c1d66,0x34e2334,0x3502a2e,0x3523252,0x3543ba2,0x356461f,
		0x35851c9,0x35a5ea1,0x35c6ca7,0x35e7bdc,0x3608c41,0x3629dd6,0x364b09c,0x366c494,0x368d9bf,0x36af01c,0x36d07ae,0x36f2073,0x3713a6e,0x373559f,0x3757206,0x3778fa4,
		0x379ae7a,0x37bce88,0x37defd0,0x3801251,0x382360d,0x3845b04,0x3868137,0x388a8a7,0x38ad154,0x38cfb3f,0x38f2668,0x39152d1,0x393807a,0x395af64,0x397df8f,0x39a10fc,
		0x39c43ad,0x39e77a0,0x3a0acd8,0x3a2e355,0x3a51b18,0x3a75421,0x3a98e72,0x3abca0a,0x3ae06ea,0x3b04514,0x3b28488,0x3b4c546,0x3b70750,0x3b94aa6,0x3bb8f49,0x3bdd53a,
		0x3c01c79,0x3c26507,0x3c4aee4,0x3c6fa12,0x3c94692,0x3cb9463,0x3cde387,0x3d033ff,0x3d285cb,0x3d4d8ec,0x3d72d62,0x3d9832f,0x3dbda53,0x3de32cf,0x3e08ca4,0x3e2e7d2,
		0x3e5445a,0x3e7a23d,0x3ea017c,0x3ec6217,0x3eec410,0x3f12766,0x3f38c1c,0x3f5f231,0x3f859a6,0x3fac27c,0x3fd2cb4,0x3ff984e,0x402054c,0x40473ae,0x406e375,0x40954a2,
		0x40bc735,0x40e3b2f,0x410b091,0x413275d,0x4159f91,0x4181931,0x41a943b,0x41d10b1,0x41f8e95,0x4220de5,0x4248ea5,0x42710d3,0x4299471,0x42c1980,0x42ea001,0x43127f4,
		0x433b15a,0x4363c34,0x438c883,0x43b5648,0x43de583,0x4407636,0x4430860,0x4459c03,0x4483121,0x44ac7b8,0x44d5fcb,0x44ff95a,0x4529467,0x45530f1,0x457cefa,0x45a6e82,
		0x45d0f8b,0x45fb215,0x4625621,0x464fbb0,0x467a2c3,0x46a4b5a,0x46cf577,0x46fa11a,0x4724e44,0x474fcf6,0x477ad31,0x47a5ef6,0x47d1245,0x47fc720,0x4827d87,0x485357b,
		0x487eefd,0x48aaa0e,0x48d66af,0x49024e1,0x492e4a4,0x495a5f9,0x49868e2,0x49b2d5f,0x49df370,0x4a0bb18,0x4a38457,0x4a64f2d,0x4a91b9c,0x4abe9a4,0x4aeb947,0x4b18a85,
		0x4b45d5f,0x4b731d6,0x4ba07eb,0x4bcdf9f,0x4bfb8f3,0x4c293e7,0x4c5707d,0x4c84eb6,0x4cb2e92,0x4ce1012,0x4d0f338,0x4d3d804,0x4d6be76,0x4d9a691,0x4dc9055,0x4df7bc3,
		0x4e268db,0x4e557a0,0x4e84810,0x4eb3a2f,0x4ee2dfc,0x4f12378,0x4f41aa5,0x4f71384,0x4fa0e14,0x4fd0a58,0x5000851,0x50307fe,0x5060961,0x5090c7c,0x50c114e,0x50f17da,
		0x5122020,0x5152a20,0x51835dc,0x51b4356,0x51e528d,0x5216383,0x5247639,0x5278aaf,0x52aa0e7,0x52db8e2,0x530d2a1,0x533ee25,0x5370b6e,0x53a2a7e,0x53d4b55,0x5406df5,
		0x543925f,0x546b894,0x549e094,0x54d0a61,0x55035fc,0x5536365,0x556929e,0x559c3a8,0x55cf683,0x5602b32,0x56361b4,0x5669a0b,0x569d437,0x56d103b,0x5704e16,0x5738dcb,
		0x576cf59,0x57a12c3,0x57d5808,0x5809f2a,0x583e82b,0x587330b,0x58a7fca,0x58dce6c,0x5911eef,0x5947156,0x597c5a1,0x59b1bd2,0x59e73e9,0x5a1cde8,0x5a529d0,0x5a887a1,
		0x5abe75d,0x5af4905,0x5b2ac9a,0x5b6121d,0x5b9798f,0x5bce2f1,0x5c04e45,0x5c3bb8b,0x5c72ac4,0x5ca9bf2,0x5ce0f16,0x5d18430,0x5d4fb43,0x5d8744e,0x5dbef53,0x5df6c53,
		0x5e2eb50,0x5e66c4a,0x5e9ef43,0x5ed743b,0x5f0fb34,0x5f4842f,0x5f80f2c,0x5fb9c2e,0x5ff2b35,0x602bc43,0x6064f58,0x609e475,0x60d7b9d,0x61114cf,0x614b00e,0x6184d59,
		0x61becb3,0x61f8e1d,0x6233197,0x626d723,0x62a7ec2,0x62e2875,0x631d43e,0x635821d,0x6393213,0x63ce423,0x640984c,0x6444e91,0x64806f2,0x64bc170,0x64f7e0d,0x6533ccb,
		0x656fda9,0x65ac0a9,0x65e85cd,0x6624d16,0x6661685,0x669e21b,0x66dafd9,0x6717fc0,0x67551d3,0x6792611,0x67cfc7c,0x680d516,0x684afe0,0x6888cda,0x68c6c06,0x6904d66,
		0x69430fa,0x69816c4,0x69bfec5,0x69fe8fe,0x6a3d571,0x6a7c41e,0x6abb507,0x6afa82e,0x6b39d93,0x6b79538,0x6bb8f1e,0x6bf8b46,0x6c389b2,0x6c78a62,0x6cb8d59,0x6cf9297,
		0x6d39a1e,0x6d7a3ee,0x6dbb00a,0x6dfbe72,0x6e3cf28,0x6e7e22e,0x6ebf783,0x6f00f2a,0x6f42925,0x6f84573,0x6fc6417,0x7008512,0x704a865,0x708ce12,0x70cf619,0x711207d,
		0x7154d3e,0x7197c5e,0x71daddf,0x721e1c0,0x7261805,0x72a50ae,0x72e8bbc,0x732c931,0x737090e,0x73b4b55,0x73f9006,0x743d724,0x74820b0,0x74c6caa,0x750bb15,0x7550bf2,
		0x7595f42,0x75db506,0x7620d40,0x76667f1,0x76ac51b,0x76f24bf,0x77386de,0x777eb7a,0x77c5295,0x780bc2e,0x7852849,0x78996e7,0x78e0808,0x7927bae,0x796f1db,0x79b6a90,
		0x79fe5ce,0x7a46398,0x7a8e3ed,0x7ad66d1,0x7b1ec43,0x7b67447,0x7bafedc,0x7bf8c05,0x7c41bc3,0x7c8ae17,0x7cd4303,0x7d1da89,0x7d674a9,0x7db1166,0x7dfb0c0,0x7e452ba,
		0x7e8f754,0x7ed9e90,0x7f24870,0x7f6f4f5,0x7fba421,0x80055f5,0x8050a72,0x809c19b,0x80e7b70,0x81337f3,0x817f726,0x81cb90a,0x8217da0,0x82644eb,0x82b0eeb,0x82fdba3,
		0x834ab13,0x8397d3d,0x83e5223,0x84329c7,0x8480429,0x84ce14c,0x851c131,0x856a3d9,0x85b8947,0x860717a,0x8655c77,0x86a4a3c,0x86f3ace,0x8742e2c,0x8792458,0x87e1d55,
		0x8831923,0x88817c4,0x88d193b,0x8921d87,0x89724ac,0x89c2eaa,0x8a13b84,0x8a64b3a,0x8ab5dce,0x8b07343,0x8b58b9a,0x8baa6d3,0x8bfc4f2,0x8c4e5f7,0x8ca09e4,0x8cf30bb,
		0x8d45a7d,0x8d9872d,0x8deb6cb,0x8e3e95a,0x8e91edb,0x8ee574f,0x8f392b9,0x8f8d11a,0x8fe1274,0x90356c8,0x9089e18,0x90de865,0x91335b3,0x9188601,0x91dd952,0x9232fa8,
		0x9288903,0x92de567,0x93344d5,0x938a74d,0x93e0cd3,0x9437568,0x948e10d,0x94e4fc4,0x953c18f,0x9593670,0x95eae68,0x964297a,0x969a7a6,0x96f28ef,0x974ad57,0x97a34de,
		0x97fbf88,0x9854d55,0x98ade48,0x9907262,0x99609a5,0x99ba413,0x9a141ae,0x9a6e277,0x9ac8670,0x9b22d9b,0x9b7d7fa,0x9bd858f,0x9c3365b,0x9c8ea60,0x9cea1a0,0x9d45c1d,
		0x9da19d9,0x9dfdad5,0x9e59f14,0x9eb6697,0x9f13160,0x9f6ff71,0x9fcd0cb,0xa02a571,0xa087d65,0xa0e58a8,0xa14373c,0xa1a1924,0xa1ffe60,0xa25e6f3,0xa2bd2df,0xa31c225,
		0xa37b4c8,0xa3daac9,0xa43a42b,0xa49a0ef,0xa4fa117,0xa55a4a5,0xa5bab9b,0xa61b5fa,0xa67c3c6,0xa6dd4ff,0xa73e9a9,0xa7a01c3,0xa801d51,0xa863c55,0xa8c5ed1,0xa9284c5,
		0xa98ae35,0xa9edb23,0xaa50b90,0xaab3f7e,0xab176ef,0xab7b1e6,0xabdf064,0xac4326b,0xaca77fe,0xad0c11e,0xad70dcd,0xadd5e0d,0xae3b1e1,0xaea094a,0xaf0644a,0xaf6c2e4,
		0xafd251a,0xb038aec,0xb09f45f,0xb106172,0xb16d22a,0xb1d4687,0xb23be8c,0xb2a3a3a,0xb30b995,0xb373c9e,0xb3dc356,0xb444dc1,0xb4adbe0,0xb516db5,0xb580343,0xb5e9c8b,
		0xb653990,0xb6bda54,0xb727ed8,0xb792720,0xb7fd32c,0xb868300,0xb8d369d,0xb93ee06,0xb9aa93d,0xba16843,0xba82b1c,0xbaef1c8,0xbb5bc4b,0xbbc8aa7,0xbc35cdd,0xbca32f0,
		0xbd10ce2,0xbd7eab6,0xbdecc6d,0xbe5b209,0xbec9b8d,0xbf388fc,0xbfa7a57,0xc016fa0,0xc0868da,0xc0f6607,0xc16672a,0xc1d6c44,0xc247557,0xc2b8267,0xc329374,0xc39a883,
		0xc40c194,0xc47deaa,0xc4effc7,0xc5624ee,0xc5d4e21,0xc647b62,0xc6bacb4,0xc72e219,0xc7a1b92,0xc815923,0xc889ace,0xc8fe095,0xc972a7a,0xc9e7880,0xca5caa9,0xcad20f7,
		0xcb47b6e,0xcbbda0e,0xcc33cdb,0xccaa3d7,0xcd20f04,0xcd97e65,0xce0f1fc,0xce869cb,0xcefe5d5,0xcf7661c,0xcfeeaa3,0xd06736c,0xd0e0079,0xd1591cd,0xd1d276b,0xd24c154,
		0xd2c5f8b,0xd340214,0xd3ba8ef,0xd43541f,0xd4b03a8,0xd52b78b,0xd5a6fcb,0xd622c6b,0xd69ed6c,0xd71b2d2,0xd797c9e,0xd814ad4,0xd891d76,0xd90f487,0xd98d008,0xda0affd,
		0xda89468,0xdb07d4b,0xdb86aa9,0xdc05c85,0xdc852e1,0xdd04dc0,0xdd84d24,0xde05110,0xde85987,0xdf0668a,0xdf8781d,0xe008e43,0xe08a8fd,0xe10c84e,0xe18ec3a,0xe2114c2,
		0xe2941e9,0xe3173b3,0xe39aa21,0xe41e536,0xe4a24f5,0xe526960,0xe5ab27b,0xe630047,0xe6b52c8,0xe73aa00,0xe7c05f2,0xe8466a1,0xe8ccc0e,0xe95363e,0xe9da532,0xea618ee,
		0xeae9173,0xeb70ec6,0xebf90e8,0xec817dd,0xed0a3a6,0xed93447,0xee1c9c3,0xeea641c,0xef30355,0xefba772,0xf045073,0xf0cfe5d,0xf15b133,0xf1e68f6,0xf2725ab,0xf2fe753,
		0xf38adf1,0xf417989,0xf4a4a1d,0xf531fb0,0xf5bfa45,0xf64d9df,0xf6dbe80,0xf76a82c,0xf7f96e5,0xf888aae,0xf91838a,0xf9a817d,0xfa38488,0xfac8caf,0xfb599f4,0xfbeac5c,
		0xfc7c3e8,0xfd0e09b,0xfda0279,0xfe32984,0xfec55c0,0xff5872f,0xffebdd4,0x1007f9b2,0x10113acd,0x101a8127,0x1023ccc3,0x102d1da5,0x103673ce,0x103fcf43,0x10493006,0x1052961b,
		0x105c0184,0x10657244,0x106ee85f,0x107863d7,0x1081e4b0,0x108b6aec,0x1094f68f,0x109e879c,0x10a81e16,0x10b1ba00,0x10bb5b5d,0x10c50230,0x10ceae7d,0x10d86046,0x10e2178f,0x10ebd45a,
		0x10f596ac,0x10ff5e86,0x11092bed,0x1112fee3,0x111cd76c,0x1126b58b,0x11309942,0x113a8296,0x11447189,0x114e661f,0x1158605b,0x1162603f,0x116c65d0,0x11767111,0x11808204,0x118a98ae,
		0x1194b511,0x119ed730,0x11a8ff0f,0x11b32cb2,0x11bd601b,0x11c7994e,0x11d1d84e,0x11dc1d1f,0x11e667c3,0x11f0b83e,0x11fb0e94,0x12056ac8,0x120fccdd,0x121a34d6,0x1224a2b7,0x122f1684,
		0x1239903f,0x12440fed,0x124e9590,0x1259212c,0x1263b2c4,0x126e4a5c,0x1278e7f7,0x12838b99,0x128e3545,0x1298e4ff,0x12a39aca,0x12ae56a9,0x12b918a0,0x12c3e0b3,0x12ceaee5,0x12d98339,
		0x12e45db4,0x12ef3e58,0x12fa2529,0x1305122b,0x13100561,0x131afecf,0x1325fe78,0x13310460,0x133c108b,0x134722fc,0x13523bb6,0x135d5abe,0x13688017,0x1373abc4,0x137eddca,0x138a162b,
		0x139554ec,0x13a09a10,0x13abe59b,0x13b73791,0x13c28ff4,0x13cdeeca,0x13d95415,0x13e4bfd9,0x13f0321b,0x13fbaadd,0x14072a24,0x1412aff3,0x141e3c4e,0x1429cf39,0x143568b7,0x144108cd,
		0x144caf7d,0x14585ccd,0x146410bf,0x146fcb58,0x147b8c9c,0x1487548d,0x14932331,0x149ef88a,0x14aad49d,0x14b6b76e,0x14c2a100,0x14ce9158,0x14da8879,0x14e68667,0x14f28b26,0x14fe96ba,
		0x150aa928,0x1516c272,0x1522e29d,0x152f09ad,0x153b37a5,0x15476c8b,0x1553a861,0x155feb2c,0x156c34f0,0x157885b0,0x1584dd72,0x15913c38,0x159da207,0x15aa0ee3,0x15b682d0,0x15c2fdd2,
		0x15cf7fed,0x15dc0926,0x15e8997f,0x15f530ff,0x1601cfa8,0x160e757e,0x161b2287,0x1627d6c5,0x1634923e,0x164154f5,0x164e1eee,0x165af02f,0x1667c8ba,0x1674a894,0x16818fc2,0x168e7e47,
		0x169b7428,0x16a87169,0x16b5760e,0x16c2821c,0x16cf9596,0x16dcb082,0x16e9d2e3,0x16f6fcbe,0x17042e17,0x171166f2,0x171ea754,0x172bef41,0x17393ebe,0x174695ce,0x1753f477,0x17615abc,
		0x176ec8a2,0x177c3e2d,0x1789bb62,0x17974045,0x17a4ccdb,0x17b26128,0x17bffd31,0x17cda0f9,0x17db4c87,0x17e8ffdd,0x17f6bb00,0x18047df6,0x181248c2,0x18201b69,0x182df5f0,0x183bd85b,
		0x1849c2af,0x1857b4f0,0x1865af23,0x1873b14c,0x1881bb70,0x188fcd95,0x189de7bd,0x18ac09ef,0x18ba342e,0x18c8667f,0x18d6a0e8,0x18e4e36c,0x18f32e11,0x190180da,0x190fdbcd,0x191e3eef,
		0x192caa44,0x193b1dd2,0x1949999b,0x19581da7,0x1966a9f9,0x19753e95,0x1983db82,0x199280c4,0x19a12e5f,0x19afe458,0x19bea2b5,0x19cd697a,0x19dc38ac,0x19eb104f,0x19f9f06a,0x1a08d900,
		0x1a17ca17,0x1a26c3b3,0x1a35c5da,0x1a44d090,0x1a53e3db,0x1a62ffbf,0x1a722441,0x1a815167,0x1a908735,0x1a9fc5b1,0x1aaf0cdf,0x1abe5cc5,0x1acdb567,0x1add16cb,0x1aec80f5,0x1afbf3ec,
		0x1b0b6fb3,0x1b1af450,0x1b2a81c9,0x1b3a1822,0x1b49b760,0x1b595f89,0x1b6910a2,0x1b78cab0,0x1b888db8,0x1b9859bf,0x1ba82ecb,0x1bb80ce2,0x1bc7f407,0x1bd7e441,0x1be7dd94,0x1bf7e007,
		0x1c07eb9d,0x1c18005e,0x1c281e4d,0x1c384571,0x1c4875ce,0x1c58af6b,0x1c68f24c,0x1c793e76,0x1c8993f0,0x1c99f2bf,0x1caa5ae7,0x1cbacc6f,0x1ccb475c,0x1cdbcbb4,0x1cec597b,0x1cfcf0b8,
		0x1d0d9170,0x1d1e3ba8,0x1d2eef66,0x1d3facb0,0x1d50738a,0x1d6143fc,0x1d721e09,0x1d8301b9,0x1d93ef10,0x1da4e614,0x1db5e6ca,0x1dc6f139,0x1dd80566,0x1de92357,0x1dfa4b11,0x1e0b7c9b,
		0x1e1cb7f9,0x1e2dfd32,0x1e3f4c4b,0x1e50a54a,0x1e620835,0x1e737512,0x1e84ebe6,0x1e966cb7,0x1ea7f78b,0x1eb98c69,0x1ecb2b55,0x1edcd456,0x1eee8771,0x1f0044ad,0x1f120c0f,0x1f23dd9d,
		0x1f35b95e,0x1f479f57,0x1f598f8e,0x1f6b8a09,0x1f7d8ece,0x1f8f9de4,0x1fa1b74f,0x1fb3db17,0x1fc60941,0x1fd841d3,0x1fea84d4,0x1ffcd249,0x200f2a39,0x20218ca9,0x2033f9a1,0x20467125,
		0x2058f33d,0x206b7fee,0x207e173f,0x2090b935,0x20a365d8,0x20b61d2d,0x20c8df3a,0x20dbac06,0x20ee8397,0x210165f4,0x21145323,0x21274b29,0x213a4e0e,0x214d5bd7,0x2160748c,0x21739832,
		0x2186c6d1,0x219a006d,0x21ad450f,0x21c094bb,0x21d3ef7a,0x21e75550,0x21fac646,0x220e4260,0x2221c9a7,0x22355c1f,0x2248f9d1,0x225ca2c2,0x227056f9,0x2284167d,0x2297e154,0x22abb785,
		0x22bf9916,0x22d3860f,0x22e77e75,0x22fb8251,0x230f91a8,0x2323ac80,0x2337d2e2,0x234c04d3,0x2360425b,0x23748b80,0x2388e049,0x239d40bd,0x23b1ace3,0x23c624c1,0x23daa85e,0x23ef37c2,
		0x2403d2f4,0x241879f9,0x242d2cda,0x2441eb9d,0x2456b648,0x246b8ce4,0x24806f78,0x24955e09,0x24aa589f,0x24bf5f42,0x24d471f8,0x24e990c9,0x24febbbb,0x2513f2d6,0x25293621,0x253e85a2,
		0x2553e162,0x25694968,0x257ebdba,0x25943e60,0x25a9cb61,0x25bf64c4,0x25d50a91,0x25eabccf,0x26007b85,0x261646bb,0x262c1e78,0x264202c4,0x2657f3a5,0x266df123,0x2683fb46,0x269a1216,
		0x26b03598,0x26c665d6,0x26dca2d6,0x26f2eca0,0x2709433c,0x271fa6b1,0x27361706,0x274c9444,0x27631e72,0x2779b597,0x279059bc,0x27a70ae7,0x27bdc921,0x27d49471,0x27eb6cdf,0x28025273,
		0x28194534,0x2830452b,0x2847525e,0x285e6cd6,0x2875949b,0x288cc9b5,0x28a40c2a,0x28bb5c04,0x28d2b94b,0x28ea2405,0x29019c3b,0x291921f6,0x2930b53c,0x29485616,0x2960048d,0x2977c0a7,
		0x298f8a6e,0x29a761e9,0x29bf4720,0x29d73a1b,0x29ef3ae3,0x2a074980,0x2a1f65f9,0x2a379058,0x2a4fc8a4,0x2a680ee6,0x2a806325,0x2a98c56a,0x2ab135be,0x2ac9b429,0x2ae240b2,0x2afadb63,
		0x2b138444,0x2b2c3b5d,0x2b4500b6,0x2b5dd458,0x2b76b64c,0x2b8fa69a,0x2ba8a54a,0x2bc1b266,0x2bdacdf4,0x2bf3f7ff,0x2c0d308f,0x2c2677ac,0x2c3fcd5e,0x2c5931af,0x2c72a4a8,0x2c8c2650,
		0x2ca5b6b0,0x2cbf55d3,0x2cd903bf,0x2cf2c07e,0x2d0c8c18,0x2d266697,0x2d405003,0x2d5a4866,0x2d744fc7,0x2d8e6630,0x2da88baa,0x2dc2c03e,0x2ddd03f4,0x2df756d6,0x2e11b8ed,0x2e2c2a42,
		0x2e46aadd,0x2e613ac8,0x2e7bda0c,0x2e9688b2,0x2eb146c4,0x2ecc1449,0x2ee6f14d,0x2f01ddd7,0x2f1cd9f1,0x2f37e5a4,0x2f5300f9,0x2f6e2bfb,0x2f8966b1,0x2fa4b126,0x2fc00b63,0x2fdb7571,
		0x2ff6ef59,0x30127926,0x302e12e0,0x3049bc91,0x30657642,0x30813ffd,0x309d19cc,0x30b903b8,0x30d4fdca,0x30f1080d,0x310d228a,0x31294d4a,0x31458858,0x3161d3bc,0x317e2f81,0x319a9bb1,
		0x31b71855,0x31d3a577,0x31f04321,0x320cf15c,0x3229b033,0x32467fb0,0x32635fdc,0x328050c1,0x329d526a,0x32ba64e0,0x32d7882e,0x32f4bc5c,0x33120176,0x332f5786,0x334cbe96,0x336a36af,
		0x3387bfdc,0x33a55a27,0x33c3059b,0x33e0c242,0x33fe9025,0x341c6f4f,0x343a5fcb,0x345861a3,0x347674e1,0x3494998f,0x34b2cfb9,0x34d11768,0x34ef70a7,0x350ddb80,0x352c57ff,0x354ae62d,
		0x35698615,0x358837c1,0x35a6fb3d,0x35c5d093,0x35e4b7cd,0x3603b0f7,0x3622bc1a,0x3641d943,0x3661087b,0x368049cd,0x369f9d44,0x36bf02ec,0x36de7acf,0x36fe04f7,0x371da170,0x373d5045,
		0x375d1181,0x377ce52e,0x379ccb58,0x37bcc40a,0x37dccf50,0x37fced33,0x381d1dbf,0x383d6100,0x385db701,0x387e1fcc,0x389e9b6e,0x38bf29f1,0x38dfcb61,0x39007fc9,0x39214734,0x394221ae,
		0x39630f43,0x39840ffe,0x39a523e9,0x39c64b12,0x39e78582,0x3a08d347,0x3a2a346b,0x3a4ba8fb,0x3a6d3101,0x3a8ecc89,0x3ab07ba0,0x3ad23e51,0x3af414a7,0x3b15feaf,0x3b37fc74,0x3b5a0e03,
		0x3b7c3366,0x3b9e6cab,0x3bc0b9dc,0x3be31b06,0x3c059035,0x3c281976,0x3c4ab6d3,0x3c6d6859,0x3c902e15,0x3cb30812,0x3cd5f65c,0x3cf8f900,0x3d1c100b,0x3d3f3b87,0x3d627b82,0x3d85d009,
		0x3da93926,0x3dccb6e7,0x3df04959,0x3e13f087,0x3e37ac7d,0x3e5b7d4a,0x3e7f62f9,0x3ea35d96,0x3ec76d2f,0x3eeb91d0,0x3f0fcb85,0x3f341a5c,0x3f587e60,0x3f7cf7a0,0x3fa18627,0x3fc62a03,
		0x3feae340,0x400fb1eb,0x40349612,0x40598fc0,0x407e9f04,0x40a3c3ea,0x40c8fe7f,0x40ee4ed0,0x4113b4eb,0x413930dc,0x415ec2b1,0x41846a76,0x41aa283a,0x41cffc0a,0x41f5e5f2,0x421be600,
		0x4241fc42,0x426828c5,0x428e6b96,0x42b4c4c3,0x42db3459,0x4301ba66,0x432856f8,0x434f0a1b,0x4375d3df,0x439cb450,0x43c3ab7c,0x43eab970,0x4411de3c,0x443919ec,0x44606c8e,0x4487d631,
		0x44af56e1,0x44d6eeae,0x44fe9da5,0x452663d4,0x454e4149,0x45763612,0x459e423e,0x45c665da,0x45eea0f5,0x4616f39d,0x463f5de0,0x4667dfcd,0x46907971,0x46b92adc,0x46e1f41c,0x470ad53e,
		0x4733ce52,0x475cdf67,0x4786088a,0x47af49ca,0x47d8a336,0x480214dd,0x482b9ecd,0x48554115,0x487efbc4,0x48a8cee8,0x48d2ba91,0x48fcbecd,0x4926dbab,0x4951113b,0x497b5f8b,0x49a5c6a9,
		0x49d046a7,0x49fadf91,0x4a259178,0x4a505c6b,0x4a7b4079,0x4aa63db1,0x4ad15422,0x4afc83dd,0x4b27ccef,0x4b532f6a,0x4b7eab5b,0x4baa40d3,0x4bd5efe0,0x4c01b894,0x4c2d9afd,0x4c59972b,
		0x4c85ad2d,0x4cb1dd13,0x4cde26ee,0x4d0a8acd,0x4d3708bf,0x4d63a0d5,0x4d90531e,0x4dbd1fab,0x4dea068b,0x4e1707cf,0x4e442386,0x4e7159c2,0x4e9eaa90,0x4ecc1604,0x4ef99c2b,0x4f273d17,
		0x4f54f8d8,0x4f82cf7e,0x4fb0c119,0x4fdecdbb,0x500cf574,0x503b3853,0x5069966b,0x50980fca,0x50c6a483,0x50f554a5,0x51242042,0x5153076a,0x51820a2e,0x51b1289e,0x51e062cd,0x520fb8ca,
		0x523f2aa7,0x526eb874,0x529e6244,0x52ce2826,0x52fe0a2c,0x532e0868,0x535e22ea,0x538e59c4,0x53bead07,0x53ef1cc5,0x541fa90e,0x545051f5,0x5481178b,0x54b1f9e1,0x54e2f90a,0x55141516,
		0x55454e17,0x5576a420,0x55a81741,0x55d9a78e,0x560b5516,0x563d1fee,0x566f0825,0x56a10dcf,0x56d330fe,0x570571c3,0x5737d031,0x576a4c59,0x579ce64f,0x57cf9e24,0x580273eb,0x583567b6,
		0x58687997,0x589ba9a1,0x58cef7e7,0x5902647b,0x5935ef6f,0x596998d6,0x599d60c3,0x59d14749,0x5a054c7b,0x5a39706a,0x5a6db32b,0x5aa214d0,0x5ad6956c,0x5b0b3512,0x5b3ff3d5,0x5b74d1c8,
		0x5ba9cefe,0x5bdeeb8c,0x5c142783,0x5c4982f7,0x5c7efdfc,0x5cb498a5,0x5cea5306,0x5d202d31,0x5d56273b,0x5d8c4137,0x5dc27b39,0x5df8d554,0x5e2f4f9d,0x5e65ea26,0x5e9ca505,0x5ed3804c,
		0x5f0a7c10,0x5f419865,0x5f78d55e,0x5fb03311,0x5fe7b191,0x601f50f2,0x60571148,0x608ef2a9,0x60c6f528,0x60ff18d9,0x61375dd2,0x616fc426,0x61a84beb,0x61e0f534,0x6219c017,0x6252aca8,
		0x628bbafd,0x62c4eb29,0x62fe3d42,0x6337b15d,0x6371478e,0x63aaffeb,0x63e4da8a,0x641ed77e,0x6458f6dd,0x649338bd,0x64cd9d33,0x65082454,0x6542ce35,0x657d9aed,0x65b88a90,0x65f39d35,
		0x662ed2f0,0x666a2bd8,0x66a5a803,0x66e14785,0x671d0a76,0x6758f0ea,0x6794faf8,0x67d128b6,0x680d7a3b,0x6849ef9b,0x688688ee,0x68c34649,0x690027c4,0x693d2d73,0x697a576f,0x69b7a5cc,
		0x69f518a3,0x6a32b009,0x6a706c15,0x6aae4cdd,0x6aec5279,0x6b2a7d00,0x6b68cc88,0x6ba74128,0x6be5daf7,0x6c249a0c,0x6c637e7f,0x6ca28867,0x6ce1b7da,0x6d210cf1,0x6d6087c2,0x6da02864,
		0x6ddfeef1,0x6e1fdb7e,0x6e5fee24,0x6ea026fa,0x6ee08618,0x6f210b96,0x6f61b78b,0x6fa28a10,0x6fe3833c,0x7024a328,0x7065e9eb,0x70a7579e,0x70e8ec59,0x712aa834,0x716c8b48,0x71ae95ad,
		0x71f0c77b,0x723320cb,0x7275a1b6,0x72b84a54,0x72fb1abd,0x733e130c,0x73813358,0x73c47bba,0x7407ec4c,0x744b8526,0x748f4662,0x74d33018,0x75174263,0x755b7d5b,0x759fe119,0x75e46db7,
		0x7629234f,0x766e01fa,0x76b309d1,0x76f83aef,0x773d956d,0x77831965,0x77c8c6f0,0x780e9e2a,0x78549f2b,0x789aca0e,0x78e11eed,0x79279de2,0x796e4708,0x79b51a78,0x79fc184e,0x7a4340a4,
		0x7a8a9394,0x7ad21139,0x7b19b9ae,0x7b618d0d,0x7ba98b71,0x7bf1b4f6,0x7c3a09b6,0x7c8289cb,0x7ccb3552,0x7d140c66,0x7d5d0f21,0x7da63da0,0x7def97fc,0x7e391e53,0x7e82d0bf,0x7eccaf5c,
		0x7f16ba46,0x7f60f198,0x7fab556f,0x7ff5e5e6,0x8040a318,0x808b8d23,0x80d6a423,0x8121e832,0x816d596f,0x81b8f7f4,0x8204c3df,0x8250bd4c,0x829ce457,0x82e9391e,0x8335bbbc,0x83826c4e,
		0x83cf4af2,0x841c57c5,0x846992e2,0x84b6fc68,0x85049474,0x85525b22,0x85a05090,0x85ee74dc,0x863cc822,0x868b4a81,0x86d9fc16,0x8728dcfe,0x8777ed58,0x87c72d41,0x88169cd7,0x88663c38,
		0x88b60b83,0x89060ad5,0x89563a4c,0x89a69a07,0x89f72a25,0x8a47eac3,0x8a98dc00,0x8ae9fdfb,0x8b3b50d3,0x8b8cd4a6,0x8bde8993,0x8c306fb9,0x8c828738,0x8cd4d02d,0x8d274ab9,0x8d79f6fb,
		0x8dccd511,0x8e1fe51c,0x8e73273b,0x8ec69b8d,0x8f1a4233,0x8f6e1b4b,0x8fc226f6,0x90166554,0x906ad685,0x90bf7aa8,0x911451de,0x91695c47,0x91be9a04,0x92140b34,0x9269aff9,0x92bf8873,
		0x931594c3,0x936bd509,0x93c24967,0x9418f1fc,0x946fceeb,0x94c6e054,0x951e2659,0x9575a11a,0x95cd50ba,0x96253559,0x967d4f19,0x96d59e1c,0x972e2283,0x9786dc71,0x97dfcc07,0x9838f167,
		0x98924cb3,0x98ebde0e,0x9945a599,0x999fa377,0x99f9d7ca,0x9a5442b5,0x9aaee45b,0x9b09bcde,0x9b64cc61,0x9bc01307,0x9c1b90f2,0x9c774646,0x9cd33327,0x9d2f57b6,0x9d8bb419,0x9de84871,
		0x9e4514e3,0x9ea21992,0x9eff56a1,0x9f5ccc36,0x9fba7a73,0xa018617d,0xa0768177,0xa0d4da86,0xa1336cce,0xa1923874,0xa1f13d9c,0xa2507c6a,0xa2aff503,0xa30fa78c,0xa36f942b,0xa3cfbb02,
		0xa4301c39,0xa490b7f3,0xa4f18e57,0xa5529f89,0xa5b3ebaf,0xa61572ef,0xa677356e,0xa6d93351,0xa73b6cbf,0xa79de1de,0xa80092d4,0xa8637fc6,0xa8c6a8db,0xa92a0e3a,0xa98db008,0xa9f18e6d,
		0xaa55a98f,0xaaba0194,0xab1e96a4,0xab8368e6,0xabe87880,0xac4dc599,0xacb3505a,0xad1918e9,0xad7f1f6e,0xade56410,0xae4be6f7,0xaeb2a84b,0xaf19a833,0xaf80e6d9,0xafe86463,0xb05020fa,
		0xb0b81cc6,0xb12057f0,0xb188d2a0,0xb1f18cff,0xb25a8735,0xb2c3c16c,0xb32d3bcc,0xb396f67f,0xb400f1ad,0xb46b2d80,0xb4d5aa21,0xb54067ba,0xb5ab6674,0xb616a67a,0xb68227f4,0xb6edeb0d,
		0xb759efef,0xb7c636c4,0xb832bfb6,0xb89f8af0,0xb90c989c,0xb979e8e5,0xb9e77bf5,0xba5551f8,0xbac36b18,0xbb31c780,0xbba0675c,0xbc0f4ad6,0xbc7e721b,0xbceddd56,0xbd5d8cb2,0xbdcd805b,
		0xbe3db87d,0xbeae3545,0xbf1ef6dd,0xbf8ffd73,0xc0014932,0xc072da48,0xc0e4b0e0,0xc156cd28,0xc1c92f4c,0xc23bd779,0xc2aec5dc,0xc321faa3,0xc39575fa,0xc409380f,0xc47d4110,0xc4f1912b,
		0xc566288c,0xc5db0763,0xc6502ddc,0xc6c59c27,0xc73b5271,0xc7b150e9,0xc82797bd,0xc89e271c,0xc914ff35,0xc98c2036,0xca038a4f,0xca7b3daf,0xcaf33a85,0xcb6b8101,0xcbe41151,0xcc5ceba6,
		0xccd6102f,0xcd4f7f1d,0xcdc9389f,0xce433ce6,0xcebd8c21,0xcf382681,0xcfb30c38,0xd02e3d74,0xd0a9ba68,0xd1258344,0xd1a1983a,0xd21df97a,0xd29aa735,0xd317a19e,0xd394e8e6,0xd4127d3e,
		0xd4905ed9,0xd50e8de8,0xd58d0a9e,0xd60bd52c,0xd68aedc6,0xd70a549e,0xd78a09e6,0xd80a0dd1,0xd88a6093,0xd90b025e,0xd98bf365,0xda0d33dc,0xda8ec3f7,0xdb10a3e8,0xdb92d3e5,0xdc155420,
		0xdc9824ce,0xdd1b4623,0xdd9eb853,0xde227b93,0xdea69017,0xdf2af614,0xdfafadc0,0xe034b74e,0xe0ba12f5,0xe13fc0e9,0xe1c5c161,0xe24c1490,0xe2d2baaf,0xe359b3f2,0xe3e1008f,0xe468a0bc,
		0xe4f094b1,0xe578dca3,0xe60178c9,0xe68a695a,0xe713ae8c,0xe79d4898,0xe82737b3,0xe8b17c16,0xe93c15f8,0xe9c70591,0xea524b18,0xeadde6c5,0xeb69d8d1,0xebf62174,0xec82c0e7,0xed0fb761,
		0xed9d051b,0xee2aaa50,0xeeb8a736,0xef46fc09,0xefd5a901,0xf064ae57,0xf0f40c46,0xf183c306,0xf213d2d3,0xf2a43be6,0xf334fe7a,0xf3c61ac9,0xf457910d,0xf4e96181,0xf57b8c61,0xf60e11e8,
		0xf6a0f250,0xf7342dd5,0xf7c7c4b2,0xf85bb724,0xf8f00567,0xf984afb5,0xfa19b64c,0xfaaf1968,0xfb44d946,0xfbdaf621,0xfc717038,0xfd0847c7,0xfd9f7d0b,0xfe371042,0xfecf01a9,0xff67517f,
		0xfff67250
	};


long long EOTF_2084(long long L)
{		
	long long idx=0,lsb=0;
	long long out=0;
	//long long i;
	
	if(L==4294967295LL)
		out=EOTF_tbl[4096];
	else
	{	
		idx=L>>20;
		lsb=L&0xfffff;
		out=(lsb*(long long)(EOTF_tbl[idx+1])+ (1048576-lsb)*(long long)(EOTF_tbl[idx]))>>20;// >>20 or /1048575
	}
	/*else
	{
		for(i=0;i<4096;i++)
		{
			idx=i*1048576;
			idx_next=CLIP_hdr_vivid(0,4294967295,idx+1048576);
			if(L>=idx&&L<idx_next)
			{
				out=((L-idx)*(long long)(EOTF_tbl[i+1])+(idx_next-L)*(long long)(EOTF_tbl[i]))>>20;
				break;
			}
		}
	}*/
	return out;
}

unsigned int log_tbl[4097]=
{
	0x0, 0x39CC, 0x436E, 0x4910, 0x4D10, 0x502A, 0x52B2, 0x54D7, 0x56B2, 0x5855, 0x59CC, 0x5B1F, 0x5C54, 0x5D71, 0x5E79, 0x5F6E, 
	0x6054, 0x612C, 0x61F7, 0x62B7, 0x636E, 0x641B, 0x64C1, 0x655F, 0x65F6, 0x6688, 0x6713, 0x6799, 0x681B, 0x6898, 0x6910, 0x6985, 
	0x69F6, 0x6A63, 0x6ACE, 0x6B35, 0x6B99, 0x6BFA, 0x6C59, 0x6CB6, 0x6D10, 0x6D68, 0x6DBD, 0x6E11, 0x6E63, 0x6EB3, 0x6F01, 0x6F4E, 
	0x6F98, 0x6FE2, 0x702A, 0x7070, 0x70B5, 0x70F9, 0x713B, 0x717D, 0x71BD, 0x71FC, 0x723A, 0x7277, 0x72B2, 0x72ED, 0x7327, 0x7360, 
	0x7398, 0x73CF, 0x7405, 0x743B, 0x7470, 0x74A4, 0x74D7, 0x7509, 0x753B, 0x756C, 0x759C, 0x75CC, 0x75FB, 0x762A, 0x7658, 0x7685, 
	0x76B2, 0x76DE, 0x770A, 0x7735, 0x775F, 0x778A, 0x77B3, 0x77DC, 0x7805, 0x782D, 0x7855, 0x787C, 0x78A3, 0x78CA, 0x78F0, 0x7915, 
	0x793A, 0x795F, 0x7984, 0x79A8, 0x79CC, 0x79EF, 0x7A12, 0x7A35, 0x7A57, 0x7A79, 0x7A9B, 0x7ABC, 0x7ADE, 0x7AFE, 0x7B1F, 0x7B3F, 
	0x7B5F, 0x7B7F, 0x7B9E, 0x7BBD, 0x7BDC, 0x7BFA, 0x7C19, 0x7C37, 0x7C54, 0x7C72, 0x7C8F, 0x7CAC, 0x7CC9, 0x7CE6, 0x7D02, 0x7D1E, 
	0x7D3A, 0x7D56, 0x7D71, 0x7D8C, 0x7DA7, 0x7DC2, 0x7DDD, 0x7DF7, 0x7E12, 0x7E2C, 0x7E46, 0x7E5F, 0x7E79, 0x7E92, 0x7EAB, 0x7EC4, 
	0x7EDD, 0x7EF6, 0x7F0E, 0x7F26, 0x7F3F, 0x7F56, 0x7F6E, 0x7F86, 0x7F9D, 0x7FB5, 0x7FCC, 0x7FE3, 0x7FFA, 0x8011, 0x8027, 0x803E, 
	0x8054, 0x806A, 0x8080, 0x8096, 0x80AC, 0x80C1, 0x80D7, 0x80EC, 0x8101, 0x8117, 0x812C, 0x8140, 0x8155, 0x816A, 0x817E, 0x8193, 
	0x81A7, 0x81BB, 0x81CF, 0x81E3, 0x81F7, 0x820B, 0x821E, 0x8232, 0x8245, 0x8258, 0x826C, 0x827F, 0x8292, 0x82A5, 0x82B7, 0x82CA, 
	0x82DD, 0x82EF, 0x8301, 0x8314, 0x8326, 0x8338, 0x834A, 0x835C, 0x836E, 0x8380, 0x8391, 0x83A3, 0x83B4, 0x83C6, 0x83D7, 0x83E8, 
	0x83F9, 0x840A, 0x841B, 0x842C, 0x843D, 0x844E, 0x845E, 0x846F, 0x8480, 0x8490, 0x84A0, 0x84B1, 0x84C1, 0x84D1, 0x84E1, 0x84F1, 
	0x8501, 0x8511, 0x8521, 0x8530, 0x8540, 0x854F, 0x855F, 0x856E, 0x857E, 0x858D, 0x859C, 0x85AC, 0x85BB, 0x85CA, 0x85D9, 0x85E8, 
	0x85F6, 0x8605, 0x8614, 0x8623, 0x8631, 0x8640, 0x864E, 0x865D, 0x866B, 0x8679, 0x8688, 0x8696, 0x86A4, 0x86B2, 0x86C0, 0x86CE, 
	0x86DC, 0x86EA, 0x86F8, 0x8705, 0x8713, 0x8721, 0x872E, 0x873C, 0x874A, 0x8757, 0x8764, 0x8772, 0x877F, 0x878C, 0x8799, 0x87A7, 
	0x87B4, 0x87C1, 0x87CE, 0x87DB, 0x87E8, 0x87F5, 0x8801, 0x880E, 0x881B, 0x8828, 0x8834, 0x8841, 0x884D, 0x885A, 0x8866, 0x8873, 
	0x887F, 0x888B, 0x8898, 0x88A4, 0x88B0, 0x88BC, 0x88C8, 0x88D5, 0x88E1, 0x88ED, 0x88F9, 0x8904, 0x8910, 0x891C, 0x8928, 0x8934, 
	0x893F, 0x894B, 0x8957, 0x8962, 0x896E, 0x8979, 0x8985, 0x8990, 0x899C, 0x89A7, 0x89B3, 0x89BE, 0x89C9, 0x89D4, 0x89E0, 0x89EB, 
	0x89F6, 0x8A01, 0x8A0C, 0x8A17, 0x8A22, 0x8A2D, 0x8A38, 0x8A43, 0x8A4E, 0x8A59, 0x8A63, 0x8A6E, 0x8A79, 0x8A84, 0x8A8E, 0x8A99, 
	0x8AA3, 0x8AAE, 0x8AB9, 0x8AC3, 0x8ACE, 0x8AD8, 0x8AE2, 0x8AED, 0x8AF7, 0x8B02, 0x8B0C, 0x8B16, 0x8B20, 0x8B2B, 0x8B35, 0x8B3F, 
	0x8B49, 0x8B53, 0x8B5D, 0x8B67, 0x8B71, 0x8B7B, 0x8B85, 0x8B8F, 0x8B99, 0x8BA3, 0x8BAD, 0x8BB6, 0x8BC0, 0x8BCA, 0x8BD4, 0x8BDD, 
	0x8BE7, 0x8BF1, 0x8BFA, 0x8C04, 0x8C0E, 0x8C17, 0x8C21, 0x8C2A, 0x8C34, 0x8C3D, 0x8C47, 0x8C50, 0x8C59, 0x8C63, 0x8C6C, 0x8C75, 
	0x8C7F, 0x8C88, 0x8C91, 0x8C9A, 0x8CA3, 0x8CAD, 0x8CB6, 0x8CBF, 0x8CC8, 0x8CD1, 0x8CDA, 0x8CE3, 0x8CEC, 0x8CF5, 0x8CFE, 0x8D07, 
	0x8D10, 0x8D19, 0x8D22, 0x8D2A, 0x8D33, 0x8D3C, 0x8D45, 0x8D4E, 0x8D56, 0x8D5F, 0x8D68, 0x8D70, 0x8D79, 0x8D82, 0x8D8A, 0x8D93, 
	0x8D9B, 0x8DA4, 0x8DAC, 0x8DB5, 0x8DBD, 0x8DC6, 0x8DCE, 0x8DD7, 0x8DDF, 0x8DE7, 0x8DF0, 0x8DF8, 0x8E01, 0x8E09, 0x8E11, 0x8E19, 
	0x8E22, 0x8E2A, 0x8E32, 0x8E3A, 0x8E42, 0x8E4B, 0x8E53, 0x8E5B, 0x8E63, 0x8E6B, 0x8E73, 0x8E7B, 0x8E83, 0x8E8B, 0x8E93, 0x8E9B, 
	0x8EA3, 0x8EAB, 0x8EB3, 0x8EBB, 0x8EC3, 0x8ECA, 0x8ED2, 0x8EDA, 0x8EE2, 0x8EEA, 0x8EF2, 0x8EF9, 0x8F01, 0x8F09, 0x8F10, 0x8F18, 
	0x8F20, 0x8F28, 0x8F2F, 0x8F37, 0x8F3E, 0x8F46, 0x8F4E, 0x8F55, 0x8F5D, 0x8F64, 0x8F6C, 0x8F73, 0x8F7B, 0x8F82, 0x8F8A, 0x8F91, 
	0x8F98, 0x8FA0, 0x8FA7, 0x8FAF, 0x8FB6, 0x8FBD, 0x8FC5, 0x8FCC, 0x8FD3, 0x8FDB, 0x8FE2, 0x8FE9, 0x8FF0, 0x8FF8, 0x8FFF, 0x9006, 
	0x900D, 0x9014, 0x901B, 0x9023, 0x902A, 0x9031, 0x9038, 0x903F, 0x9046, 0x904D, 0x9054, 0x905B, 0x9062, 0x9069, 0x9070, 0x9077, 
	0x907E, 0x9085, 0x908C, 0x9093, 0x909A, 0x90A1, 0x90A8, 0x90AE, 0x90B5, 0x90BC, 0x90C3, 0x90CA, 0x90D0, 0x90D7, 0x90DE, 0x90E5, 
	0x90EC, 0x90F2, 0x90F9, 0x9100, 0x9106, 0x910D, 0x9114, 0x911A, 0x9121, 0x9128, 0x912E, 0x9135, 0x913B, 0x9142, 0x9149, 0x914F, 
	0x9156, 0x915C, 0x9163, 0x9169, 0x9170, 0x9176, 0x917D, 0x9183, 0x918A, 0x9190, 0x9197, 0x919D, 0x91A3, 0x91AA, 0x91B0, 0x91B7, 
	0x91BD, 0x91C3, 0x91CA, 0x91D0, 0x91D6, 0x91DD, 0x91E3, 0x91E9, 0x91EF, 0x91F6, 0x91FC, 0x9202, 0x9208, 0x920F, 0x9215, 0x921B, 
	0x9221, 0x9227, 0x922D, 0x9234, 0x923A, 0x9240, 0x9246, 0x924C, 0x9252, 0x9258, 0x925E, 0x9264, 0x926A, 0x9271, 0x9277, 0x927D, 
	0x9283, 0x9289, 0x928F, 0x9295, 0x929B, 0x92A1, 0x92A6, 0x92AC, 0x92B2, 0x92B8, 0x92BE, 0x92C4, 0x92CA, 0x92D0, 0x92D6, 0x92DC, 
	0x92E1, 0x92E7, 0x92ED, 0x92F3, 0x92F9, 0x92FF, 0x9304, 0x930A, 0x9310, 0x9316, 0x931C, 0x9321, 0x9327, 0x932D, 0x9332, 0x9338, 
	0x933E, 0x9344, 0x9349, 0x934F, 0x9355, 0x935A, 0x9360, 0x9366, 0x936B, 0x9371, 0x9376, 0x937C, 0x9382, 0x9387, 0x938D, 0x9392, 
	0x9398, 0x939E, 0x93A3, 0x93A9, 0x93AE, 0x93B4, 0x93B9, 0x93BF, 0x93C4, 0x93CA, 0x93CF, 0x93D5, 0x93DA, 0x93DF, 0x93E5, 0x93EA, 
	0x93F0, 0x93F5, 0x93FB, 0x9400, 0x9405, 0x940B, 0x9410, 0x9416, 0x941B, 0x9420, 0x9426, 0x942B, 0x9430, 0x9436, 0x943B, 0x9440, 
	0x9446, 0x944B, 0x9450, 0x9455, 0x945B, 0x9460, 0x9465, 0x946A, 0x9470, 0x9475, 0x947A, 0x947F, 0x9485, 0x948A, 0x948F, 0x9494, 
	0x9499, 0x949E, 0x94A4, 0x94A9, 0x94AE, 0x94B3, 0x94B8, 0x94BD, 0x94C2, 0x94C7, 0x94CD, 0x94D2, 0x94D7, 0x94DC, 0x94E1, 0x94E6, 
	0x94EB, 0x94F0, 0x94F5, 0x94FA, 0x94FF, 0x9504, 0x9509, 0x950E, 0x9513, 0x9518, 0x951D, 0x9522, 0x9527, 0x952C, 0x9531, 0x9536, 
	0x953B, 0x9540, 0x9545, 0x954A, 0x954F, 0x9554, 0x9559, 0x955D, 0x9562, 0x9567, 0x956C, 0x9571, 0x9576, 0x957B, 0x9580, 0x9584, 
	0x9589, 0x958E, 0x9593, 0x9598, 0x959C, 0x95A1, 0x95A6, 0x95AB, 0x95B0, 0x95B4, 0x95B9, 0x95BE, 0x95C3, 0x95C7, 0x95CC, 0x95D1, 
	0x95D6, 0x95DA, 0x95DF, 0x95E4, 0x95E9, 0x95ED, 0x95F2, 0x95F7, 0x95FB, 0x9600, 0x9605, 0x9609, 0x960E, 0x9613, 0x9617, 0x961C, 
	0x9621, 0x9625, 0x962A, 0x962E, 0x9633, 0x9638, 0x963C, 0x9641, 0x9645, 0x964A, 0x964F, 0x9653, 0x9658, 0x965C, 0x9661, 0x9665, 
	0x966A, 0x966E, 0x9673, 0x9678, 0x967C, 0x9681, 0x9685, 0x968A, 0x968E, 0x9693, 0x9697, 0x969C, 0x96A0, 0x96A4, 0x96A9, 0x96AD, 
	0x96B2, 0x96B6, 0x96BB, 0x96BF, 0x96C4, 0x96C8, 0x96CC, 0x96D1, 0x96D5, 0x96DA, 0x96DE, 0x96E2, 0x96E7, 0x96EB, 0x96F0, 0x96F4, 
	0x96F8, 0x96FD, 0x9701, 0x9705, 0x970A, 0x970E, 0x9712, 0x9717, 0x971B, 0x971F, 0x9724, 0x9728, 0x972C, 0x9731, 0x9735, 0x9739, 
	0x973D, 0x9742, 0x9746, 0x974A, 0x974E, 0x9753, 0x9757, 0x975B, 0x975F, 0x9764, 0x9768, 0x976C, 0x9770, 0x9775, 0x9779, 0x977D, 
	0x9781, 0x9785, 0x978A, 0x978E, 0x9792, 0x9796, 0x979A, 0x979E, 0x97A3, 0x97A7, 0x97AB, 0x97AF, 0x97B3, 0x97B7, 0x97BB, 0x97C0, 
	0x97C4, 0x97C8, 0x97CC, 0x97D0, 0x97D4, 0x97D8, 0x97DC, 0x97E0, 0x97E4, 0x97E9, 0x97ED, 0x97F1, 0x97F5, 0x97F9, 0x97FD, 0x9801, 
	0x9805, 0x9809, 0x980D, 0x9811, 0x9815, 0x9819, 0x981D, 0x9821, 0x9825, 0x9829, 0x982D, 0x9831, 0x9835, 0x9839, 0x983D, 0x9841, 
	0x9845, 0x9849, 0x984D, 0x9851, 0x9855, 0x9859, 0x985D, 0x9861, 0x9865, 0x9869, 0x986D, 0x9870, 0x9874, 0x9878, 0x987C, 0x9880, 
	0x9884, 0x9888, 0x988C, 0x9890, 0x9894, 0x9897, 0x989B, 0x989F, 0x98A3, 0x98A7, 0x98AB, 0x98AF, 0x98B3, 0x98B6, 0x98BA, 0x98BE, 
	0x98C2, 0x98C6, 0x98CA, 0x98CD, 0x98D1, 0x98D5, 0x98D9, 0x98DD, 0x98E0, 0x98E4, 0x98E8, 0x98EC, 0x98F0, 0x98F3, 0x98F7, 0x98FB, 
	0x98FF, 0x9902, 0x9906, 0x990A, 0x990E, 0x9911, 0x9915, 0x9919, 0x991D, 0x9920, 0x9924, 0x9928, 0x992C, 0x992F, 0x9933, 0x9937, 
	0x993A, 0x993E, 0x9942, 0x9946, 0x9949, 0x994D, 0x9951, 0x9954, 0x9958, 0x995C, 0x995F, 0x9963, 0x9967, 0x996A, 0x996E, 0x9972, 
	0x9975, 0x9979, 0x997D, 0x9980, 0x9984, 0x9987, 0x998B, 0x998F, 0x9992, 0x9996, 0x999A, 0x999D, 0x99A1, 0x99A4, 0x99A8, 0x99AC, 
	0x99AF, 0x99B3, 0x99B6, 0x99BA, 0x99BD, 0x99C1, 0x99C5, 0x99C8, 0x99CC, 0x99CF, 0x99D3, 0x99D6, 0x99DA, 0x99DD, 0x99E1, 0x99E5, 
	0x99E8, 0x99EC, 0x99EF, 0x99F3, 0x99F6, 0x99FA, 0x99FD, 0x9A01, 0x9A04, 0x9A08, 0x9A0B, 0x9A0F, 0x9A12, 0x9A16, 0x9A19, 0x9A1D, 
	0x9A20, 0x9A24, 0x9A27, 0x9A2B, 0x9A2E, 0x9A31, 0x9A35, 0x9A38, 0x9A3C, 0x9A3F, 0x9A43, 0x9A46, 0x9A4A, 0x9A4D, 0x9A50, 0x9A54, 
	0x9A57, 0x9A5B, 0x9A5E, 0x9A62, 0x9A65, 0x9A68, 0x9A6C, 0x9A6F, 0x9A73, 0x9A76, 0x9A79, 0x9A7D, 0x9A80, 0x9A83, 0x9A87, 0x9A8A, 
	0x9A8E, 0x9A91, 0x9A94, 0x9A98, 0x9A9B, 0x9A9E, 0x9AA2, 0x9AA5, 0x9AA8, 0x9AAC, 0x9AAF, 0x9AB2, 0x9AB6, 0x9AB9, 0x9ABC, 0x9AC0, 
	0x9AC3, 0x9AC6, 0x9ACA, 0x9ACD, 0x9AD0, 0x9AD4, 0x9AD7, 0x9ADA, 0x9ADE, 0x9AE1, 0x9AE4, 0x9AE7, 0x9AEB, 0x9AEE, 0x9AF1, 0x9AF5, 
	0x9AF8, 0x9AFB, 0x9AFE, 0x9B02, 0x9B05, 0x9B08, 0x9B0B, 0x9B0F, 0x9B12, 0x9B15, 0x9B18, 0x9B1C, 0x9B1F, 0x9B22, 0x9B25, 0x9B29, 
	0x9B2C, 0x9B2F, 0x9B32, 0x9B35, 0x9B39, 0x9B3C, 0x9B3F, 0x9B42, 0x9B45, 0x9B49, 0x9B4C, 0x9B4F, 0x9B52, 0x9B55, 0x9B59, 0x9B5C, 
	0x9B5F, 0x9B62, 0x9B65, 0x9B68, 0x9B6C, 0x9B6F, 0x9B72, 0x9B75, 0x9B78, 0x9B7B, 0x9B7F, 0x9B82, 0x9B85, 0x9B88, 0x9B8B, 0x9B8E, 
	0x9B91, 0x9B95, 0x9B98, 0x9B9B, 0x9B9E, 0x9BA1, 0x9BA4, 0x9BA7, 0x9BAA, 0x9BAD, 0x9BB1, 0x9BB4, 0x9BB7, 0x9BBA, 0x9BBD, 0x9BC0, 
	0x9BC3, 0x9BC6, 0x9BC9, 0x9BCC, 0x9BCF, 0x9BD3, 0x9BD6, 0x9BD9, 0x9BDC, 0x9BDF, 0x9BE2, 0x9BE5, 0x9BE8, 0x9BEB, 0x9BEE, 0x9BF1, 
	0x9BF4, 0x9BF7, 0x9BFA, 0x9BFD, 0x9C00, 0x9C03, 0x9C06, 0x9C09, 0x9C0D, 0x9C10, 0x9C13, 0x9C16, 0x9C19, 0x9C1C, 0x9C1F, 0x9C22, 
	0x9C25, 0x9C28, 0x9C2B, 0x9C2E, 0x9C31, 0x9C34, 0x9C37, 0x9C3A, 0x9C3D, 0x9C40, 0x9C43, 0x9C46, 0x9C49, 0x9C4B, 0x9C4E, 0x9C51, 
	0x9C54, 0x9C57, 0x9C5A, 0x9C5D, 0x9C60, 0x9C63, 0x9C66, 0x9C69, 0x9C6C, 0x9C6F, 0x9C72, 0x9C75, 0x9C78, 0x9C7B, 0x9C7E, 0x9C81, 
	0x9C84, 0x9C86, 0x9C89, 0x9C8C, 0x9C8F, 0x9C92, 0x9C95, 0x9C98, 0x9C9B, 0x9C9E, 0x9CA1, 0x9CA4, 0x9CA6, 0x9CA9, 0x9CAC, 0x9CAF, 
	0x9CB2, 0x9CB5, 0x9CB8, 0x9CBB, 0x9CBE, 0x9CC0, 0x9CC3, 0x9CC6, 0x9CC9, 0x9CCC, 0x9CCF, 0x9CD2, 0x9CD4, 0x9CD7, 0x9CDA, 0x9CDD, 
	0x9CE0, 0x9CE3, 0x9CE6, 0x9CE8, 0x9CEB, 0x9CEE, 0x9CF1, 0x9CF4, 0x9CF7, 0x9CF9, 0x9CFC, 0x9CFF, 0x9D02, 0x9D05, 0x9D08, 0x9D0A, 
	0x9D0D, 0x9D10, 0x9D13, 0x9D16, 0x9D18, 0x9D1B, 0x9D1E, 0x9D21, 0x9D24, 0x9D26, 0x9D29, 0x9D2C, 0x9D2F, 0x9D32, 0x9D34, 0x9D37, 
	0x9D3A, 0x9D3D, 0x9D40, 0x9D42, 0x9D45, 0x9D48, 0x9D4B, 0x9D4D, 0x9D50, 0x9D53, 0x9D56, 0x9D58, 0x9D5B, 0x9D5E, 0x9D61, 0x9D63, 
	0x9D66, 0x9D69, 0x9D6C, 0x9D6E, 0x9D71, 0x9D74, 0x9D77, 0x9D79, 0x9D7C, 0x9D7F, 0x9D82, 0x9D84, 0x9D87, 0x9D8A, 0x9D8C, 0x9D8F, 
	0x9D92, 0x9D95, 0x9D97, 0x9D9A, 0x9D9D, 0x9D9F, 0x9DA2, 0x9DA5, 0x9DA7, 0x9DAA, 0x9DAD, 0x9DB0, 0x9DB2, 0x9DB5, 0x9DB8, 0x9DBA, 
	0x9DBD, 0x9DC0, 0x9DC2, 0x9DC5, 0x9DC8, 0x9DCA, 0x9DCD, 0x9DD0, 0x9DD2, 0x9DD5, 0x9DD8, 0x9DDA, 0x9DDD, 0x9DE0, 0x9DE2, 0x9DE5, 
	0x9DE8, 0x9DEA, 0x9DED, 0x9DF0, 0x9DF2, 0x9DF5, 0x9DF7, 0x9DFA, 0x9DFD, 0x9DFF, 0x9E02, 0x9E05, 0x9E07, 0x9E0A, 0x9E0C, 0x9E0F, 
	0x9E12, 0x9E14, 0x9E17, 0x9E1A, 0x9E1C, 0x9E1F, 0x9E21, 0x9E24, 0x9E27, 0x9E29, 0x9E2C, 0x9E2E, 0x9E31, 0x9E34, 0x9E36, 0x9E39, 
	0x9E3B, 0x9E3E, 0x9E40, 0x9E43, 0x9E46, 0x9E48, 0x9E4B, 0x9E4D, 0x9E50, 0x9E52, 0x9E55, 0x9E58, 0x9E5A, 0x9E5D, 0x9E5F, 0x9E62, 
	0x9E64, 0x9E67, 0x9E6A, 0x9E6C, 0x9E6F, 0x9E71, 0x9E74, 0x9E76, 0x9E79, 0x9E7B, 0x9E7E, 0x9E80, 0x9E83, 0x9E85, 0x9E88, 0x9E8B, 
	0x9E8D, 0x9E90, 0x9E92, 0x9E95, 0x9E97, 0x9E9A, 0x9E9C, 0x9E9F, 0x9EA1, 0x9EA4, 0x9EA6, 0x9EA9, 0x9EAB, 0x9EAE, 0x9EB0, 0x9EB3, 
	0x9EB5, 0x9EB8, 0x9EBA, 0x9EBD, 0x9EBF, 0x9EC2, 0x9EC4, 0x9EC7, 0x9EC9, 0x9ECC, 0x9ECE, 0x9ED1, 0x9ED3, 0x9ED6, 0x9ED8, 0x9EDB, 
	0x9EDD, 0x9EE0, 0x9EE2, 0x9EE4, 0x9EE7, 0x9EE9, 0x9EEC, 0x9EEE, 0x9EF1, 0x9EF3, 0x9EF6, 0x9EF8, 0x9EFB, 0x9EFD, 0x9EFF, 0x9F02, 
	0x9F04, 0x9F07, 0x9F09, 0x9F0C, 0x9F0E, 0x9F11, 0x9F13, 0x9F15, 0x9F18, 0x9F1A, 0x9F1D, 0x9F1F, 0x9F22, 0x9F24, 0x9F26, 0x9F29, 
	0x9F2B, 0x9F2E, 0x9F30, 0x9F32, 0x9F35, 0x9F37, 0x9F3A, 0x9F3C, 0x9F3F, 0x9F41, 0x9F43, 0x9F46, 0x9F48, 0x9F4B, 0x9F4D, 0x9F4F, 
	0x9F52, 0x9F54, 0x9F56, 0x9F59, 0x9F5B, 0x9F5E, 0x9F60, 0x9F62, 0x9F65, 0x9F67, 0x9F6A, 0x9F6C, 0x9F6E, 0x9F71, 0x9F73, 0x9F75, 
	0x9F78, 0x9F7A, 0x9F7C, 0x9F7F, 0x9F81, 0x9F84, 0x9F86, 0x9F88, 0x9F8B, 0x9F8D, 0x9F8F, 0x9F92, 0x9F94, 0x9F96, 0x9F99, 0x9F9B, 
	0x9F9D, 0x9FA0, 0x9FA2, 0x9FA4, 0x9FA7, 0x9FA9, 0x9FAB, 0x9FAE, 0x9FB0, 0x9FB2, 0x9FB5, 0x9FB7, 0x9FB9, 0x9FBC, 0x9FBE, 0x9FC0, 
	0x9FC3, 0x9FC5, 0x9FC7, 0x9FCA, 0x9FCC, 0x9FCE, 0x9FD1, 0x9FD3, 0x9FD5, 0x9FD7, 0x9FDA, 0x9FDC, 0x9FDE, 0x9FE1, 0x9FE3, 0x9FE5, 
	0x9FE8, 0x9FEA, 0x9FEC, 0x9FEE, 0x9FF1, 0x9FF3, 0x9FF5, 0x9FF8, 0x9FFA, 0x9FFC, 0x9FFE, 0xA001, 0xA003, 0xA005, 0xA007, 0xA00A, 
	0xA00C, 0xA00E, 0xA011, 0xA013, 0xA015, 0xA017, 0xA01A, 0xA01C, 0xA01E, 0xA020, 0xA023, 0xA025, 0xA027, 0xA029, 0xA02C, 0xA02E, 
	0xA030, 0xA032, 0xA035, 0xA037, 0xA039, 0xA03B, 0xA03E, 0xA040, 0xA042, 0xA044, 0xA047, 0xA049, 0xA04B, 0xA04D, 0xA04F, 0xA052, 
	0xA054, 0xA056, 0xA058, 0xA05B, 0xA05D, 0xA05F, 0xA061, 0xA063, 0xA066, 0xA068, 0xA06A, 0xA06C, 0xA06E, 0xA071, 0xA073, 0xA075, 
	0xA077, 0xA079, 0xA07C, 0xA07E, 0xA080, 0xA082, 0xA084, 0xA087, 0xA089, 0xA08B, 0xA08D, 0xA08F, 0xA092, 0xA094, 0xA096, 0xA098, 
	0xA09A, 0xA09D, 0xA09F, 0xA0A1, 0xA0A3, 0xA0A5, 0xA0A7, 0xA0AA, 0xA0AC, 0xA0AE, 0xA0B0, 0xA0B2, 0xA0B4, 0xA0B7, 0xA0B9, 0xA0BB, 
	0xA0BD, 0xA0BF, 0xA0C1, 0xA0C4, 0xA0C6, 0xA0C8, 0xA0CA, 0xA0CC, 0xA0CE, 0xA0D0, 0xA0D3, 0xA0D5, 0xA0D7, 0xA0D9, 0xA0DB, 0xA0DD, 
	0xA0DF, 0xA0E2, 0xA0E4, 0xA0E6, 0xA0E8, 0xA0EA, 0xA0EC, 0xA0EE, 0xA0F0, 0xA0F3, 0xA0F5, 0xA0F7, 0xA0F9, 0xA0FB, 0xA0FD, 0xA0FF, 
	0xA101, 0xA104, 0xA106, 0xA108, 0xA10A, 0xA10C, 0xA10E, 0xA110, 0xA112, 0xA114, 0xA117, 0xA119, 0xA11B, 0xA11D, 0xA11F, 0xA121, 
	0xA123, 0xA125, 0xA127, 0xA129, 0xA12C, 0xA12E, 0xA130, 0xA132, 0xA134, 0xA136, 0xA138, 0xA13A, 0xA13C, 0xA13E, 0xA140, 0xA143, 
	0xA145, 0xA147, 0xA149, 0xA14B, 0xA14D, 0xA14F, 0xA151, 0xA153, 0xA155, 0xA157, 0xA159, 0xA15B, 0xA15D, 0xA160, 0xA162, 0xA164, 
	0xA166, 0xA168, 0xA16A, 0xA16C, 0xA16E, 0xA170, 0xA172, 0xA174, 0xA176, 0xA178, 0xA17A, 0xA17C, 0xA17E, 0xA180, 0xA182, 0xA184, 
	0xA186, 0xA189, 0xA18B, 0xA18D, 0xA18F, 0xA191, 0xA193, 0xA195, 0xA197, 0xA199, 0xA19B, 0xA19D, 0xA19F, 0xA1A1, 0xA1A3, 0xA1A5, 
	0xA1A7, 0xA1A9, 0xA1AB, 0xA1AD, 0xA1AF, 0xA1B1, 0xA1B3, 0xA1B5, 0xA1B7, 0xA1B9, 0xA1BB, 0xA1BD, 0xA1BF, 0xA1C1, 0xA1C3, 0xA1C5, 
	0xA1C7, 0xA1C9, 0xA1CB, 0xA1CD, 0xA1CF, 0xA1D1, 0xA1D3, 0xA1D5, 0xA1D7, 0xA1D9, 0xA1DB, 0xA1DD, 0xA1DF, 0xA1E1, 0xA1E3, 0xA1E5, 
	0xA1E7, 0xA1E9, 0xA1EB, 0xA1ED, 0xA1EF, 0xA1F1, 0xA1F3, 0xA1F5, 0xA1F7, 0xA1F9, 0xA1FB, 0xA1FD, 0xA1FF, 0xA201, 0xA203, 0xA205, 
	0xA207, 0xA209, 0xA20B, 0xA20D, 0xA20F, 0xA211, 0xA212, 0xA214, 0xA216, 0xA218, 0xA21A, 0xA21C, 0xA21E, 0xA220, 0xA222, 0xA224, 
	0xA226, 0xA228, 0xA22A, 0xA22C, 0xA22E, 0xA230, 0xA232, 0xA234, 0xA236, 0xA238, 0xA239, 0xA23B, 0xA23D, 0xA23F, 0xA241, 0xA243, 
	0xA245, 0xA247, 0xA249, 0xA24B, 0xA24D, 0xA24F, 0xA251, 0xA253, 0xA255, 0xA256, 0xA258, 0xA25A, 0xA25C, 0xA25E, 0xA260, 0xA262, 
	0xA264, 0xA266, 0xA268, 0xA26A, 0xA26C, 0xA26D, 0xA26F, 0xA271, 0xA273, 0xA275, 0xA277, 0xA279, 0xA27B, 0xA27D, 0xA27F, 0xA281, 
	0xA282, 0xA284, 0xA286, 0xA288, 0xA28A, 0xA28C, 0xA28E, 0xA290, 0xA292, 0xA294, 0xA295, 0xA297, 0xA299, 0xA29B, 0xA29D, 0xA29F, 
	0xA2A1, 0xA2A3, 0xA2A5, 0xA2A6, 0xA2A8, 0xA2AA, 0xA2AC, 0xA2AE, 0xA2B0, 0xA2B2, 0xA2B4, 0xA2B5, 0xA2B7, 0xA2B9, 0xA2BB, 0xA2BD, 
	0xA2BF, 0xA2C1, 0xA2C2, 0xA2C4, 0xA2C6, 0xA2C8, 0xA2CA, 0xA2CC, 0xA2CE, 0xA2D0, 0xA2D1, 0xA2D3, 0xA2D5, 0xA2D7, 0xA2D9, 0xA2DB, 
	0xA2DD, 0xA2DE, 0xA2E0, 0xA2E2, 0xA2E4, 0xA2E6, 0xA2E8, 0xA2E9, 0xA2EB, 0xA2ED, 0xA2EF, 0xA2F1, 0xA2F3, 0xA2F5, 0xA2F6, 0xA2F8, 
	0xA2FA, 0xA2FC, 0xA2FE, 0xA300, 0xA301, 0xA303, 0xA305, 0xA307, 0xA309, 0xA30B, 0xA30C, 0xA30E, 0xA310, 0xA312, 0xA314, 0xA316, 
	0xA317, 0xA319, 0xA31B, 0xA31D, 0xA31F, 0xA320, 0xA322, 0xA324, 0xA326, 0xA328, 0xA32A, 0xA32B, 0xA32D, 0xA32F, 0xA331, 0xA333, 
	0xA334, 0xA336, 0xA338, 0xA33A, 0xA33C, 0xA33D, 0xA33F, 0xA341, 0xA343, 0xA345, 0xA346, 0xA348, 0xA34A, 0xA34C, 0xA34E, 0xA34F, 
	0xA351, 0xA353, 0xA355, 0xA357, 0xA358, 0xA35A, 0xA35C, 0xA35E, 0xA360, 0xA361, 0xA363, 0xA365, 0xA367, 0xA368, 0xA36A, 0xA36C, 
	0xA36E, 0xA370, 0xA371, 0xA373, 0xA375, 0xA377, 0xA378, 0xA37A, 0xA37C, 0xA37E, 0xA380, 0xA381, 0xA383, 0xA385, 0xA387, 0xA388, 
	0xA38A, 0xA38C, 0xA38E, 0xA38F, 0xA391, 0xA393, 0xA395, 0xA396, 0xA398, 0xA39A, 0xA39C, 0xA39D, 0xA39F, 0xA3A1, 0xA3A3, 0xA3A4, 
	0xA3A6, 0xA3A8, 0xA3AA, 0xA3AB, 0xA3AD, 0xA3AF, 0xA3B1, 0xA3B2, 0xA3B4, 0xA3B6, 0xA3B8, 0xA3B9, 0xA3BB, 0xA3BD, 0xA3BF, 0xA3C0, 
	0xA3C2, 0xA3C4, 0xA3C6, 0xA3C7, 0xA3C9, 0xA3CB, 0xA3CD, 0xA3CE, 0xA3D0, 0xA3D2, 0xA3D3, 0xA3D5, 0xA3D7, 0xA3D9, 0xA3DA, 0xA3DC, 
	0xA3DE, 0xA3E0, 0xA3E1, 0xA3E3, 0xA3E5, 0xA3E6, 0xA3E8, 0xA3EA, 0xA3EC, 0xA3ED, 0xA3EF, 0xA3F1, 0xA3F2, 0xA3F4, 0xA3F6, 0xA3F8, 
	0xA3F9, 0xA3FB, 0xA3FD, 0xA3FE, 0xA400, 0xA402, 0xA404, 0xA405, 0xA407, 0xA409, 0xA40A, 0xA40C, 0xA40E, 0xA40F, 0xA411, 0xA413, 
	0xA415, 0xA416, 0xA418, 0xA41A, 0xA41B, 0xA41D, 0xA41F, 0xA420, 0xA422, 0xA424, 0xA425, 0xA427, 0xA429, 0xA42B, 0xA42C, 0xA42E, 
	0xA430, 0xA431, 0xA433, 0xA435, 0xA436, 0xA438, 0xA43A, 0xA43B, 0xA43D, 0xA43F, 0xA440, 0xA442, 0xA444, 0xA445, 0xA447, 0xA449, 
	0xA44A, 0xA44C, 0xA44E, 0xA44F, 0xA451, 0xA453, 0xA454, 0xA456, 0xA458, 0xA459, 0xA45B, 0xA45D, 0xA45E, 0xA460, 0xA462, 0xA463, 
	0xA465, 0xA467, 0xA468, 0xA46A, 0xA46C, 0xA46D, 0xA46F, 0xA471, 0xA472, 0xA474, 0xA476, 0xA477, 0xA479, 0xA47B, 0xA47C, 0xA47E, 
	0xA480, 0xA481, 0xA483, 0xA485, 0xA486, 0xA488, 0xA489, 0xA48B, 0xA48D, 0xA48E, 0xA490, 0xA492, 0xA493, 0xA495, 0xA497, 0xA498, 
	0xA49A, 0xA49B, 0xA49D, 0xA49F, 0xA4A0, 0xA4A2, 0xA4A4, 0xA4A5, 0xA4A7, 0xA4A9, 0xA4AA, 0xA4AC, 0xA4AD, 0xA4AF, 0xA4B1, 0xA4B2, 
	0xA4B4, 0xA4B6, 0xA4B7, 0xA4B9, 0xA4BA, 0xA4BC, 0xA4BE, 0xA4BF, 0xA4C1, 0xA4C2, 0xA4C4, 0xA4C6, 0xA4C7, 0xA4C9, 0xA4CB, 0xA4CC, 
	0xA4CE, 0xA4CF, 0xA4D1, 0xA4D3, 0xA4D4, 0xA4D6, 0xA4D7, 0xA4D9, 0xA4DB, 0xA4DC, 0xA4DE, 0xA4DF, 0xA4E1, 0xA4E3, 0xA4E4, 0xA4E6, 
	0xA4E7, 0xA4E9, 0xA4EB, 0xA4EC, 0xA4EE, 0xA4EF, 0xA4F1, 0xA4F3, 0xA4F4, 0xA4F6, 0xA4F7, 0xA4F9, 0xA4FB, 0xA4FC, 0xA4FE, 0xA4FF, 
	0xA501, 0xA503, 0xA504, 0xA506, 0xA507, 0xA509, 0xA50A, 0xA50C, 0xA50E, 0xA50F, 0xA511, 0xA512, 0xA514, 0xA516, 0xA517, 0xA519, 
	0xA51A, 0xA51C, 0xA51D, 0xA51F, 0xA521, 0xA522, 0xA524, 0xA525, 0xA527, 0xA528, 0xA52A, 0xA52C, 0xA52D, 0xA52F, 0xA530, 0xA532, 
	0xA533, 0xA535, 0xA537, 0xA538, 0xA53A, 0xA53B, 0xA53D, 0xA53E, 0xA540, 0xA541, 0xA543, 0xA545, 0xA546, 0xA548, 0xA549, 0xA54B, 
	0xA54C, 0xA54E, 0xA54F, 0xA551, 0xA553, 0xA554, 0xA556, 0xA557, 0xA559, 0xA55A, 0xA55C, 0xA55D, 0xA55F, 0xA561, 0xA562, 0xA564, 
	0xA565, 0xA567, 0xA568, 0xA56A, 0xA56B, 0xA56D, 0xA56E, 0xA570, 0xA572, 0xA573, 0xA575, 0xA576, 0xA578, 0xA579, 0xA57B, 0xA57C, 
	0xA57E, 0xA57F, 0xA581, 0xA582, 0xA584, 0xA585, 0xA587, 0xA589, 0xA58A, 0xA58C, 0xA58D, 0xA58F, 0xA590, 0xA592, 0xA593, 0xA595, 
	0xA596, 0xA598, 0xA599, 0xA59B, 0xA59C, 0xA59E, 0xA59F, 0xA5A1, 0xA5A2, 0xA5A4, 0xA5A5, 0xA5A7, 0xA5A8, 0xA5AA, 0xA5AC, 0xA5AD, 
	0xA5AF, 0xA5B0, 0xA5B2, 0xA5B3, 0xA5B5, 0xA5B6, 0xA5B8, 0xA5B9, 0xA5BB, 0xA5BC, 0xA5BE, 0xA5BF, 0xA5C1, 0xA5C2, 0xA5C4, 0xA5C5, 
	0xA5C7, 0xA5C8, 0xA5CA, 0xA5CB, 0xA5CD, 0xA5CE, 0xA5D0, 0xA5D1, 0xA5D3, 0xA5D4, 0xA5D6, 0xA5D7, 0xA5D9, 0xA5DA, 0xA5DC, 0xA5DD, 
	0xA5DF, 0xA5E0, 0xA5E2, 0xA5E3, 0xA5E5, 0xA5E6, 0xA5E8, 0xA5E9, 0xA5EB, 0xA5EC, 0xA5EE, 0xA5EF, 0xA5F0, 0xA5F2, 0xA5F3, 0xA5F5, 
	0xA5F6, 0xA5F8, 0xA5F9, 0xA5FB, 0xA5FC, 0xA5FE, 0xA5FF, 0xA601, 0xA602, 0xA604, 0xA605, 0xA607, 0xA608, 0xA60A, 0xA60B, 0xA60D, 
	0xA60E, 0xA610, 0xA611, 0xA612, 0xA614, 0xA615, 0xA617, 0xA618, 0xA61A, 0xA61B, 0xA61D, 0xA61E, 0xA620, 0xA621, 0xA623, 0xA624, 
	0xA626, 0xA627, 0xA628, 0xA62A, 0xA62B, 0xA62D, 0xA62E, 0xA630, 0xA631, 0xA633, 0xA634, 0xA636, 0xA637, 0xA639, 0xA63A, 0xA63B, 
	0xA63D, 0xA63E, 0xA640, 0xA641, 0xA643, 0xA644, 0xA646, 0xA647, 0xA648, 0xA64A, 0xA64B, 0xA64D, 0xA64E, 0xA650, 0xA651, 0xA653, 
	0xA654, 0xA655, 0xA657, 0xA658, 0xA65A, 0xA65B, 0xA65D, 0xA65E, 0xA660, 0xA661, 0xA662, 0xA664, 0xA665, 0xA667, 0xA668, 0xA66A, 
	0xA66B, 0xA66D, 0xA66E, 0xA66F, 0xA671, 0xA672, 0xA674, 0xA675, 0xA677, 0xA678, 0xA679, 0xA67B, 0xA67C, 0xA67E, 0xA67F, 0xA681, 
	0xA682, 0xA683, 0xA685, 0xA686, 0xA688, 0xA689, 0xA68A, 0xA68C, 0xA68D, 0xA68F, 0xA690, 0xA692, 0xA693, 0xA694, 0xA696, 0xA697, 
	0xA699, 0xA69A, 0xA69C, 0xA69D, 0xA69E, 0xA6A0, 0xA6A1, 0xA6A3, 0xA6A4, 0xA6A5, 0xA6A7, 0xA6A8, 0xA6AA, 0xA6AB, 0xA6AC, 0xA6AE, 
	0xA6AF, 0xA6B1, 0xA6B2, 0xA6B3, 0xA6B5, 0xA6B6, 0xA6B8, 0xA6B9, 0xA6BB, 0xA6BC, 0xA6BD, 0xA6BF, 0xA6C0, 0xA6C2, 0xA6C3, 0xA6C4, 
	0xA6C6, 0xA6C7, 0xA6C9, 0xA6CA, 0xA6CB, 0xA6CD, 0xA6CE, 0xA6CF, 0xA6D1, 0xA6D2, 0xA6D4, 0xA6D5, 0xA6D6, 0xA6D8, 0xA6D9, 0xA6DB, 
	0xA6DC, 0xA6DD, 0xA6DF, 0xA6E0, 0xA6E2, 0xA6E3, 0xA6E4, 0xA6E6, 0xA6E7, 0xA6E9, 0xA6EA, 0xA6EB, 0xA6ED, 0xA6EE, 0xA6EF, 0xA6F1, 
	0xA6F2, 0xA6F4, 0xA6F5, 0xA6F6, 0xA6F8, 0xA6F9, 0xA6FA, 0xA6FC, 0xA6FD, 0xA6FF, 0xA700, 0xA701, 0xA703, 0xA704, 0xA705, 0xA707, 
	0xA708, 0xA70A, 0xA70B, 0xA70C, 0xA70E, 0xA70F, 0xA710, 0xA712, 0xA713, 0xA715, 0xA716, 0xA717, 0xA719, 0xA71A, 0xA71B, 0xA71D, 
	0xA71E, 0xA71F, 0xA721, 0xA722, 0xA724, 0xA725, 0xA726, 0xA728, 0xA729, 0xA72A, 0xA72C, 0xA72D, 0xA72E, 0xA730, 0xA731, 0xA733, 
	0xA734, 0xA735, 0xA737, 0xA738, 0xA739, 0xA73B, 0xA73C, 0xA73D, 0xA73F, 0xA740, 0xA741, 0xA743, 0xA744, 0xA745, 0xA747, 0xA748, 
	0xA74A, 0xA74B, 0xA74C, 0xA74E, 0xA74F, 0xA750, 0xA752, 0xA753, 0xA754, 0xA756, 0xA757, 0xA758, 0xA75A, 0xA75B, 0xA75C, 0xA75E, 
	0xA75F, 0xA760, 0xA762, 0xA763, 0xA764, 0xA766, 0xA767, 0xA768, 0xA76A, 0xA76B, 0xA76C, 0xA76E, 0xA76F, 0xA770, 0xA772, 0xA773, 
	0xA774, 0xA776, 0xA777, 0xA778, 0xA77A, 0xA77B, 0xA77C, 0xA77E, 0xA77F, 0xA780, 0xA782, 0xA783, 0xA784, 0xA786, 0xA787, 0xA788, 
	0xA78A, 0xA78B, 0xA78C, 0xA78E, 0xA78F, 0xA790, 0xA792, 0xA793, 0xA794, 0xA796, 0xA797, 0xA798, 0xA799, 0xA79B, 0xA79C, 0xA79D, 
	0xA79F, 0xA7A0, 0xA7A1, 0xA7A3, 0xA7A4, 0xA7A5, 0xA7A7, 0xA7A8, 0xA7A9, 0xA7AB, 0xA7AC, 0xA7AD, 0xA7AE, 0xA7B0, 0xA7B1, 0xA7B2, 
	0xA7B4, 0xA7B5, 0xA7B6, 0xA7B8, 0xA7B9, 0xA7BA, 0xA7BC, 0xA7BD, 0xA7BE, 0xA7BF, 0xA7C1, 0xA7C2, 0xA7C3, 0xA7C5, 0xA7C6, 0xA7C7, 
	0xA7C9, 0xA7CA, 0xA7CB, 0xA7CC, 0xA7CE, 0xA7CF, 0xA7D0, 0xA7D2, 0xA7D3, 0xA7D4, 0xA7D6, 0xA7D7, 0xA7D8, 0xA7D9, 0xA7DB, 0xA7DC, 
	0xA7DD, 0xA7DF, 0xA7E0, 0xA7E1, 0xA7E2, 0xA7E4, 0xA7E5, 0xA7E6, 0xA7E8, 0xA7E9, 0xA7EA, 0xA7EC, 0xA7ED, 0xA7EE, 0xA7EF, 0xA7F1, 
	0xA7F2, 0xA7F3, 0xA7F5, 0xA7F6, 0xA7F7, 0xA7F8, 0xA7FA, 0xA7FB, 0xA7FC, 0xA7FD, 0xA7FF, 0xA800, 0xA801, 0xA803, 0xA804, 0xA805, 
	0xA806, 0xA808, 0xA809, 0xA80A, 0xA80C, 0xA80D, 0xA80E, 0xA80F, 0xA811, 0xA812, 0xA813, 0xA814, 0xA816, 0xA817, 0xA818, 0xA81A, 
	0xA81B, 0xA81C, 0xA81D, 0xA81F, 0xA820, 0xA821, 0xA822, 0xA824, 0xA825, 0xA826, 0xA828, 0xA829, 0xA82A, 0xA82B, 0xA82D, 0xA82E, 
	0xA82F, 0xA830, 0xA832, 0xA833, 0xA834, 0xA835, 0xA837, 0xA838, 0xA839, 0xA83A, 0xA83C, 0xA83D, 0xA83E, 0xA840, 0xA841, 0xA842, 
	0xA843, 0xA845, 0xA846, 0xA847, 0xA848, 0xA84A, 0xA84B, 0xA84C, 0xA84D, 0xA84F, 0xA850, 0xA851, 0xA852, 0xA854, 0xA855, 0xA856, 
	0xA857, 0xA859, 0xA85A, 0xA85B, 0xA85C, 0xA85E, 0xA85F, 0xA860, 0xA861, 0xA863, 0xA864, 0xA865, 0xA866, 0xA868, 0xA869, 0xA86A, 
	0xA86B, 0xA86C, 0xA86E, 0xA86F, 0xA870, 0xA871, 0xA873, 0xA874, 0xA875, 0xA876, 0xA878, 0xA879, 0xA87A, 0xA87B, 0xA87D, 0xA87E, 
	0xA87F, 0xA880, 0xA882, 0xA883, 0xA884, 0xA885, 0xA886, 0xA888, 0xA889, 0xA88A, 0xA88B, 0xA88D, 0xA88E, 0xA88F, 0xA890, 0xA892, 
	0xA893, 0xA894, 0xA895, 0xA896, 0xA898, 0xA899, 0xA89A, 0xA89B, 0xA89D, 0xA89E, 0xA89F, 0xA8A0, 0xA8A1, 0xA8A3, 0xA8A4, 0xA8A5, 
	0xA8A6, 0xA8A8, 0xA8A9, 0xA8AA, 0xA8AB, 0xA8AC, 0xA8AE, 0xA8AF, 0xA8B0, 0xA8B1, 0xA8B3, 0xA8B4, 0xA8B5, 0xA8B6, 0xA8B7, 0xA8B9, 
	0xA8BA, 0xA8BB, 0xA8BC, 0xA8BE, 0xA8BF, 0xA8C0, 0xA8C1, 0xA8C2, 0xA8C4, 0xA8C5, 0xA8C6, 0xA8C7, 0xA8C8, 0xA8CA, 0xA8CB, 0xA8CC, 
	0xA8CD, 0xA8CE, 0xA8D0, 0xA8D1, 0xA8D2, 0xA8D3, 0xA8D5, 0xA8D6, 0xA8D7, 0xA8D8, 0xA8D9, 0xA8DB, 0xA8DC, 0xA8DD, 0xA8DE, 0xA8DF, 
	0xA8E1, 0xA8E2, 0xA8E3, 0xA8E4, 0xA8E5, 0xA8E7, 0xA8E8, 0xA8E9, 0xA8EA, 0xA8EB, 0xA8ED, 0xA8EE, 0xA8EF, 0xA8F0, 0xA8F1, 0xA8F3, 
	0xA8F4, 0xA8F5, 0xA8F6, 0xA8F7, 0xA8F9, 0xA8FA, 0xA8FB, 0xA8FC, 0xA8FD, 0xA8FE, 0xA900, 0xA901, 0xA902, 0xA903, 0xA904, 0xA906, 
	0xA907, 0xA908, 0xA909, 0xA90A, 0xA90C, 0xA90D, 0xA90E, 0xA90F, 0xA910, 0xA911, 0xA913, 0xA914, 0xA915, 0xA916, 0xA917, 0xA919, 
	0xA91A, 0xA91B, 0xA91C, 0xA91D, 0xA91F, 0xA920, 0xA921, 0xA922, 0xA923, 0xA924, 0xA926, 0xA927, 0xA928, 0xA929, 0xA92A, 0xA92B, 
	0xA92D, 0xA92E, 0xA92F, 0xA930, 0xA931, 0xA933, 0xA934, 0xA935, 0xA936, 0xA937, 0xA938, 0xA93A, 0xA93B, 0xA93C, 0xA93D, 0xA93E, 
	0xA93F, 0xA941, 0xA942, 0xA943, 0xA944, 0xA945, 0xA946, 0xA948, 0xA949, 0xA94A, 0xA94B, 0xA94C, 0xA94D, 0xA94F, 0xA950, 0xA951, 
	0xA952, 0xA953, 0xA954, 0xA956, 0xA957, 0xA958, 0xA959, 0xA95A, 0xA95B, 0xA95D, 0xA95E, 0xA95F, 0xA960, 0xA961, 0xA962, 0xA964, 
	0xA965, 0xA966, 0xA967, 0xA968, 0xA969, 0xA96A, 0xA96C, 0xA96D, 0xA96E, 0xA96F, 0xA970, 0xA971, 0xA973, 0xA974, 0xA975, 0xA976, 
	0xA977, 0xA978, 0xA979, 0xA97B, 0xA97C, 0xA97D, 0xA97E, 0xA97F, 0xA980, 0xA982, 0xA983, 0xA984, 0xA985, 0xA986, 0xA987, 0xA988, 
	0xA98A, 0xA98B, 0xA98C, 0xA98D, 0xA98E, 0xA98F, 0xA990, 0xA992, 0xA993, 0xA994, 0xA995, 0xA996, 0xA997, 0xA998, 0xA99A, 0xA99B, 
	0xA99C, 0xA99D, 0xA99E, 0xA99F, 0xA9A0, 0xA9A2, 0xA9A3, 0xA9A4, 0xA9A5, 0xA9A6, 0xA9A7, 0xA9A8, 0xA9A9, 0xA9AB, 0xA9AC, 0xA9AD, 
	0xA9AE, 0xA9AF, 0xA9B0, 0xA9B1, 0xA9B3, 0xA9B4, 0xA9B5, 0xA9B6, 0xA9B7, 0xA9B8, 0xA9B9, 0xA9BA, 0xA9BC, 0xA9BD, 0xA9BE, 0xA9BF, 
	0xA9C0, 0xA9C1, 0xA9C2, 0xA9C4, 0xA9C5, 0xA9C6, 0xA9C7, 0xA9C8, 0xA9C9, 0xA9CA, 0xA9CB, 0xA9CD, 0xA9CE, 0xA9CF, 0xA9D0, 0xA9D1, 
	0xA9D2, 0xA9D3, 0xA9D4, 0xA9D6, 0xA9D7, 0xA9D8, 0xA9D9, 0xA9DA, 0xA9DB, 0xA9DC, 0xA9DD, 0xA9DE, 0xA9E0, 0xA9E1, 0xA9E2, 0xA9E3, 
	0xA9E4, 0xA9E5, 0xA9E6, 0xA9E7, 0xA9E9, 0xA9EA, 0xA9EB, 0xA9EC, 0xA9ED, 0xA9EE, 0xA9EF, 0xA9F0, 0xA9F1, 0xA9F3, 0xA9F4, 0xA9F5, 
	0xA9F6, 0xA9F7, 0xA9F8, 0xA9F9, 0xA9FA, 0xA9FB, 0xA9FD, 0xA9FE, 0xA9FF, 0xAA00, 0xAA01, 0xAA02, 0xAA03, 0xAA04, 0xAA05, 0xAA07, 
	0xAA08, 0xAA09, 0xAA0A, 0xAA0B, 0xAA0C, 0xAA0D, 0xAA0E, 0xAA0F, 0xAA10, 0xAA12, 0xAA13, 0xAA14, 0xAA15, 0xAA16, 0xAA17, 0xAA18, 
	0xAA19, 0xAA1A, 0xAA1C, 0xAA1D, 0xAA1E, 0xAA1F, 0xAA20, 0xAA21, 0xAA22, 0xAA23, 0xAA24, 0xAA25, 0xAA27, 0xAA28, 0xAA29, 0xAA2A, 
	0xAA2B, 0xAA2C, 0xAA2D, 0xAA2E, 0xAA2F, 0xAA30, 0xAA31, 0xAA33, 0xAA34, 0xAA35, 0xAA36, 0xAA37, 0xAA38, 0xAA39, 0xAA3A, 0xAA3B, 
	0xAA3C, 0xAA3D, 0xAA3F, 0xAA40, 0xAA41, 0xAA42, 0xAA43, 0xAA44, 0xAA45, 0xAA46, 0xAA47, 0xAA48, 0xAA49, 0xAA4B, 0xAA4C, 0xAA4D, 
	0xAA4E, 0xAA4F, 0xAA50, 0xAA51, 0xAA52, 0xAA53, 0xAA54, 0xAA55, 0xAA56, 0xAA58, 0xAA59, 0xAA5A, 0xAA5B, 0xAA5C, 0xAA5D, 0xAA5E, 
	0xAA5F, 0xAA60, 0xAA61, 0xAA62, 0xAA63, 0xAA64, 0xAA66, 0xAA67, 0xAA68, 0xAA69, 0xAA6A, 0xAA6B, 0xAA6C, 0xAA6D, 0xAA6E, 0xAA6F, 
	0xAA70, 0xAA71, 0xAA72, 0xAA74, 0xAA75, 0xAA76, 0xAA77, 0xAA78, 0xAA79, 0xAA7A, 0xAA7B, 0xAA7C, 0xAA7D, 0xAA7E, 0xAA7F, 0xAA80, 
	0xAA81, 0xAA83, 0xAA84, 0xAA85, 0xAA86, 0xAA87, 0xAA88, 0xAA89, 0xAA8A, 0xAA8B, 0xAA8C, 0xAA8D, 0xAA8E, 0xAA8F, 0xAA90, 0xAA91, 
	0xAA93, 0xAA94, 0xAA95, 0xAA96, 0xAA97, 0xAA98, 0xAA99, 0xAA9A, 0xAA9B, 0xAA9C, 0xAA9D, 0xAA9E, 0xAA9F, 0xAAA0, 0xAAA1, 0xAAA2, 
	0xAAA3, 0xAAA5, 0xAAA6, 0xAAA7, 0xAAA8, 0xAAA9, 0xAAAA, 0xAAAB, 0xAAAC, 0xAAAD, 0xAAAE, 0xAAAF, 0xAAB0, 0xAAB1, 0xAAB2, 0xAAB3, 
	0xAAB4, 0xAAB5, 0xAAB7, 0xAAB8, 0xAAB9, 0xAABA, 0xAABB, 0xAABC, 0xAABD, 0xAABE, 0xAABF, 0xAAC0, 0xAAC1, 0xAAC2, 0xAAC3, 0xAAC4, 
	0xAAC5, 0xAAC6, 0xAAC7, 0xAAC8, 0xAAC9, 0xAACA, 0xAACC, 0xAACD, 0xAACE, 0xAACF, 0xAAD0, 0xAAD1, 0xAAD2, 0xAAD3, 0xAAD4, 0xAAD5, 
	0xAAD6, 0xAAD7, 0xAAD8, 0xAAD9, 0xAADA, 0xAADB, 0xAADC, 0xAADD, 0xAADE, 0xAADF, 0xAAE0, 0xAAE1, 0xAAE2, 0xAAE4, 0xAAE5, 0xAAE6, 
	0xAAE7, 0xAAE8, 0xAAE9, 0xAAEA, 0xAAEB, 0xAAEC, 0xAAED, 0xAAEE, 0xAAEF, 0xAAF0, 0xAAF1, 0xAAF2, 0xAAF3, 0xAAF4, 0xAAF5, 0xAAF6, 
	0xAAF7, 0xAAF8, 0xAAF9, 0xAAFA, 0xAAFB, 0xAAFC, 0xAAFD, 0xAAFE, 0xAAFF, 0xAB01, 0xAB02, 0xAB03, 0xAB04, 0xAB05, 0xAB06, 0xAB07, 
	0xAB08, 0xAB09, 0xAB0A, 0xAB0B, 0xAB0C, 0xAB0D, 0xAB0E, 0xAB0F, 0xAB10, 0xAB11, 0xAB12, 0xAB13, 0xAB14, 0xAB15, 0xAB16, 0xAB17, 
	0xAB18, 0xAB19, 0xAB1A, 0xAB1B, 0xAB1C, 0xAB1D, 0xAB1E, 0xAB1F, 0xAB20, 0xAB21, 0xAB22, 0xAB23, 0xAB24, 0xAB25, 0xAB26, 0xAB27, 
	0xAB29, 0xAB2A, 0xAB2B, 0xAB2C, 0xAB2D, 0xAB2E, 0xAB2F, 0xAB30, 0xAB31, 0xAB32, 0xAB33, 0xAB34, 0xAB35, 0xAB36, 0xAB37, 0xAB38, 
	0xAB39, 0xAB3A, 0xAB3B, 0xAB3C, 0xAB3D, 0xAB3E, 0xAB3F, 0xAB40, 0xAB41, 0xAB42, 0xAB43, 0xAB44, 0xAB45, 0xAB46, 0xAB47, 0xAB48, 
	0xAB49, 0xAB4A, 0xAB4B, 0xAB4C, 0xAB4D, 0xAB4E, 0xAB4F, 0xAB50, 0xAB51, 0xAB52, 0xAB53, 0xAB54, 0xAB55, 0xAB56, 0xAB57, 0xAB58, 
	0xAB59, 0xAB5A, 0xAB5B, 0xAB5C, 0xAB5D, 0xAB5E, 0xAB5F, 0xAB60, 0xAB61, 0xAB62, 0xAB63, 0xAB64, 0xAB65, 0xAB66, 0xAB67, 0xAB68, 
	0xAB69, 0xAB6A, 0xAB6B, 0xAB6C, 0xAB6D, 0xAB6E, 0xAB6F, 0xAB70, 0xAB71, 0xAB72, 0xAB73, 0xAB74, 0xAB75, 0xAB76, 0xAB77, 0xAB78, 
	0xAB79, 0xAB7A, 0xAB7B, 0xAB7C, 0xAB7D, 0xAB7E, 0xAB7F, 0xAB80, 0xAB81, 0xAB82, 0xAB83, 0xAB84, 0xAB85, 0xAB86, 0xAB87, 0xAB88, 
	0xAB89, 0xAB8A, 0xAB8B, 0xAB8C, 0xAB8D, 0xAB8E, 0xAB8F, 0xAB90, 0xAB91, 0xAB92, 0xAB93, 0xAB94, 0xAB95, 0xAB96, 0xAB97, 0xAB98, 
	0xAB99, 0xAB9A, 0xAB9B, 0xAB9C, 0xAB9D, 0xAB9E, 0xAB9F, 0xABA0, 0xABA1, 0xABA2, 0xABA3, 0xABA4, 0xABA5, 0xABA6, 0xABA7, 0xABA8, 
	0xABA9, 0xABAA, 0xABAB, 0xABAC, 0xABAD, 0xABAE, 0xABAF, 0xABB0, 0xABB1, 0xABB2, 0xABB3, 0xABB4, 0xABB5, 0xABB6, 0xABB6, 0xABB7, 
	0xABB8, 0xABB9, 0xABBA, 0xABBB, 0xABBC, 0xABBD, 0xABBE, 0xABBF, 0xABC0, 0xABC1, 0xABC2, 0xABC3, 0xABC4, 0xABC5, 0xABC6, 0xABC7, 
	0xABC8, 0xABC9, 0xABCA, 0xABCB, 0xABCC, 0xABCD, 0xABCE, 0xABCF, 0xABD0, 0xABD1, 0xABD2, 0xABD3, 0xABD4, 0xABD5, 0xABD6, 0xABD7, 
	0xABD8, 0xABD9, 0xABDA, 0xABDB, 0xABDC, 0xABDD, 0xABDD, 0xABDE, 0xABDF, 0xABE0, 0xABE1, 0xABE2, 0xABE3, 0xABE4, 0xABE5, 0xABE6, 
	0xABE7, 0xABE8, 0xABE9, 0xABEA, 0xABEB, 0xABEC, 0xABED, 0xABEE, 0xABEF, 0xABF0, 0xABF1, 0xABF2, 0xABF3, 0xABF4, 0xABF5, 0xABF6, 
	0xABF7, 0xABF8, 0xABF9, 0xABF9, 0xABFA, 0xABFB, 0xABFC, 0xABFD, 0xABFE, 0xABFF, 0xAC00, 0xAC01, 0xAC02, 0xAC03, 0xAC04, 0xAC05, 
	0xAC06, 0xAC07, 0xAC08, 0xAC09, 0xAC0A, 0xAC0B, 0xAC0C, 0xAC0D, 0xAC0E, 0xAC0F, 0xAC10, 0xAC10, 0xAC11, 0xAC12, 0xAC13, 0xAC14, 
	0xAC15, 0xAC16, 0xAC17, 0xAC18, 0xAC19, 0xAC1A, 0xAC1B, 0xAC1C, 0xAC1D, 0xAC1E, 0xAC1F, 0xAC20, 0xAC21, 0xAC22, 0xAC23, 0xAC24, 
	0xAC24, 0xAC25, 0xAC26, 0xAC27, 0xAC28, 0xAC29, 0xAC2A, 0xAC2B, 0xAC2C, 0xAC2D, 0xAC2E, 0xAC2F, 0xAC30, 0xAC31, 0xAC32, 0xAC33, 
	0xAC34, 0xAC35, 0xAC36, 0xAC37, 0xAC37, 0xAC38, 0xAC39, 0xAC3A, 0xAC3B, 0xAC3C, 0xAC3D, 0xAC3E, 0xAC3F, 0xAC40, 0xAC41, 0xAC42, 
	0xAC43, 0xAC44, 0xAC45, 0xAC46, 0xAC47, 0xAC47, 0xAC48, 0xAC49, 0xAC4A, 0xAC4B, 0xAC4C, 0xAC4D, 0xAC4E, 0xAC4F, 0xAC50, 0xAC51, 
	0xAC52, 0xAC53, 0xAC54, 0xAC55, 0xAC56, 0xAC57, 0xAC57, 0xAC58, 0xAC59, 0xAC5A, 0xAC5B, 0xAC5C, 0xAC5D, 0xAC5E, 0xAC5F, 0xAC60, 
	0xAC61, 0xAC62, 0xAC63, 0xAC64, 0xAC65, 0xAC65, 0xAC66, 0xAC67, 0xAC68, 0xAC69, 0xAC6A, 0xAC6B, 0xAC6C, 0xAC6D, 0xAC6E, 0xAC6F, 
	0xAC70, 0xAC71, 0xAC72, 0xAC73, 0xAC73, 0xAC74, 0xAC75, 0xAC76, 0xAC77, 0xAC78, 0xAC79, 0xAC7A, 0xAC7B, 0xAC7C, 0xAC7D, 0xAC7E, 
	0xAC7F, 0xAC7F, 0xAC80, 0xAC81, 0xAC82, 0xAC83, 0xAC84, 0xAC85, 0xAC86, 0xAC87, 0xAC88, 0xAC89, 0xAC8A, 0xAC8B, 0xAC8C, 0xAC8C, 
	0xAC8D, 0xAC8E, 0xAC8F, 0xAC90, 0xAC91, 0xAC92, 0xAC93, 0xAC94, 0xAC95, 0xAC96, 0xAC97, 0xAC97, 0xAC98, 0xAC99, 0xAC9A, 0xAC9B, 
	0xAC9C, 0xAC9D, 0xAC9E, 0xAC9F, 0xACA0, 0xACA1, 0xACA2, 0xACA3, 0xACA3, 0xACA4, 0xACA5, 0xACA6, 0xACA7, 0xACA8, 0xACA9, 0xACAA, 
	0xACAB, 0xACAC, 0xACAD, 0xACAE, 0xACAE, 0xACAF, 0xACB0, 0xACB1, 0xACB2, 0xACB3, 0xACB4, 0xACB5, 0xACB6, 0xACB7, 0xACB8, 0xACB8, 
	0xACB9, 0xACBA, 0xACBB, 0xACBC, 0xACBD, 0xACBE, 0xACBF, 0xACC0, 0xACC1, 0xACC2, 0xACC2, 0xACC3, 0xACC4, 0xACC5, 0xACC6, 0xACC7, 
	0xACC8, 0xACC9, 0xACCA, 0xACCB, 0xACCC, 0xACCC, 0xACCD, 0xACCE, 0xACCF, 0xACD0, 0xACD1, 0xACD2, 0xACD3, 0xACD4, 0xACD5, 0xACD6, 
	0xACD6, 0xACD7, 0xACD8, 0xACD9, 0xACDA, 0xACDB, 0xACDC, 0xACDD, 0xACDE, 0xACDF, 0xACDF, 0xACE0, 0xACE1, 0xACE2, 0xACE3, 0xACE4, 
	0xACE5, 0xACE6, 0xACE7, 0xACE8, 0xACE8, 0xACE9, 0xACEA, 0xACEB, 0xACEC, 0xACED, 0xACEE, 0xACEF, 0xACF0, 0xACF1, 0xACF1, 0xACF2, 
	0xACF3, 0xACF4, 0xACF5, 0xACF6, 0xACF7, 0xACF8, 0xACF9, 0xACF9, 0xACFA, 0xACFB, 0xACFC, 0xACFD, 0xACFE, 0xACFF, 0xAD00, 0xAD01, 
	0xAD02, 0xAD02, 0xAD03, 0xAD04, 0xAD05, 0xAD06, 0xAD07, 0xAD08, 0xAD09, 0xAD0A, 0xAD0A, 0xAD0B, 0xAD0C, 0xAD0D, 0xAD0E, 0xAD0F, 
	0xAD10, 0xAD11, 0xAD12, 0xAD12, 0xAD13, 0xAD14, 0xAD15, 0xAD16, 0xAD17, 0xAD18, 0xAD19, 0xAD1A, 0xAD1A, 0xAD1B, 0xAD1C, 0xAD1D, 
	0xAD1E, 0xAD1F, 0xAD20, 0xAD21, 0xAD22, 0xAD22, 0xAD23, 0xAD24, 0xAD25, 0xAD26, 0xAD27, 0xAD28, 0xAD29, 0xAD2A, 0xAD2A, 0xAD2B, 
	0xAD2C, 0xAD2D, 0xAD2E, 0xAD2F, 0xAD30, 0xAD31, 0xAD31, 0xAD32, 0xAD33, 0xAD34, 0xAD35, 0xAD36, 0xAD37, 0xAD38, 0xAD38, 0xAD39, 
	0xAD3A, 0xAD3B, 0xAD3C, 0xAD3D, 0xAD3E, 0xAD3F, 0xAD40, 0xAD40, 0xAD41, 0xAD42, 0xAD43, 0xAD44, 0xAD45, 0xAD46, 0xAD47, 0xAD47, 
	0xAD48, 0xAD49, 0xAD4A, 0xAD4B, 0xAD4C, 0xAD4D, 0xAD4E, 0xAD4E, 0xAD4F, 0xAD50, 0xAD51, 0xAD52, 0xAD53, 0xAD54, 0xAD55, 0xAD55, 
	0xAD56, 0xAD57, 0xAD58, 0xAD59, 0xAD5A, 0xAD5B, 0xAD5B, 0xAD5C, 0xAD5D, 0xAD5E, 0xAD5F, 0xAD60, 0xAD61, 0xAD62, 0xAD62, 0xAD63, 
	0xAD64,
};


long long log_10(long long a)
{
	// a range = 0 ~ 262143 (0~4)
	// 16bit out, 3bit int, 13 bit float
	long long out=0;
	long long in,idx,lsb;

	if(a==1)
		in=0;
	else
		in=a;
	if(in>=262143)
		out=log_tbl[4096];
	else
	{
		idx=in>>6;
		lsb=in&0x3f;
		out=(lsb*(long long)(log_tbl[idx+1])+ (64-lsb)*(long long)(log_tbl[idx]))>>6;
	}
	/*else
	{
		for(i=0;i<4096;i++)
		{
			idx=i*16;
			idx_next=CLIP_hdr_vivid(0,65535,idx+16);
			if(in>=idx&&in<idx_next)
			{
				if(idx==65520)
				{
					out=((in-idx)*(long long)(log_tbl[i+1])+(idx_next-in)*(long long)(log_tbl[i]))/15;
					break;
				}
				else
				{
					out=((in-idx)*(long long)(log_tbl[i+1])+(idx_next-in)*(long long)(log_tbl[i]))>>4;
					break;
				}
			}
		}
	}*/

	
	return(out);
}
//pow10 table
		unsigned int pow10_tbl[256]={
		0x10000,0x10250,0x104a5,0x10700,0x10960,0x10bc6,0x10e31,0x110a2,0x11319,0x11595,0x11817,0x11a9f,0x11d2d,0x11fc0,0x1225a,0x124fa,
		0x1279f,0x12a4b,0x12cfd,0x12fb5,0x13274,0x13538,0x13804,0x13ad5,0x13dae,0x1408c,0x14372,0x1465e,0x14951,0x14c4b,0x14f4b,0x15253,
		0x15561,0x15877,0x15b94,0x15eb7,0x161e3,0x16515,0x1684f,0x16b90,0x16ed9,0x1722a,0x17582,0x178e2,0x17c4a,0x17fb9,0x18331,0x186b0,
		0x18a38,0x18dc8,0x19160,0x19500,0x198a9,0x19c5a,0x1a014,0x1a3d7,0x1a7a2,0x1ab75,0x1af52,0x1b338,0x1b726,0x1bb1e,0x1bf1f,0x1c329,
		0x1c73d,0x1cb5a,0x1cf80,0x1d3b0,0x1d7ea,0x1dc2e,0x1e07b,0x1e4d2,0x1e934,0x1ed9f,0x1f215,0x1f695,0x1fb1f,0x1ffb4,0x20454,0x208fe,
		0x20db3,0x21273,0x2173e,0x21c14,0x220f5,0x225e2,0x22ada,0x22fdd,0x234ec,0x23a07,0x23f2d,0x24460,0x2499e,0x24ee8,0x2543f,0x259a2,
		0x25f12,0x2648e,0x26a17,0x26fac,0x2754f,0x27aff,0x280bb,0x28685,0x28c5d,0x29242,0x29834,0x29e34,0x2a443,0x2aa5f,0x2b089,0x2b6c2,
		0x2bd09,0x2c35e,0x2c9c2,0x2d035,0x2d6b7,0x2dd48,0x2e3e8,0x2ea97,0x2f156,0x2f825,0x2ff03,0x305f1,0x30cef,0x313fd,0x31b1c,0x3224b,
		0x3298b,0x330db,0x3383c,0x33faf,0x34732,0x34ec7,0x3566e,0x35e26,0x365f0,0x36dcd,0x375bb,0x37dbc,0x385cf,0x38df5,0x3962d,0x39e79,
		0x3a6d8,0x3af4a,0x3b7d0,0x3c06a,0x3c917,0x3d1d9,0x3daae,0x3e398,0x3ec97,0x3f5ab,0x3fed3,0x40811,0x41164,0x41acd,0x4244b,0x42de0,
		0x4378b,0x4414b,0x44b23,0x45511,0x45f17,0x46933,0x47367,0x47db2,0x48815,0x49291,0x49d24,0x4a7d0,0x4b295,0x4bd72,0x4c869,0x4d379,
		0x4dea3,0x4e9e6,0x4f543,0x500bb,0x50c4e,0x517fb,0x523c3,0x52fa6,0x53ba5,0x547bf,0x553f6,0x56049,0x56cb8,0x57944,0x585ed,0x592b4,
		0x59f98,0x5ac99,0x5b9b9,0x5c6f7,0x5d454,0x5e1d0,0x5ef6b,0x5fd25,0x60aff,0x618f9,0x62714,0x6354f,0x643ab,0x65228,0x660c7,0x66f88,
		0x67e6a,0x68d6f,0x69c97,0x6abe2,0x6bb50,0x6cae2,0x6da98,0x6ea73,0x6fa72,0x70a96,0x71adf,0x72b4e,0x73be3,0x74c9e,0x75d81,0x76e8a,
		0x77fba,0x79112,0x7a293,0x7b43c,0x7c60d,0x7d808,0x7ea2d,0x7fc7b,0x80ef4,0x82198,0x83466,0x84761,0x85a87,0x86dd9,0x88158,0x89504,
		0x8a8de,0x8bce5,0x8d11b,0x8e580,0x8fa14,0x90ed7,0x923cb,0x938ee,0x94e43,0x963c9,0x97981,0x98f6b,0x9a588,0x9bbd8,0x9d25c,0x9e913
	};


long long pow_float_fix(long long x,long long y,long long shift_bit, int devide_flag)
{
	//y is 16 bit
	//pow10_tbl: 16bit float

	long long y_int,y_fra,out_int,out_fra,tmp_log,out,msb8,lsb5,pow10_int_bit,pow10_int;
	int i;
	out_int=1;
	pow10_int=1;
	if(x==0)
		return 0;
	if(y==0)
		return 1;
	y_int=y>>shift_bit;
	y_fra=y&((1<<shift_bit)-1);
	if(y_int==1&&y_fra==0)
		return x;
	else
	{
		
		tmp_log=(y_fra*log_10(x))>>shift_bit; // 3bit int, 13bit float
		pow10_int_bit=tmp_log>>13; // 3bit int
		msb8=(tmp_log&0x1fff)>>5; //8bit
		lsb5=tmp_log&0x1f;
		if(msb8==255)
			out_fra=pow10_tbl[255];
		/*for( i=0;i<255;i++)
		{
			if(msb8>=i&&msb8<(i+1))
				{
					out_fra=((lsb5*pow10_tbl[(i+1)]+(31-lsb5)*pow10_tbl[i]+16)*33)>>10; // "*33/32/32" to get close to "/31"
					break;
				}
		}*/
		else
		{
			out_fra=(lsb5*pow10_tbl[(msb8+1)]+(32-lsb5)*pow10_tbl[msb8]+16)>>5;
		}
		for( i=0;i<y_int;i++)
		{
			out_int=out_int*x;
			if(i>0)
				out_int=out_int>>16; // out_int: 16bit

		}
		for( i=0;i<pow10_int_bit;i++)
		{
			pow10_int=pow10_int*10;
		}
		if(out_int==1&&devide_flag==0)
		{
			out=(out_int*out_fra*pow10_int)<<16; //32bit float
			if(pow10_int_bit==4)
				out=out>>4;
		}
		else
		{
			out=out_int*out_fra*pow10_int;//16bit float
			if(pow10_int_bit==4)
				out=out>>4;
		}
		return out;
	}
}
#if CUVA_FW_TEST_ON_FPGA
char drvif_DM2_EOTF_Set_verify(unsigned int *EOTF_table32_R, unsigned int *EOTF_table32_G, unsigned int *EOTF_table32_B)
{
	UINT16 i;
	UINT32 timeoutcnt = 0x062500;
	UINT32 timeoutcnt_rw_addr =100;
	dm_hdr_eotf_lut_ctrl0_RBUS DM_HDR_EOTF_LUT_CTRL0_Reg;
	dm_hdr_eotf_lut_ctrl1_RBUS DM_HDR_EOTF_LUT_CTRL1_Reg;
	dm_hdr_eotf_lut_wr_data0_RBUS dm_hdr_eotf_lut_wr_data0_Reg;
	dm_hdr_eotf_lut_wr_data1_RBUS dm_hdr_eotf_lut_wr_data1_Reg;
	dm_hdr_eotf_lut_wr_data2_RBUS dm_hdr_eotf_lut_wr_data2_Reg;
	dm_hdr_eotf_lut_wr_data3_RBUS dm_hdr_eotf_lut_wr_data3_Reg;
	dm_hdr_eotf_lut_wr_data4_RBUS dm_hdr_eotf_lut_wr_data4_Reg;
	dm_hdr_eotf_lut_wr_data5_RBUS dm_hdr_eotf_lut_wr_data5_Reg;

	for(i=0;i<timeoutcnt_rw_addr;i++) //switch read/write , address will clean to 0 (some time not work)
	{
		DM_HDR_EOTF_LUT_CTRL0_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_EOTF_LUT_CTRL0_reg);
		//write init
		DM_HDR_EOTF_LUT_CTRL0_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_EOTF_LUT_CTRL0_reg);
		DM_HDR_EOTF_LUT_CTRL0_Reg.eotf_lut_enable = 1;
		DM_HDR_EOTF_LUT_CTRL0_Reg.eotf_lut_rw_sel = 1;
		IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_CTRL0_reg, DM_HDR_EOTF_LUT_CTRL0_Reg.regValue);

		//Read init
		DM_HDR_EOTF_LUT_CTRL0_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_EOTF_LUT_CTRL0_reg);
		DM_HDR_EOTF_LUT_CTRL0_Reg.eotf_lut_enable = 1;
		DM_HDR_EOTF_LUT_CTRL0_Reg.eotf_lut_rw_sel = 2;
		IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_CTRL0_reg, DM_HDR_EOTF_LUT_CTRL0_Reg.regValue);

		DM_HDR_EOTF_LUT_CTRL1_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_EOTF_LUT_CTRL1_reg);

		if(DM_HDR_EOTF_LUT_CTRL1_Reg.eotf_lut_rw_addr!=0)
			;//rtd_pr_vpq_debug("PQ WARNING, Set HDR EOTF table wrong, rw_address not 0 ,times=%d",i);
		else
			break;

	}// read/write OE/EO table havt to check rw_address is 0

	if (i >= (timeoutcnt_rw_addr-1)) {
		rtd_pr_vpq_emerg("PQ WARNING, Set HDR EOTF table wrong, rw_address not 0 ,times=%d",i);
		return -1;
	}

	//write init
	DM_HDR_EOTF_LUT_CTRL0_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_EOTF_LUT_CTRL0_reg);
	DM_HDR_EOTF_LUT_CTRL0_Reg.eotf_lut_enable = 1;
	DM_HDR_EOTF_LUT_CTRL0_Reg.eotf_lut_rw_sel = 1;
	IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_CTRL0_reg, DM_HDR_EOTF_LUT_CTRL0_Reg.regValue);

	//data check
	for (i = 1; i < EOTF_size; i++)
	{
		if (EOTF_table32_R[i] < EOTF_table32_R[i - 1])
			{rtd_pr_vpq_debug("PQ WARNING, HDR EOTF table wrong, EOTF_table32_R[%d] = %d > EOTF_table32_R[%d] = %d\n", i - 1, EOTF_table32_R[i - 1], i, EOTF_table32_R[i]);}
		if (EOTF_table32_G[i] < EOTF_table32_G[i - 1])
			{v"PQ WARNING, HDR EOTF table wrong, EOTF_table32_G[%d] = %d > EOTF_table32_G[%d] = %d\n", i - 1, EOTF_table32_G[i - 1], i, EOTF_table32_G[i]);}
		if (EOTF_table32_B[i] < EOTF_table32_B[i - 1])
			{rtd_pr_vpq_debug("PQ WARNING, HDR EOTF table wrong, EOTF_table32_B[%d] = %d > EOTF_table32_B[%d] = %d\n", i - 1, EOTF_table32_B[i - 1], i, EOTF_table32_B[i]);}
	}


	//push data to SRAM
	i = 0;
	while(i < EOTF_size)
	{
		//data
		dm_hdr_eotf_lut_wr_data0_Reg.eotf_wr_lut_data0 = EOTF_table32_R[i];
		dm_hdr_eotf_lut_wr_data2_Reg.eotf_wr_lut_data2 = EOTF_table32_G[i];
		dm_hdr_eotf_lut_wr_data4_Reg.eotf_wr_lut_data4 = EOTF_table32_B[i];

		if (i + 1 < EOTF_size)		//data protect
		{
			dm_hdr_eotf_lut_wr_data1_Reg.eotf_wr_lut_data1 = EOTF_table32_R[i + 1];
			dm_hdr_eotf_lut_wr_data3_Reg.eotf_wr_lut_data3 = EOTF_table32_G[i + 1];
			dm_hdr_eotf_lut_wr_data5_Reg.eotf_wr_lut_data5 = EOTF_table32_B[i + 1];
		}

		IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_WR_DATA0_reg, dm_hdr_eotf_lut_wr_data0_Reg.regValue);
		IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_WR_DATA1_reg, dm_hdr_eotf_lut_wr_data1_Reg.regValue);
		IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_WR_DATA2_reg, dm_hdr_eotf_lut_wr_data2_Reg.regValue);
		IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_WR_DATA3_reg, dm_hdr_eotf_lut_wr_data3_Reg.regValue);
		IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_WR_DATA4_reg, dm_hdr_eotf_lut_wr_data4_Reg.regValue);
		IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_WR_DATA5_reg, dm_hdr_eotf_lut_wr_data5_Reg.regValue);

		//write
		DM_HDR_EOTF_LUT_CTRL1_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_EOTF_LUT_CTRL1_reg);
		DM_HDR_EOTF_LUT_CTRL1_Reg.eotf_lut_read_en = 0;
		DM_HDR_EOTF_LUT_CTRL1_Reg.eotf_lut_write_en = 1;
		IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_CTRL1_reg, DM_HDR_EOTF_LUT_CTRL1_Reg.regValue);
		do
		{
			timeoutcnt--;
			DM_HDR_EOTF_LUT_CTRL1_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_EOTF_LUT_CTRL1_reg);
		}
		while(DM_HDR_EOTF_LUT_CTRL1_Reg.eotf_lut_write_en && timeoutcnt > 10);

		if (timeoutcnt <= 10) {
			rtd_pr_vpq_emerg("PQ WARNING, EOTF Sram Timeout ,index=%d",i);
			return -1;
		}

		i = i + 2;
	}


	//write end
	DM_HDR_EOTF_LUT_CTRL0_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_EOTF_LUT_CTRL0_reg);
	DM_HDR_EOTF_LUT_CTRL0_Reg.eotf_lut_enable = 1;
	DM_HDR_EOTF_LUT_CTRL0_Reg.eotf_lut_rw_sel = 0;
	IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_CTRL0_reg, DM_HDR_EOTF_LUT_CTRL0_Reg.regValue);

	return 0;

}

char drvif_DM2_OETF_Set_verify(unsigned int *OETF_table16_R, unsigned int *OETF_table16_G, unsigned int *OETF_table16_B)
{
	UINT16 i;
	UINT32 timeoutcnt = 0x062500;
	UINT8 timeoutcnt_rw_addr =100;

	dm_hdr_oetf_lut_ctrl0_RBUS DM_HDR_OETF_LUT_CTRL0_Reg;
	dm_hdr_oetf_lut_ctrl1_RBUS DM_HDR_OETF_LUT_CTRL1_Reg;
	dm_hdr_oetf_lut_wr_data0_RBUS dm_hdr_oetf_lut_wr_data0_Reg;
	dm_hdr_oetf_lut_wr_data1_RBUS dm_hdr_oetf_lut_wr_data1_Reg;
	dm_hdr_oetf_lut_wr_data2_RBUS dm_hdr_oetf_lut_wr_data2_Reg;

	for(i=0;i<timeoutcnt_rw_addr;i++)//switch read/write , address will clean to 0 (some time not work)
	{
		//write init
		DM_HDR_OETF_LUT_CTRL0_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_OETF_LUT_CTRL0_reg);
		DM_HDR_OETF_LUT_CTRL0_Reg.oetf_lut_enable = 1;
		DM_HDR_OETF_LUT_CTRL0_Reg.oetf_lut_rw_sel = 1;
		IoReg_Fpga_Write32(DM_HDR_OETF_LUT_CTRL0_reg, DM_HDR_OETF_LUT_CTRL0_Reg.regValue);
		//read init
		DM_HDR_OETF_LUT_CTRL0_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_OETF_LUT_CTRL0_reg);
		DM_HDR_OETF_LUT_CTRL0_Reg.oetf_lut_enable = 1;
		DM_HDR_OETF_LUT_CTRL0_Reg.oetf_lut_rw_sel = 2;


		IoReg_Fpga_Write32(DM_HDR_OETF_LUT_CTRL0_reg, DM_HDR_OETF_LUT_CTRL0_Reg.regValue);

		DM_HDR_OETF_LUT_CTRL1_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_OETF_LUT_CTRL1_reg);
		if(DM_HDR_OETF_LUT_CTRL1_Reg.oetf_lut_rw_addr!=0)
			;//rtd_pr_vpq_emerg("PQ WARNING, Set HDR OETF table wrong, rw_address not 0 ,times=%d",i);
		else
			break;
	} // read/write OE/EO table havt to check rw_address is 0

	if (i >= (timeoutcnt_rw_addr-1)) {
		rtd_pr_vpq_emerg("PQ WARNING, Set HDR OETF table wrong, rw_address not 0 ,times=%d",i);
		return -1;
	}

	//write init
	DM_HDR_OETF_LUT_CTRL0_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_OETF_LUT_CTRL0_reg);
	DM_HDR_OETF_LUT_CTRL0_Reg.oetf_lut_enable = 1;
	DM_HDR_OETF_LUT_CTRL0_Reg.oetf_lut_rw_sel = 1;
	IoReg_Fpga_Write32(DM_HDR_OETF_LUT_CTRL0_reg, DM_HDR_OETF_LUT_CTRL0_Reg.regValue);

	//data check
	for (i = 1; i < OETF_size; i++)
	{
		if (OETF_table16_R[i] < OETF_table16_R[i - 1])
			{rtd_pr_vpq_debug("PQ WARNING, HDR OETF table wrong, OETF_table16_R[%d] = %d > OETF_table16_R[%d] = %d\n", i - 1, OETF_table16_R[i - 1], i, OETF_table16_R[i]);}
		if (OETF_table16_G[i] < OETF_table16_G[i - 1])
			{rtd_pr_vpq_debug("PQ WARNING, HDR OETF table wrong, OETF_table16_G[%d] = %d > OETF_table16_G[%d] = %d\n", i - 1, OETF_table16_G[i - 1], i, OETF_table16_G[i]);}
		if (OETF_table16_B[i] < OETF_table16_B[i - 1])
			{rtd_pr_vpq_debug("PQ WARNING, HDR OETF table wrong, OETF_table16_B[%d] = %d > OETF_table16_B[%d] = %d\n", i - 1, OETF_table16_B[i - 1], i, OETF_table16_B[i]);}
	}

	//push data to SRAM
	i = 0;
	while(i < OETF_size)
	{
		//data
		dm_hdr_oetf_lut_wr_data0_Reg.oetf_wr_lut_data0 = OETF_table16_R[i];
		dm_hdr_oetf_lut_wr_data1_Reg.oetf_wr_lut_data2 = OETF_table16_G[i];
		dm_hdr_oetf_lut_wr_data2_Reg.oetf_wr_lut_data4 = OETF_table16_B[i];

		if (i + 1 < OETF_size)
		{
			dm_hdr_oetf_lut_wr_data0_Reg.oetf_wr_lut_data1 = OETF_table16_R[i + 1];
			dm_hdr_oetf_lut_wr_data1_Reg.oetf_wr_lut_data3 = OETF_table16_G[i + 1];
			dm_hdr_oetf_lut_wr_data2_Reg.oetf_wr_lut_data5 = OETF_table16_B[i + 1];
		}

		IoReg_Fpga_Write32(DM_HDR_OETF_LUT_WR_DATA0_reg, dm_hdr_oetf_lut_wr_data0_Reg.regValue);
		IoReg_Fpga_Write32(DM_HDR_OETF_LUT_WR_DATA1_reg, dm_hdr_oetf_lut_wr_data1_Reg.regValue);
		IoReg_Fpga_Write32(DM_HDR_OETF_LUT_WR_DATA2_reg, dm_hdr_oetf_lut_wr_data2_Reg.regValue);

		//write
		DM_HDR_OETF_LUT_CTRL1_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_OETF_LUT_CTRL1_reg);
		DM_HDR_OETF_LUT_CTRL1_Reg.oetf_lut_read_en = 0;
		DM_HDR_OETF_LUT_CTRL1_Reg.oetf_lut_write_en = 1;
		IoReg_Fpga_Write32(DM_HDR_OETF_LUT_CTRL1_reg, DM_HDR_OETF_LUT_CTRL1_Reg.regValue);
		do
		{
			timeoutcnt--;
			DM_HDR_OETF_LUT_CTRL1_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_OETF_LUT_CTRL1_reg);
		}
		while(DM_HDR_OETF_LUT_CTRL1_Reg.oetf_lut_write_en && timeoutcnt > 10);

		if (timeoutcnt <= 10) {
			rtd_pr_vpq_emerg("PQ WARNING, OETF Sram Timeout ,index=%d",i);
			return -1;
		}

		i = i + 2;
	}


	//write end
	DM_HDR_OETF_LUT_CTRL0_Reg.regValue = IoReg_Fpga_Read32(DM_HDR_OETF_LUT_CTRL0_reg);
	DM_HDR_OETF_LUT_CTRL0_Reg.oetf_lut_enable = 1;
	DM_HDR_OETF_LUT_CTRL0_Reg.oetf_lut_rw_sel = 0;
	IoReg_Fpga_Write32(DM_HDR_OETF_LUT_CTRL0_reg, DM_HDR_OETF_LUT_CTRL0_Reg.regValue);

	return 0;

}

void drvif_DM2_CUVA_Set_verify(unsigned char shift_bit)
{
	dm_hdr_cuva_ctrl0_RBUS dm_hdr_cuva_ctrl0_reg;
	dm_hdr_eotf_lut_ctrl0_RBUS dm_hdr_eotf_lut_ctrl0_reg;
	dm_dm_submodule_enable_RBUS dm_dm_submodule_enable_reg;
	dm_hdr_oetf_lut_ctrl0_RBUS dm_hdr_oetf_lut_ctrl0_reg;
	dm_input_format_RBUS dm_input_format_reg;
	//dm_hdr_path_sel_RBUS dm_hdr_path_sel_reg;
	dm_hdr_gamma_ctrl0_RBUS dm_hdr_gamma_ctrl0_reg;
	dm_saturationadj_RBUS dm_saturationadj_reg;
	dm_dm_b02_lut_maxval_RBUS dm_dm_b02_lut_maxval_reg;
	dm_dither_set_RBUS dm_dither_set_reg;
	dm_eotf_para1_RBUS dm_eotf_para1_reg;
	dm_opttoopt_scale_RBUS dm_opttoopt_scale_reg;
	dm_opttoopt_offset_RBUS dm_opttoopt_offset_reg;
	dm_opttoopt_clip_RBUS dm_opttoopt_clip_reg;
	dm_opttoopt_coef0_RBUS dm_opttoopt_coef0_reg;
	dm_opttoopt_coef1_RBUS dm_opttoopt_coef1_reg;
	dm_opttoopt_coef2_RBUS dm_opttoopt_coef2_reg;
	dm_opttoopt_coef3_RBUS dm_opttoopt_coef3_reg;
	dm_opttoopt_coef4_RBUS dm_opttoopt_coef4_reg;
	dm_opttoopt_coef5_RBUS dm_opttoopt_coef5_reg;
	/* YUV2RGB setting */
	dm_ycctorgb_coef0_RBUS dm_ycctorgb_coef0_reg;
	dm_ycctorgb_coef1_RBUS dm_ycctorgb_coef1_reg;
	dm_ycctorgb_coef2_RBUS dm_ycctorgb_coef2_reg;
	dm_ycctorgb_coef3_RBUS dm_ycctorgb_coef3_reg;
	dm_ycctorgb_coef4_RBUS dm_ycctorgb_coef4_reg;
	dm_ycctorgb_coef5_RBUS dm_ycctorgb_coef5_reg;
	dm_ycctorgb_offset0_RBUS dm_ycctorgb_offset0_reg;
	dm_ycctorgb_offset1_RBUS dm_ycctorgb_offset1_reg;
	dm_ycctorgb_offset2_RBUS dm_ycctorgb_offset2_reg;
	dm_ycctorgb_scale_RBUS dm_ycctorgb_scale_reg;
	dm_signal_range_RBUS dm_signal_range_reg;
	
	dm_hdr_double_buffer_ctrl_RBUS dm_hdr_double_buffer_ctrl_reg;

	

	dm_input_format_reg.regValue = IoReg_Fpga_Read32(DM_Input_Format_reg);
	dm_input_format_reg.dm_in_sel=2;
	dm_input_format_reg.dm_inbits_sel=1;
	IoReg_Fpga_Write32(DM_Input_Format_reg, dm_input_format_reg.regValue);

	/*dm_hdr_path_sel_reg.regValue = IoReg_Fpga_Read32(DM_HDR_PATH_SEL_reg);
	dm_hdr_path_sel_reg.b0103_or_eotf=0;
	dm_hdr_path_sel_reg.b0105_or_oetf=0;
	dm_hdr_path_sel_reg.bbc_hdr_enable=0;
	dm_hdr_path_sel_reg.b05_position=2;
	dm_hdr_path_sel_reg.b03_no_sram_mode=1;
	dm_hdr_path_sel_reg.dm_b05_22bit_path=1;
	IoReg_Fpga_Write32(DM_HDR_PATH_SEL_reg, dm_hdr_path_sel_reg.regValue);*/

	dm_hdr_gamma_ctrl0_reg.regValue = IoReg_Fpga_Read32(DM_HDR_GAMMA_CTRL0_reg);
	dm_hdr_gamma_ctrl0_reg.gamma_out_shift_en=0;
	IoReg_Fpga_Write32(DM_HDR_GAMMA_CTRL0_reg, dm_hdr_gamma_ctrl0_reg.regValue);

	dm_saturationadj_reg.regValue = IoReg_Fpga_Read32(DM_SaturationAdj_reg);
	dm_saturationadj_reg.bypass_unsigned_en=1;
	IoReg_Fpga_Write32(DM_SaturationAdj_reg, dm_saturationadj_reg.regValue);

	dm_dm_b02_lut_maxval_reg.regValue = IoReg_Fpga_Read32(DM_DM_B02_LUT_MaxVal_reg);
	dm_dm_b02_lut_maxval_reg.b02_bypass_mode=0;
	IoReg_Fpga_Write32(DM_DM_B02_LUT_MaxVal_reg, dm_dm_b02_lut_maxval_reg.regValue);

	dm_dither_set_reg.regValue = IoReg_Fpga_Read32(DM_DITHER_SET_reg);
	dm_dither_set_reg.dither_in_format=1;
	IoReg_Fpga_Write32(DM_DITHER_SET_reg, dm_dither_set_reg.regValue);

	
	
	dm_opttoopt_scale_reg.regValue = IoReg_Fpga_Read32(DM_OPTtoOPT_Scale_reg);
	dm_opttoopt_scale_reg.opt2optscale=14;
	IoReg_Fpga_Write32(DM_OPTtoOPT_Scale_reg, dm_opttoopt_scale_reg.regValue);

	dm_opttoopt_offset_reg.regValue = IoReg_Fpga_Read32(DM_OPTtoOPT_Offset_reg);
	dm_opttoopt_offset_reg.opt2optoffset=0;
	IoReg_Fpga_Write32(DM_OPTtoOPT_Offset_reg, dm_opttoopt_offset_reg.regValue);

	dm_opttoopt_clip_reg.regValue = IoReg_Fpga_Read32(DM_OPTtoOPT_CLIP_reg);
	dm_opttoopt_clip_reg.opt2optminvalue=32769;//-32767
	dm_opttoopt_clip_reg.opt2optmaxvalue=65535;
	IoReg_Fpga_Write32(DM_OPTtoOPT_CLIP_reg, dm_opttoopt_clip_reg.regValue);

	dm_opttoopt_coef0_reg.regValue = IoReg_Fpga_Read32(DM_OPTtoOPT_coef0_reg);
	dm_opttoopt_coef0_reg.m33opt2opt00=8608;
	dm_opttoopt_coef0_reg.m33opt2opt01=22217;
	IoReg_Fpga_Write32(DM_OPTtoOPT_coef0_reg, dm_opttoopt_coef0_reg.regValue);

	dm_opttoopt_coef1_reg.regValue = IoReg_Fpga_Read32(DM_OPTtoOPT_coef1_reg);
	dm_opttoopt_coef1_reg.m33opt2opt02=1943;
	IoReg_Fpga_Write32(DM_OPTtoOPT_coef1_reg, dm_opttoopt_coef1_reg.regValue);

	dm_opttoopt_coef2_reg.regValue = IoReg_Fpga_Read32(DM_OPTtoOPT_coef2_reg);
	dm_opttoopt_coef2_reg.m33opt2opt10=60962;//-4574;
	dm_opttoopt_coef2_reg.m33opt2opt11=53727;//-11809;
	IoReg_Fpga_Write32(DM_OPTtoOPT_coef2_reg, dm_opttoopt_coef2_reg.regValue);

	dm_opttoopt_coef3_reg.regValue = IoReg_Fpga_Read32(DM_OPTtoOPT_coef3_reg);
	dm_opttoopt_coef3_reg.m33opt2opt12=16384;
	IoReg_Fpga_Write32(DM_OPTtoOPT_coef3_reg, dm_opttoopt_coef3_reg.regValue);

	dm_opttoopt_coef4_reg.regValue = IoReg_Fpga_Read32(DM_OPTtoOPT_coef4_reg);
	dm_opttoopt_coef4_reg.m33opt2opt20=16384;
	dm_opttoopt_coef4_reg.m33opt2opt21=50469;//-15067;
	IoReg_Fpga_Write32(DM_OPTtoOPT_coef4_reg, dm_opttoopt_coef4_reg.regValue);

	dm_opttoopt_coef5_reg.regValue = IoReg_Fpga_Read32(DM_OPTtoOPT_coef5_reg);
	dm_opttoopt_coef5_reg.m33opt2opt22=64219;//-1317;
	IoReg_Fpga_Write32(DM_OPTtoOPT_coef5_reg, dm_opttoopt_coef5_reg.regValue);

	dm_hdr_eotf_lut_ctrl0_reg.regValue = IoReg_Fpga_Read32(DM_HDR_EOTF_LUT_CTRL0_reg);
	dm_hdr_eotf_lut_ctrl0_reg.eotf_lut_enable=1;
	IoReg_Fpga_Write32(DM_HDR_EOTF_LUT_CTRL0_reg, dm_hdr_eotf_lut_ctrl0_reg.regValue);

	dm_eotf_para1_reg.regValue = IoReg_Fpga_Read32(DM_EOTF_para1_reg);
	dm_eotf_para1_reg.seotf=1;
	IoReg_Fpga_Write32(DM_EOTF_para1_reg, dm_eotf_para1_reg.regValue);

	dm_dm_submodule_enable_reg.regValue = IoReg_Fpga_Read32(DM_dm_submodule_enable_reg);
	dm_dm_submodule_enable_reg.b01_01_422to444_enable=1;
	dm_dm_submodule_enable_reg.b01_02_enable=0;
	dm_dm_submodule_enable_reg.b01_03_enable=1;
	dm_dm_submodule_enable_reg.b01_04_enable=0;
	dm_dm_submodule_enable_reg.b01_05_enable=1;
	dm_dm_submodule_enable_reg.b01_06_enable=1;
	dm_dm_submodule_enable_reg.b01_07_enable=0;
	dm_dm_submodule_enable_reg.b02_enable=0;
	dm_dm_submodule_enable_reg.b03_enable=0;
	dm_dm_submodule_enable_reg.b04_enable=0;
	dm_dm_submodule_enable_reg.b0501_enable=0;
	dm_dm_submodule_enable_reg.b0502_enable=0;
	dm_dm_submodule_enable_reg.dither_en=0;
	dm_dm_submodule_enable_reg.gamma_enable=0;
	IoReg_Fpga_Write32(DM_dm_submodule_enable_reg, dm_dm_submodule_enable_reg.regValue);

	dm_hdr_oetf_lut_ctrl0_reg.regValue = IoReg_Fpga_Read32(DM_HDR_OETF_LUT_CTRL0_reg);
	dm_hdr_oetf_lut_ctrl0_reg.oetf_lut_enable=0;
	IoReg_Fpga_Write32(DM_HDR_OETF_LUT_CTRL0_reg, dm_hdr_oetf_lut_ctrl0_reg.regValue);

	/* YUV2RGB setting */
	dm_ycctorgb_coef0_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_coef0_reg);
	dm_ycctorgb_coef0_reg.regValue = 0x255f;
	IoReg_Fpga_Write32(DM_YCCtoRGB_coef0_reg, dm_ycctorgb_coef0_reg.regValue);

	dm_ycctorgb_coef1_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_coef1_reg);
	dm_ycctorgb_coef1_reg.regValue = 0x35e0;
	IoReg_Fpga_Write32(DM_YCCtoRGB_coef1_reg, dm_ycctorgb_coef1_reg.regValue);

	dm_ycctorgb_coef2_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_coef2_reg);
	dm_ycctorgb_coef2_reg.regValue = 0xf9ff255f;
	IoReg_Fpga_Write32(DM_YCCtoRGB_coef2_reg, dm_ycctorgb_coef2_reg.regValue);

	dm_ycctorgb_coef3_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_coef3_reg);
	dm_ycctorgb_coef3_reg.regValue = 0xeb22;
	IoReg_Fpga_Write32(DM_YCCtoRGB_coef3_reg, dm_ycctorgb_coef3_reg.regValue);

	dm_ycctorgb_coef4_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_coef4_reg);
	dm_ycctorgb_coef4_reg.regValue = 0x44bd255f;
	IoReg_Fpga_Write32(DM_YCCtoRGB_coef4_reg, dm_ycctorgb_coef4_reg.regValue);

	dm_ycctorgb_coef5_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_coef5_reg);
	dm_ycctorgb_coef5_reg.regValue = 0x0;
	IoReg_Fpga_Write32(DM_YCCtoRGB_coef5_reg, dm_ycctorgb_coef5_reg.regValue);

	dm_ycctorgb_offset0_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_offset0_reg);
	dm_ycctorgb_offset0_reg.regValue = 0x7517c0;
	IoReg_Fpga_Write32(DM_YCCtoRGB_offset0_reg, dm_ycctorgb_offset0_reg.regValue);

	dm_ycctorgb_offset1_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_offset1_reg);
	dm_ycctorgb_offset1_reg.regValue = 0xffd399c0;
	IoReg_Fpga_Write32(DM_YCCtoRGB_offset1_reg, dm_ycctorgb_offset1_reg.regValue);

	dm_ycctorgb_offset2_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_offset2_reg);
	dm_ycctorgb_offset2_reg.regValue = 0x92d1c0;
	IoReg_Fpga_Write32(DM_YCCtoRGB_offset2_reg, dm_ycctorgb_offset2_reg.regValue);

	dm_ycctorgb_scale_reg.regValue = IoReg_Fpga_Read32(DM_YCCtoRGB_Scale_reg);
	dm_ycctorgb_scale_reg.regValue = 0xd;
	IoReg_Fpga_Write32(DM_YCCtoRGB_Scale_reg, dm_ycctorgb_scale_reg.regValue);

	dm_signal_range_reg.regValue = IoReg_Fpga_Read32(DM_Signal_range_reg);
	dm_signal_range_reg.regValue = 0x3fff0000;
	IoReg_Fpga_Write32(DM_Signal_range_reg, dm_signal_range_reg.regValue);
	/* YUV2RGB setting */

	dm_hdr_cuva_ctrl0_reg.regValue = IoReg_Fpga_Read32(DM_HDR_CUVA_CTRL0_reg);
	dm_hdr_cuva_ctrl0_reg.hdr_cuva_en=1;
	dm_hdr_cuva_ctrl0_reg.hdr_cuva_k_en=1;
	dm_hdr_cuva_ctrl0_reg.hdr_cuva_color_en=1;
	dm_hdr_cuva_ctrl0_reg.hdr_cuva_y2r_en=1;
	dm_hdr_cuva_ctrl0_reg.hdr_cuva_k_shift_sel=shift_bit;
	IoReg_Fpga_Write32(DM_HDR_CUVA_CTRL0_reg, dm_hdr_cuva_ctrl0_reg.regValue);

	dm_hdr_double_buffer_ctrl_reg.regValue = IoReg_Fpga_Read32(DM_HDR_Double_Buffer_CTRL_reg);
	dm_hdr_double_buffer_ctrl_reg.dm_db_apply = 1;
	IoReg_Fpga_Write32(DM_HDR_Double_Buffer_CTRL_reg, dm_hdr_double_buffer_ctrl_reg.regValue);
}
#endif

void drvif_DM2_hdr_cuva_k_shift_sel_Set(unsigned char shift_bit)
{
	dm_hdr_cuva_ctrl0_RBUS dm_hdr_cuva_ctrl0_reg;
	dm_hdr_double_buffer_ctrl_RBUS dm_hdr_double_buffer_ctrl_reg;

	dm_hdr_double_buffer_ctrl_reg.regValue = IoReg_Read32(DM_HDR_Double_Buffer_CTRL_reg);
	dm_hdr_double_buffer_ctrl_reg.dm_db_en = 1;
	IoReg_Write32(DM_HDR_Double_Buffer_CTRL_reg, dm_hdr_double_buffer_ctrl_reg.regValue);
	
	dm_hdr_cuva_ctrl0_reg.regValue = IoReg_Read32(DM_HDR_CUVA_CTRL0_reg);
	dm_hdr_cuva_ctrl0_reg.hdr_cuva_k_shift_sel=shift_bit;
	IoReg_Write32(DM_HDR_CUVA_CTRL0_reg, dm_hdr_cuva_ctrl0_reg.regValue);

	dm_hdr_double_buffer_ctrl_reg.regValue = IoReg_Read32(DM_HDR_Double_Buffer_CTRL_reg);
	dm_hdr_double_buffer_ctrl_reg.dm_db_apply = 1;
	IoReg_Write32(DM_HDR_Double_Buffer_CTRL_reg, dm_hdr_double_buffer_ctrl_reg.regValue);

}

void drvif_DM2_hdr_cuva_En_Set(unsigned char En)
{
	dm_hdr_cuva_ctrl0_RBUS dm_hdr_cuva_ctrl0_reg;
	dm_hdr_double_buffer_ctrl_RBUS dm_hdr_double_buffer_ctrl_reg;

	dm_hdr_double_buffer_ctrl_reg.regValue = IoReg_Read32(DM_HDR_Double_Buffer_CTRL_reg);
	dm_hdr_double_buffer_ctrl_reg.dm_db_en = 1;
	IoReg_Write32(DM_HDR_Double_Buffer_CTRL_reg, dm_hdr_double_buffer_ctrl_reg.regValue);
	
	dm_hdr_cuva_ctrl0_reg.regValue = IoReg_Read32(DM_HDR_CUVA_CTRL0_reg);
	if (En == 1) {
		dm_hdr_cuva_ctrl0_reg.hdr_cuva_en=1;
		dm_hdr_cuva_ctrl0_reg.hdr_cuva_k_en=1;
		dm_hdr_cuva_ctrl0_reg.hdr_cuva_color_en=1;
		dm_hdr_cuva_ctrl0_reg.hdr_cuva_y2r_en=1;
	} else {
		dm_hdr_cuva_ctrl0_reg.hdr_cuva_en=0;
		dm_hdr_cuva_ctrl0_reg.hdr_cuva_k_en=0;
		dm_hdr_cuva_ctrl0_reg.hdr_cuva_color_en=0;
		dm_hdr_cuva_ctrl0_reg.hdr_cuva_y2r_en=0;
	}
	IoReg_Write32(DM_HDR_CUVA_CTRL0_reg, dm_hdr_cuva_ctrl0_reg.regValue);

	dm_hdr_double_buffer_ctrl_reg.regValue = IoReg_Read32(DM_HDR_Double_Buffer_CTRL_reg);
	dm_hdr_double_buffer_ctrl_reg.dm_db_apply = 1;
	IoReg_Write32(DM_HDR_Double_Buffer_CTRL_reg, dm_hdr_double_buffer_ctrl_reg.regValue);

}

void drvif_HDR_VIVID_B0106_set(unsigned char enable)
{
	dm_opttoopt_scale_RBUS dm_opttoopt_scale_reg;
	dm_opttoopt_offset_RBUS dm_opttoopt_offset_reg;
	dm_opttoopt_clip_RBUS dm_opttoopt_clip_reg;
	dm_opttoopt_coef0_RBUS dm_opttoopt_coef0_reg;
	dm_opttoopt_coef1_RBUS dm_opttoopt_coef1_reg;
	dm_opttoopt_coef2_RBUS dm_opttoopt_coef2_reg;
	dm_opttoopt_coef3_RBUS dm_opttoopt_coef3_reg;
	dm_opttoopt_coef4_RBUS dm_opttoopt_coef4_reg;
	dm_opttoopt_coef5_RBUS dm_opttoopt_coef5_reg;
	dm_hdr_double_buffer_ctrl_RBUS dm_hdr_double_buffer_ctrl_reg;
	dm_dm_submodule_enable_RBUS dm_submodule_enable_REG;
	
	dm_hdr_double_buffer_ctrl_reg.regValue = IoReg_Read32(DM_HDR_Double_Buffer_CTRL_reg);
	dm_hdr_double_buffer_ctrl_reg.dm_db_en = 1;
	IoReg_Write32(DM_HDR_Double_Buffer_CTRL_reg, dm_hdr_double_buffer_ctrl_reg.regValue);

	if (enable == 1) {
		dm_opttoopt_scale_reg.regValue = IoReg_Read32(DM_OPTtoOPT_Scale_reg);
		dm_opttoopt_scale_reg.opt2optscale=14;
		IoReg_Write32(DM_OPTtoOPT_Scale_reg, dm_opttoopt_scale_reg.regValue);

		dm_opttoopt_offset_reg.regValue = IoReg_Read32(DM_OPTtoOPT_Offset_reg);
		dm_opttoopt_offset_reg.opt2optoffset=0;
		IoReg_Write32(DM_OPTtoOPT_Offset_reg, dm_opttoopt_offset_reg.regValue);

		dm_opttoopt_clip_reg.regValue = IoReg_Read32(DM_OPTtoOPT_CLIP_reg);
		dm_opttoopt_clip_reg.opt2optminvalue=32769;//-32767
		dm_opttoopt_clip_reg.opt2optmaxvalue=65535;
		IoReg_Write32(DM_OPTtoOPT_CLIP_reg, dm_opttoopt_clip_reg.regValue);

		dm_opttoopt_coef0_reg.regValue = IoReg_Read32(DM_OPTtoOPT_coef0_reg);
		dm_opttoopt_coef0_reg.m33opt2opt00=8608;
		dm_opttoopt_coef0_reg.m33opt2opt01=22217;
		IoReg_Write32(DM_OPTtoOPT_coef0_reg, dm_opttoopt_coef0_reg.regValue);

		dm_opttoopt_coef1_reg.regValue = IoReg_Read32(DM_OPTtoOPT_coef1_reg);
		dm_opttoopt_coef1_reg.m33opt2opt02=1943;
		IoReg_Write32(DM_OPTtoOPT_coef1_reg, dm_opttoopt_coef1_reg.regValue);

		dm_opttoopt_coef2_reg.regValue = IoReg_Read32(DM_OPTtoOPT_coef2_reg);
		dm_opttoopt_coef2_reg.m33opt2opt10=60962;//-4574;
		dm_opttoopt_coef2_reg.m33opt2opt11=53727;//-11809;
		IoReg_Write32(DM_OPTtoOPT_coef2_reg, dm_opttoopt_coef2_reg.regValue);

		dm_opttoopt_coef3_reg.regValue = IoReg_Read32(DM_OPTtoOPT_coef3_reg);
		dm_opttoopt_coef3_reg.m33opt2opt12=16384;
		IoReg_Write32(DM_OPTtoOPT_coef3_reg, dm_opttoopt_coef3_reg.regValue);

		dm_opttoopt_coef4_reg.regValue = IoReg_Read32(DM_OPTtoOPT_coef4_reg);
		dm_opttoopt_coef4_reg.m33opt2opt20=16384;
		dm_opttoopt_coef4_reg.m33opt2opt21=50469;//-15067;
		IoReg_Write32(DM_OPTtoOPT_coef4_reg, dm_opttoopt_coef4_reg.regValue);

		dm_opttoopt_coef5_reg.regValue = IoReg_Read32(DM_OPTtoOPT_coef5_reg);
		dm_opttoopt_coef5_reg.m33opt2opt22=64219;//-1317;
		IoReg_Write32(DM_OPTtoOPT_coef5_reg, dm_opttoopt_coef5_reg.regValue);

		// enable		
		dm_submodule_enable_REG.regValue = IoReg_Read32(DM_dm_submodule_enable_reg);//read all block en/dis address
		dm_submodule_enable_REG.b01_06_enable = 1;
		IoReg_Write32(DM_dm_submodule_enable_reg, dm_submodule_enable_REG.regValue);//IoReg_Write32(address,value);
		dm_submodule_temp.b01_06_enable=1;
	} else {		
		dm_submodule_enable_REG.regValue = IoReg_Read32(DM_dm_submodule_enable_reg);//read all block en/dis address
		dm_submodule_enable_REG.b01_06_enable = 0;
		IoReg_Write32(DM_dm_submodule_enable_reg, dm_submodule_enable_REG.regValue);//IoReg_Write32(address,value);
		dm_submodule_temp.b01_06_enable=0;
	}

	dm_hdr_double_buffer_ctrl_reg.regValue = IoReg_Read32(DM_HDR_Double_Buffer_CTRL_reg);
	dm_hdr_double_buffer_ctrl_reg.dm_db_apply = 1;
	IoReg_Write32(DM_HDR_Double_Buffer_CTRL_reg, dm_hdr_double_buffer_ctrl_reg.regValue);
	
}


/* global variable for HDR CUVA*/
long long MinDisplayPQ=0; 
long long MaxDisplayPQ=3277; //16bit, 500 nit
long long inv_EOTF_MaxDisplayPQ;
long long max_lum;
long long MaxRefDisplay;
long long MIN_cuva=2182272883LL; // 32 bit float
long long targeted_system_display_maximum_luminance; // 16bit
long long EOTF_targeted_system_display_maximum_luminance; // 32bit float
long long max_display_mastering_luminance=26214; // 16bit, 4000 nit
long long maximum_maxrgb; // 16bit
long long average_maxrgb; // 16bit
long long variance_maxrgb; // 16bit
unsigned char spline_num;
unsigned char  spline_TH_mode;
unsigned char base_flag;
unsigned char base_param_Delta_mode;
unsigned char spline_flag;
long long spline_TH_MB;
long long Base_offset;
long long base_param_Delta;
long long spline_TH_0; //16bit float
long long spline_TH_Delta1_0;
long long spline_TH_Delta2_0;
long long spline_TH_1;
long long spline_TH_Delta1_1;
long long spline_TH_Delta2_1;
long long spline_Strength0; //16bit float
long long spline_Strength1;
unsigned char spline_TH_mode_1;
long long spline_TH_MB_2;
/* global variable for HDR CUVA*/

void base_9_2_2(long long *m_p, long long *m_a, long long *m_m, long long *m_n, long long *m_b, long long *K1, long long *K2, long long *K3)
{
	long long PvalueH0, PvalueL0, TPH0, TPL0, PdeltaH1, PdeltaL1, TPH1, TPL1; 
	long long tmp,tmp1,tmp2,tmp3,div_tmp1,div_tmp2;
	//int N=1;
	/*PvalueH0=3.5;
	PvalueL0=4.0;
	TPH0=0.6;
	TPL0=0.3;
	PdeltaH1=0.6;
	PdeltaL1=0;
	TPH1=0.9;
	TPL1=0.75;
	*m_m=2.4;
	*m_n=1;
	*K1=1;
	*K2=1;
	*K3=1;*/
	PvalueH0=229376;// 3bit int,16bit float
	PvalueL0=262144;// 3bit int,16bit float
	TPH0=39321;// 16bit float
	TPL0=19660;// 16bit float
	PdeltaH1=39321;// 16bit float
	PdeltaL1=0;// 16bit float
	TPH1=58982;// 16bit float
	TPL1=49152;// 16bit float
	
	*m_m=157286;// 3bit int, 16bit float
	*m_n=65535;// 3bit int, 16bit float
	*K1=65535;//16 bit float
	*K2=65535;//16 bit float
	*K3=65535;//16 bit float
	*m_b=MinDisplayPQ;
	/* calculate m_p */
	if((average_maxrgb)>TPH0)
		*m_p=PvalueH0; // 3bit int,16bit float
	else if((average_maxrgb)<TPL0)
		*m_p=PvalueL0; // 3bit int,16bit float
	else
	{
		//*m_p=PvalueH0*pow(((average_maxrgb-TPL0)/(TPH0-TPL0)),N) + PvalueL0*(1-pow(((average_maxrgb-TPL0)/(TPH0-TPL0)),N));
		//*m_p=PvalueH0*((average_maxrgb_pq<<4)-TPL0)/(TPH0-TPL0) + ((PvalueL0*(65536-((((average_maxrgb_pq<<4)-TPL0)<<16)/(TPH0-TPL0))))>>16); //m_p: // 3bit int,16bit float
		div_tmp1 = div64_s64(PvalueH0*(average_maxrgb-TPL0),(TPH0-TPL0));
		div_tmp2 = div64_s64(((average_maxrgb-TPL0)<<16),(TPH0-TPL0));
		*m_p= div_tmp1 + ((PvalueL0*(65536-(div_tmp2)))>>16); //m_p: // 3bit int,16bit float
		//*m_p=PvalueH0*(average_maxrgb-TPL0)/(TPH0-TPL0) + ((PvalueL0*(65536-(((average_maxrgb-TPL0)<<16)/(TPH0-TPL0))))>>16); //m_p: // 3bit int,16bit float
	}
	 
	/* update m_p by max_lum*/
	if(max_lum>(TPH1<<16))
		*m_p=*m_p+PdeltaH1;
	else if(max_lum<(TPL1<<16))
		*m_p=*m_p+PdeltaL1;
	else
	{
		div_tmp1 = div64_s64((max_lum-(TPL1<<16)),(TPH1-TPL1));
		*m_p=*m_p+((PdeltaH1*div_tmp1)>>16) + ((PdeltaL1*(65536-div_tmp1))>>16); //m_p: 16bit float
		//*m_p=*m_p+((PdeltaH1*((max_lum-(TPL1<<16))/(TPH1-TPL1)))>>16) + ((PdeltaL1*(65536-((max_lum-(TPL1<<16))/(TPH1-TPL1))))>>16); //m_p: 16bit float
	}
	
	/* calculate m_a */
	//*m_a=(inv_EOTF_MaxDisplayPQ-MinDisplayPQ)/pow((((*m_p) * pow(max_lum,(*m_n)))/(((*K1) * (*m_p)-(*K2))*pow(max_lum,(*m_n))+(*K3))),*m_m);
	tmp=((*m_p) * max_lum)>>16; // 16 bit float * 32bit float >>16 = 32bit float
	tmp1=((((*K1) * (*m_p))>>16)-(*K2)); //16bit float
	tmp2=((tmp1*max_lum)>>32)+(*K3); //16bit float
	div_tmp1 = div64_s64(tmp,tmp2);
	tmp3=pow_float_fix(div_tmp1,*m_m,16,0); //16bit -> need "/pow_float_fix(65535,*m_m,13)"
	if (tmp3 != 0)
		*m_a=div64_s64((inv_EOTF_MaxDisplayPQ-MinDisplayPQ)*pow_float_fix(65535,(*m_m)&0xffff,16,1),tmp3); // 16bit float
	//tmp3=pow_float_fix(tmp/tmp2,*m_m,16,0); //16bit -> need "/pow_float_fix(65535,*m_m,13)"
	//*m_a=((inv_EOTF_MaxDisplayPQ-MinDisplayPQ)*pow_float_fix(65535,(*m_m)&0xffff,16,1)/tmp3); // 16bit float
	
	//*m_a=(inv_EOTF_MaxDisplayPQ-MinDisplayPQ)/pow_float_fix(((((*m_p) * max_lum)>>16)/(((((((*K1) * (*m_p))>>16)-(*K2))*max_lum)>>32)+(*K3))),*m_m,13);
	//*m_a=(inv_EOTF_MaxDisplayPQ-MinDisplayPQ)/pow_float_fix(((((*m_p) * pow_float_fix(max_lum,*m_n,13))>>16)/(((((((*K1) * (*m_p))>>16)-(*K2))*pow_float_fix(max_lum,(*m_n),13))>>32)+(*K3))),*m_m,13); //pow_float_fix(32bit/16bit,16bit,13)->16bit ; m_a=32bit/16bit=16bit float
} 

void base_9_2_4(long long *m_p, long long *m_a, long long *m_m, long long *m_n, long long *m_b, long long *K1, long long *K2, long long *K3, long long m_p_0, long long m_a_0, long long m_m_0, long long m_n_0, long long m_b_0, long long K1_0, long long K2_0, long long K3_0)
{
	//double EOTF_MaxDisplayPQ,EOTF_targeted_system_display_maximum_luminance;
	long long tmp;
	long long tmp1,tmp2,tmp3,tmp4,div_tmp1,div_tmp2;
	*m_m=div64_s64((m_m_0<<16),10); //16bit float
	*m_n=div64_s64((m_n_0<<16),10); //16bit float
	*K1=K1_0; // 16bit float
	*K2=K2_0; // 16bit float
	*K3=K3_0; // 16bit float

	div_tmp1 = div64_s64(((long long)(inv_EOTF_MaxDisplayPQ-MinDisplayPQ)<<16),targeted_system_display_maximum_luminance);
	*m_b=(m_b_0*div_tmp1)>>32; //m_b_0:10bit float(>>4); targeted_system_display_maximum_luminance_pq:12bit float -> m_b:16bit float
	//*m_b=(m_b_0*(((long long)(inv_EOTF_MaxDisplayPQ-MinDisplayPQ)<<16)/targeted_system_display_maximum_luminance))>>32; //m_b_0:10bit float(>>4); targeted_system_display_maximum_luminance_pq:12bit float -> m_b:16bit float
	//*m_a=(m_a_0*(((long long)(inv_EOTF_MaxDisplayPQ-MinDisplayPQ)<<12)/targeted_system_display_maximum_luminance_pq))>>26; //m_a: 16bit float
	div_tmp2 = div64_s64((m_a_0<<16),1023);
	*m_a=(div_tmp2*div_tmp1)>>32; //m_a: 16bit float
	//*m_a=((m_a_0<<16)/1023*(((long long)(inv_EOTF_MaxDisplayPQ-MinDisplayPQ)<<16)/targeted_system_display_maximum_luminance))>>32; //m_a: 16bit float
	
	if(base_param_Delta_mode==2||base_param_Delta_mode==6) //base_param_Delta = -base_param_Delta
	{
		tmp=(long long)((MaxDisplayPQ<<16)-EOTF_targeted_system_display_maximum_luminance);
		tmp1=(long long)(abs_cuva(tmp));
		div_tmp1 = div64_s64(10000*tmp1,100);
		tmp2=div_tmp1>>23; //7bit int, 9bit float 
		//tmp2=(10000*tmp1/100)>>23; //7bit int, 9bit float 
		tmp3=pow_float_fix(tmp2,32768,16,0); // need /pow_float_fix((1<<9),32768,16)
		div_tmp1 = div64_s64(base_param_Delta*tmp3,pow_float_fix((1<<9),32768&0xffff,16,1));
		tmp4=div_tmp1>>16; //16bit float
		//tmp4=(base_param_Delta*tmp3/pow_float_fix((1<<9),32768&0xffff,16,1))>>16; //16bit float
		*m_p=m_p_0-tmp4;
		//*m_p=(m_p_0<<2)-tmp4;
		//*m_p=(m_p_0-((base_param_enable_Delta*pow_float_fix((10000*(long long)(abs((long long)(((MaxDisplayPQ)<<16)-EOTF_targeted_system_display_maximum_luminance)))/100)>>23,32768,16))>>5))>>2; //N=0.5; m_p: 4bit int, 12bit float
	}
	else
	{
		tmp=(long long)((MaxDisplayPQ<<16)-EOTF_targeted_system_display_maximum_luminance);
		tmp1=(long long)(abs_cuva(tmp));
		div_tmp1 = div64_s64(10000*tmp1,100);
		tmp2=div_tmp1>>23; //7bit int, 9bit float
		//tmp2=(10000*tmp1/100)>>23; //7bit int, 9bit float 
		tmp3=pow_float_fix(tmp2,32768,16,0); // need /pow_float_fix((1<<9),32768,16)
		div_tmp1 = div64_s64(base_param_Delta*tmp3,pow_float_fix((1<<9),32768&0xffff,16,1));
		tmp4=div_tmp1>>16; //16bit float
		//tmp4=(base_param_Delta*tmp3/pow_float_fix((1<<9),32768&0xffff,16,1))>>16; //16bit float
		*m_p=m_p_0+tmp4;
		//*m_p=(m_p_0<<2)+tmp4;
		//*m_p=(m_p_0+((base_param_enable_Delta*pow_float_fix((10000*(long long)(abs((long long)(((MaxDisplayPQ)<<16)-EOTF_targeted_system_display_maximum_luminance)))/100)>>23,32768,16))>>5))>>2; //N=0.5; m_p: 4bit int, 12bit float
	}
		
}

void base_9_2_5(long long *m_p, long long *m_a, long long *m_m, long long *m_n, long long *m_b, long long *K1, long long *K2, long long *K3, long long m_p_0, long long m_a_0, long long m_m_0, long long m_n_0, long long m_b_0, long long K1_0, long long K2_0, long long K3_0)
{
	long long m_p_1, m_m_1, m_n_1, m_a_1, m_b_1, K1_1, K2_1, K3_1;
	long long w;
	long long tmp,tmp1,tmp2,tmp3,tmp4,tmp5,pow_tmp0,pow_tmp1,div_tmp1;
	
	base_9_2_2(&m_p_1, &m_a_1, &m_m_1, &m_n_1, &m_b_1, &K1_1, &K2_1, &K3_1);
	if(base_param_Delta_mode==2||base_param_Delta_mode==6) //base_param_Delta = -base_param_Delta
	{
		tmp=(long long)((MaxDisplayPQ<<16)-EOTF_targeted_system_display_maximum_luminance);
		tmp1=abs_cuva(tmp);
		div_tmp1 = div64_s64(10000*tmp1,100);
		tmp2=div_tmp1>>23; //7bit int, 9bit float 
		//tmp2=(10000*tmp1/100)>>23; //7bit int, 9bit float 
		tmp3=pow_float_fix(tmp2,32768,16,0); // need /pow_float_fix((1<<9),32768,16)
		div_tmp1 = div64_s64(base_param_Delta*tmp3,pow_float_fix((1<<9),32768&0xffff,16,1));
		w=-(div_tmp1>>16); //w: 16bit float
		//w=-((base_param_Delta*tmp3/pow_float_fix((1<<9),32768&0xffff,16,1))>>16); //w: 16bit float
	}
	else
	{
		tmp=(long long)((MaxDisplayPQ<<16)-EOTF_targeted_system_display_maximum_luminance);
		tmp1=abs_cuva(tmp);
		div_tmp1 = div64_s64(10000*tmp1,100);
		tmp2=div_tmp1>>23; //7bit int, 9bit float 
		//tmp2=(10000*tmp1/100)>>23; //7bit int, 9bit float 
		tmp3=pow_float_fix(tmp2,32768,16,0); // need /pow_float_fix((1<<9),32768,16)
		div_tmp1 = div64_s64(base_param_Delta*tmp3,pow_float_fix((1<<9),32768&0xffff,16,1));
		w=div_tmp1>>16; //w: 16bit float
		//w=(base_param_Delta*tmp3/pow_float_fix((1<<9),32768&0xffff,16,1))>>16; //w: 16bit float
	}
	if(w<0)
		w=0;
	else if(w>65536)
		w=65536;

	div_tmp1 = div64_s64((65536-w)*(m_m_0<<16),10);
	*m_m=((div_tmp1)+w*m_m_1)>>16; //m_m: 16bit float
	//*m_m=((((65536-w)*(m_m_0<<16)/10))+w*m_m_1)>>16; //m_m: 16bit float
	div_tmp1 = div64_s64((65536-w)*(m_n_0<<16),10);
	*m_n=((div_tmp1)+w*m_n_1)>>16; //m_n: 16bit float
	//*m_n=((((65536-w)*(m_n_0<<16)/10))+w*m_n_1)>>16; //m_n: 16bit float
	*K1=((65536-w)*K1_0+w*K1_1)>>16; //16 bit float
	*K2=((65536-w)*K2_0+w*K2_1)>>16; //16 bit float
	*K3=((65536-w)*K3_0+w*K3_1)>>16; //16 bit float
	//*m_p=((((65536-w)*m_p_0)<<2)+w*m_p_1)>>16; // 4bit int, 16 bit float
	*m_p=(((65536-w)*m_p_0)+w*m_p_1)>>16; // 4bit int, 16 bit float
	*m_b=MinDisplayPQ;

	pow_tmp0=pow_float_fix(max_lum>>16,(*m_n),16,0);
	pow_tmp1=pow_float_fix(65535,(*m_n)&0xffff,16,1);// reduse computation time
	div_tmp1 = div64_s64((*m_p)*pow_tmp0 , pow_tmp1);
	tmp=div_tmp1>>16; //16bit float
	//tmp=((*m_p)*pow_tmp0 /pow_tmp1)>>16; //16bit float
	tmp1=((((*K1)*(*m_p))>>16)-(*K2)); //16bit float
	tmp2=pow_tmp0;//16bit float
	div_tmp1 = div64_s64(tmp1*tmp2,pow_tmp1);
	tmp3=(div_tmp1>>16)+(*K3); //16 bit float
	//tmp3=((tmp1*tmp2/pow_tmp1)>>16)+(*K3); //16 bit float
	tmp4=div64_s64((tmp<<16),tmp3);//16 bit float
	//tmp4=(tmp<<16)/tmp3;//16 bit float
	tmp5=pow_float_fix(tmp4,(*m_m),16,0);
	if (tmp5 != 0)
		*m_a=div64_s64((inv_EOTF_MaxDisplayPQ-MinDisplayPQ)*pow_float_fix(65535,(*m_m)&0xffff,16,1),tmp5); //16bit float
	//*m_a=((inv_EOTF_MaxDisplayPQ-MinDisplayPQ)*pow_float_fix(65535,(*m_m)&0xffff,16,1)/tmp5); //16bit float
	//*m_a=(inv_EOTF_MaxDisplayPQ-MinDisplayPQ)/pow_float_fix((((*m_p)*pow_float_fix(max_lum>>16,(*m_n),13))/((((((*K1)*(*m_p))>>16)-(*K2))*pow_float_fix(max_lum>>16,(*m_n),13))>>16+(*K3))),(*m_m),13);
	//*m_a=(inv_EOTF_MaxDisplayPQ-MinDisplayPQ)/pow_float_fix((((*m_p)*pow_float_fix(max_lum>>16,(*m_n),13))/((((((*K1)*(*m_p))>>16)-(*K2))*pow_float_fix(max_lum>>16,(*m_n),13))>>16+(*K3))),(*m_m),13); //m_a:16bit float
}

void base_9_2_6(long long *m_p, long long *m_a, long long *m_m, long long *m_n, long long *m_b, long long *K1, long long *K2, long long *K3)
{
	long long m_b0, m_a_T, WA, H_max_lum, th3_1, VA3;
	long long tmp0,tmp1,tmp2,tmp3,tmp4,tmp5,div_tmp1;
	long long pow_tmp_mn,pow_tmp_mm;
	
	if(*m_p < 163840) // 2.5
		m_a_T = 64880; // 16bit float
	else if(*m_p >= 163840 && *m_p < 229376)
		m_a_T = 64880 - (((*m_p - 163840)*7274)>>16);
	else if(*m_p >= 229376 && *m_p < 294912)
		m_a_T = 57606 - (((*m_p - 229376)*6684)>>16);
	else if(*m_p >= 294912 && *m_p < 491520)
		m_a_T = 50921 - (((*m_p - 294912)*5177)>>16);
	else
		m_a_T = 35389;
	
	pow_tmp_mn = pow_float_fix(65535,(*m_n)&0xffff,16,1);
	pow_tmp_mm = pow_float_fix(65535,(*m_m)&0xffff,16,1);
	
	tmp0 = div64_s64((*m_p) * pow_float_fix(max_lum>>16,(*m_n),16,0), pow_tmp_mn); //32bit
	tmp1 = (((*K1) * (*m_p))>>16) - (*K2);
	tmp2 = pow_float_fix(max_lum>>16,(*m_n),16,0);
	tmp3 = ((div64_s64(tmp1 * tmp2 , pow_tmp_mn))>>16) + (*K3); //16bit
	tmp4 = div64_s64(tmp0 , tmp3); //16bit
	tmp5 = pow_float_fix(tmp4,(*m_m),16,0);
	H_max_lum = div64_s64(m_a_T * tmp5 , pow_tmp_mm); //32bit
	
	tmp0 = (div64_s64((inv_EOTF_MaxDisplayPQ<<32) , max_lum) - div64_s64((H_max_lum<<16) , max_lum))<<16; //32bit
	tmp1 = 65536 - div64_s64((H_max_lum<<16) , max_lum);
	WA = div64_s64(tmp0 , tmp1); //16bit
	
	if(base_param_Delta_mode>=3 || base_flag==0)
		m_b0 = *m_b;
	else
	{
		if(*m_a <= m_a_T)
			m_b0 = *m_b;
		else
			m_b0 = ((65536 - WA) * (*m_b))>>16; // 16bit
	}
	
	th3_1 = spline_TH_0 + spline_TH_Delta1_0 + spline_TH_Delta2_0;
		
	tmp0=pow_float_fix(th3_1,(*m_n),16,0); // need /pow_float_fix(65535,(*m_n)&0xffff,16,1)
	tmp1=div64_s64((*m_p)*tmp0,pow_tmp_mn);//32bit float
	tmp2=(((*K1)*(*m_p))>>16)-(*K2); //16bit float
	tmp3=tmp0; // need /pow_float_fix(65535,(*m_n)&0xffff,16,1)
	div_tmp1 = div64_s64(tmp2*tmp3,pow_tmp_mn);
	tmp4=(div_tmp1+((*K3)<<16))>>16; //16bit float
	div_tmp1 = div64_s64(tmp1,tmp4);
	tmp5=pow_float_fix(div_tmp1,(*m_m),16,0);//need /pow_float_fix(65535,(*m_m)&0xffff,16,1)
	div_tmp1 = div64_s64((*m_a)*tmp5,pow_tmp_mm);
	VA3=(div_tmp1+(m_b0<<16))>>16; //16bit float
	
	if(VA3 > th3_1 && VA3 > 0 && base_param_Delta_mode!=2 && base_param_Delta_mode!=3 && base_param_Delta_mode!=6)
		*m_b = m_b0 - (VA3 - th3_1);
	else
		*m_b = m_b0;
}

void spline_9_3_2_1(long long *TH3_0, long long *MB_0, long long *base_offset)
{
	long long HLMAXH2, HLMAXL2, TdmaxH2, TdmaxL2;
	long long AVMAXH3, AVMAXL3, SdmaxH3, SdmaxL3;
	long long div_tmp1,div_tmp2;
	/*HLMAXH2=0.6;
	HLMAXL2=0.3;
	TdmaxH2=0.25;
	TdmaxL2=0.1;
	
	AVMAXH3=0.6;
	AVMAXL3=0.3;
	SdmaxH3=1.0;
	SdmaxL3=0.96;*/

	//below all 16 bit float
	HLMAXH2=39321; 
	HLMAXL2=19660;
	TdmaxH2=16384;
	TdmaxL2=6553;
	
	AVMAXH3=39321;
	AVMAXL3=19660;
	SdmaxH3=65535;
	SdmaxL3=62914;
	
	if((average_maxrgb)>HLMAXH2)
		*TH3_0=TdmaxL2;
	else if((average_maxrgb)<HLMAXL2)
		*TH3_0=TdmaxH2;
	else
	{
		div_tmp1 = div64_s64(TdmaxL2*(average_maxrgb-HLMAXL2),(HLMAXH2-HLMAXL2));
		div_tmp2 = div64_s64(((average_maxrgb-HLMAXL2)<<16),(HLMAXH2-HLMAXL2));
		*TH3_0= div_tmp1 + ((TdmaxH2*(65535-div_tmp2))>>16); //16bit float
		//*TH3_0=TdmaxL2*(average_maxrgb-HLMAXL2)/(HLMAXH2-HLMAXL2) + ((TdmaxH2*(65535-(((average_maxrgb-HLMAXL2)<<16)/(HLMAXH2-HLMAXL2))))>>16); //16bit float
	}
	
	if((average_maxrgb)>AVMAXH3)
		*MB_0=SdmaxL3;
	else if((average_maxrgb)<AVMAXL3)
		*MB_0=SdmaxH3;
	else
	{
		div_tmp1 = div64_s64(SdmaxL3*(average_maxrgb-AVMAXL3),(AVMAXH3-AVMAXL3));
		div_tmp2 = div64_s64(((average_maxrgb-AVMAXL3)<<16),(AVMAXH3-AVMAXL3));
		*MB_0= div_tmp1 + ((SdmaxH3*(65535-div_tmp2))>>16); //16bit float
		//*MB_0=SdmaxL3*(average_maxrgb-AVMAXL3)/(AVMAXH3-AVMAXL3) + ((SdmaxH3*(65535-(((average_maxrgb-AVMAXL3)<<16)/(AVMAXH3-AVMAXL3))))>>16); //16bit float
	}
	*base_offset=0;			
}

void spline_9_3_2_2(long long *TH3_0, long long *MB_0, long long *base_offset)
{
	*TH3_0=spline_TH_0; //16bit float
	*MB_0=spline_TH_MB; //16bit float
	*base_offset=Base_offset; //16bit float
}

long long pow_tmp_9323_0,pow_tmp_9323_1,pow_tmp_9323_2;//reduce computation time

void spline_9_3_2_3(long long *TH3_0, long long *MB_0, long long *base_offset, long long *m_p, long long *m_a, long long *m_m, long long *m_n, long long *m_b, long long *K1, long long *K2, long long *K3)
{
	long long MB_mid_0 = 0, TH3_mid_0 = 0,tmp_m_a = 0;
	long long m_p_T[4]={163840,229376,294912,491520}; //16 bit float
	long long m_a_T[4]={64881,57606,50921,35389}; //16 bit float
	long long wa,H;
	long long tmp,tmp1,tmp2,tmp3,tmp4,tmp5,div_tmp1,div_tmp2;
	int i;

	pow_tmp_9323_0=pow_float_fix(max_lum>>16,(*m_n),16,0);//reduce computation time
	pow_tmp_9323_1=pow_float_fix(65535,(*m_n)&0xffff,16,1);
	pow_tmp_9323_2=pow_float_fix(65535,(*m_m)&0xffff,16,1);
	
	if(base_param_Delta_mode>=3||base_flag==0)
	{
		;
	}
	else
	{
		MB_mid_0=*MB_0; //16 bit float
		TH3_mid_0=*TH3_0; //16 bit float
		if((*m_a)>(*m_p)) // if m_a <= m_p -> end of function
		{
			if((*m_p)==491520) //7.5*65536=491520
				*m_a=35389; //0.54*65536
			else
			{
				for(i=0;i<3;i++)
				{
					if((*m_p)>=m_p_T[i] && (*m_p)<m_p_T[i+1])
					{
						tmp_m_a=div64_s64(((((*m_p)-m_p_T[i])*m_a_T[i+1])+((m_p_T[i+1]-(*m_p))*m_a_T[i])),(m_p_T[i+1]-m_p_T[i])); //16 bit float
						//tmp_m_a=((((*m_p)-m_p_T[i])*m_a_T[i+1])+((m_p_T[i+1]-(*m_p))*m_a_T[i]))/(m_p_T[i+1]-m_p_T[i]); //16 bit float
					}
				}
			}

			tmp=div64_s64((*m_p)*pow_tmp_9323_0,pow_tmp_9323_1); // need /pow_float_fix(65535,(*m_n),16) ; 32bit
			//tmp=(*m_p)*pow_tmp_9323_0/pow_tmp_9323_1; // need /pow_float_fix(65535,(*m_n),16) ; 32bit
			tmp1=(((*K1)*(*m_p))>>16)-(*K2); //16bit float
			tmp2=pow_tmp_9323_0; // need /pow_float_fix(65535,(*m_n),16)
			tmp3=div64_s64(tmp1*tmp2 , pow_tmp_9323_1); //32bit
			//tmp3=tmp1*tmp2 / pow_tmp_9323_1; //32bit
			div_tmp1 = div64_s64(tmp*pow_float_fix(65535,(*m_n),16,0),pow_tmp_9323_1);
			tmp4=div64_s64((div_tmp1<<16),tmp3); //16bit float
			//tmp4=((tmp*pow_float_fix(65535,(*m_n),16,0)/pow_tmp_9323_1)<<16)/tmp3; //16bit float
			tmp5=pow_float_fix(tmp4,(*m_m),16,0); // need /pow_float_fix(65535,(*m_m),16)
			div_tmp1 = div64_s64(tmp_m_a*tmp5,pow_tmp_9323_2);
			H=(div_tmp1+((*m_b)<<16))>>16; //16bit float
			//H=(tmp_m_a*tmp5/pow_tmp_9323_2+((*m_b)<<16))>>16; //16bit float
			div_tmp1 = div64_s64((inv_EOTF_MaxDisplayPQ<<16),max_lum);
			div_tmp2 = div64_s64((H<<32),max_lum);
			wa=div64_s64((( div_tmp1 - div_tmp2)<<16) , (65535-div_tmp2)); //16bit float
			//wa=((((inv_EOTF_MaxDisplayPQ<<16)/max_lum) - ((H<<32)/max_lum))<<16) / (65535-((H<<32)/max_lum)); //16bit float
			*m_b=((65535-wa)*(*m_b))>>16; //16bit float
			*MB_0=min_cuva(max_cuva(MB_mid_0+(((65535-MB_mid_0)*wa)>>16) , MB_mid_0) , 65535); //16bit float
			*TH3_0=min_cuva(max_cuva(TH3_mid_0+(((max_lum-(TH3_mid_0<<16))*wa)>>32) , TH3_mid_0) , 65535); //16bit float
			
			//H=tmp_m_a*pow((((*m_p)*pow(max_lum,(*m_n)))/(((*K1)*(*m_p)-(*K2)) * pow(max_lum,(*m_n)) + (*K3))),(*m_m)) + (*m_b);
			//wa=((inv_EOTF_MaxDisplayPQ/max_lum) - (H/max_lum)) / (1-(H/max_lum));
			//*m_b=(1-wa)*(*m_b);
			//*MB_0=min(max(MB_mid_0+(1-MB_mid_0)*wa , MB_mid_0) , 1);
			//*TH3_0=min(max(TH3_mid_0+(max_lum-TH3_mid_0)*wa , TH3_mid_0) , 1);

		}
	}
}

void spline_9_3_3_1(long long *TH3_0, long long *MB_0, long long *base_offset, long long *m_p, long long *m_a, long long *m_m, long long *m_n, long long *m_b, long long *K1, long long *K2, long long *K3,long long *TH1_1, long long *TH2_1, long long *TH3_1, long long *MA_0_1, long long *MB_0_1, long long *MC_0_1, long long *MD_0_1, long long *MA_1_1, long long *MB_1_1, long long *MC_1_1, long long *MD_1_1)
{
	long long tmp,tmp1,tmp2,tmp3,tmp4,tmp5,tmp6,pow_tmp0,div_tmp1,div_tmp2;
	long long tTH1_1, tTH2_1, tTH3_1;
	long long VA1, VA2, VA3;
	long long B=9830, C=32768, D=32768; //16bit float
	long long GD1,GD3;
	long long tMA_0_1, tMB_0_1, tMC_0_1, tMD_0_1, tMA_1_1, tMB_1_1, tMC_1_1, tMD_1_1;
	long long DTH2, DTH3, h1, h2;
	
	tTH1_1=*TH3_0; //16bit float
	tTH2_1=tTH1_1+B; //16bit float
	tTH3_1=((tTH2_1<<16)+C*tTH2_1-D*tTH1_1)>>16; //16bit float
	
	VA1=(((*MB_0)*tTH1_1)>>16)+(*base_offset);//16bit float

	pow_tmp0=pow_float_fix(tTH3_1,(*m_n),16,0);
	
	tmp=pow_tmp0; // need /pow_float_fix(65535,(*m_n)&0xffff,16,1)
	tmp1=div64_s64((*m_p)*tmp,pow_tmp_9323_1);//32bit float
	//tmp1=(*m_p)*tmp/pow_tmp_9323_1;//32bit float
	tmp2=(((*K1)*(*m_p))>>16)-(*K2); //16bit float
	tmp3=pow_tmp0; // need /pow_float_fix(65535,(*m_n)&0xffff,16,1)
	div_tmp1 = div64_s64(tmp2*tmp3,pow_tmp_9323_1);
	tmp4=(div_tmp1+((*K3)<<16))>>16; //16bit float
	//tmp4=(tmp2*tmp3/pow_tmp_9323_1+((*K3)<<16))>>16; //16bit float
	div_tmp1 = div64_s64(tmp1,tmp4);
	tmp5=pow_float_fix(div_tmp1,(*m_m),16,0);//need /pow_float_fix(65535,(*m_m)&0xffff,16,1)
	//tmp5=pow_float_fix(tmp1/tmp4,(*m_m),16,0);//need /pow_float_fix(65535,(*m_m)&0xffff,16,1)
	div_tmp1 = div64_s64((*m_a)*tmp5,pow_tmp_9323_2);
	VA3=(div_tmp1+((*m_b)<<16))>>16; //16bit float
	//VA3=((*m_a)*tmp5/pow_tmp_9323_2+((*m_b)<<16))>>16; //16bit float
	div_tmp1 = div64_s64((tTH2_1-tTH1_1)*(VA3-VA1),(tTH3_1-tTH1_1));
	VA2=VA1+div_tmp1; //16bit float
	//VA2=VA1+((tTH2_1-tTH1_1)*(VA3-VA1)/(tTH3_1-tTH1_1)); //16bit float
	
	tMA_0_1=VA1;
	tMA_1_1=VA2;
	
	tMB_0_1=*MB_0;
	GD1=*MB_0;

	tmp=((((((*m_a)*(*m_m)*(*m_p))>>16)*(*K3))>>16)*(*m_n))>>32; //16bit float
	tmp1=pow_float_fix(tTH3_1,(*m_n-65536),16,0); // need /pow_float_fix(65535,((*m_n-65535)&0xffff),16)
	tmp2=div64_s64((*m_p)*pow_tmp0,pow_tmp_9323_1); //16bit float
	//tmp2=((*m_p)*pow_tmp0/pow_tmp_9323_1); //16bit float
	div_tmp1 = div64_s64(((((*K1)*(*m_p))>>16)-(*K2)) * pow_tmp0 , pow_tmp_9323_1);
	tmp3=(div_tmp1>>16) + (*K3); //16bit float
	//tmp3=((((((*K1)*(*m_p))>>16)-(*K2)) * pow_tmp0 / pow_tmp_9323_1)>>16) + (*K3); //16bit float
	div_tmp1 = div64_s64(tmp2,tmp3);
	tmp4=div64_s64(pow_float_fix(div_tmp1,(*m_m+65536),16,0),pow_float_fix(65535,((*m_m+65536)&0xffff),16,1)); // need /pow_float_fix(65535,(*m_m+65535),16) ; 16bit
	//tmp4=pow_float_fix((tmp2)/tmp3,(*m_m+65536),16,0)/pow_float_fix(65535,((*m_m+65536)&0xffff),16,1); // need /pow_float_fix(65535,(*m_m+65535),16) ; 16bit
	tmp5=div64_s64(pow_tmp0 * (*m_p) , pow_tmp_9323_1);
	//tmp5=pow_tmp0 * (*m_p) / pow_tmp_9323_1;
	div_tmp1 = div64_s64(4294967296,(tmp5>>16));
	tmp6=pow_float_fix(div_tmp1,131072,16,0);
	//tmp6=pow_float_fix(((4294967296)/(tmp5>>16)),131072,16,0);
	//GD3=(((tmp * tmp1 / pow_float_fix(65535,((*m_n-65536)&0xffff),16,1) * tmp4)>>32) * tmp6 / pow_float_fix(65535,131072&0xffff,16,1))>>32;  //16bit float
	if(*m_n-65536==0)
	{
		div_tmp1 = div64_s64(tmp * tmp1 , pow_float_fix(65535,((*m_n-65536)&0xffff),16,1));
		div_tmp2 = div64_s64(((div_tmp1 * tmp4)>>16) * tmp6 , pow_float_fix(65535,131072&0xffff,16,1));
		GD3=div_tmp2>>32;  //16bit float
		//GD3=(((tmp * tmp1 / pow_float_fix(65535,((*m_n-65536)&0xffff),16,1) * tmp4)>>16) * tmp6 / pow_float_fix(65535,131072&0xffff,16,1))>>32;  //16bit float
	}
	else
	{
		div_tmp1 = div64_s64(tmp * tmp1 , pow_float_fix(65535,((*m_n-65536)&0xffff),16,1));
		div_tmp2 = div64_s64(((div_tmp1 * tmp4)>>32) * tmp6 , pow_float_fix(65535,131072&0xffff,16,1));
		GD3=div_tmp2>>32;  //16bit float
		//GD3=(((tmp * tmp1 / pow_float_fix(65535,((*m_n-65536)&0xffff),16,1) * tmp4)>>32) * tmp6 / pow_float_fix(65535,131072&0xffff,16,1))>>32;  //16bit float
	}
	
	
	DTH2=tTH2_1-tTH1_1;
	DTH3=tTH3_1-tTH2_1;
	h1=DTH2;
	h2=DTH3;
	// calculate MB_1_1, MC_0_1, MD_0_1, MC_1_1, MD_1_1
	/*tMB_1_1 = -(3.0*VA1*h2*h2 + 3.0*VA2*h1*h1 - 3.0*VA3*h1*h1 - 3.0*h2*h2*VA2 + h1*h1*h2*GD3 + GD1*h1*h2*h2)/(2.0*h2*(h1*h1 + h2*h1));
	tMC_0_1 = (3.0*VA2 - 2.0*GD1*h1 - 3.0*VA1 - tMB_1_1*h1)/(h1*h1);
	tMD_0_1 = (h1*GD1 + h1*tMB_1_1 + 2.0*VA1 - 2.0*VA2)/(h1*h1*h1);
	tMC_1_1 = tMC_0_1 + 3.0*tMD_0_1*h1;
	tMD_1_1 = -(VA3 - VA2 - h2*GD3 + tMC_0_1*h2*h2 + 3.0*tMD_0_1*h1*h2*h2)/(2.0*h2*h2*h2);*/
	div_tmp1 = div64_s64((3*VA1*h2*h2 + 3*VA2*h1*h1 - 3*VA3*h1*h1 - 3*h2*h2*VA2 + ((h1*h1*h2)>>16)*GD3 + ((GD1*h1*h2)>>16)*h2),((2*h2*(h1*h1 + h2*h1))>>16));
	tMB_1_1 = -(div_tmp1); //16bit float	
	//tMB_1_1 = -((3*VA1*h2*h2 + 3*VA2*h1*h1 - 3*VA3*h1*h1 - 3*h2*h2*VA2 + ((h1*h1*h2)>>16)*GD3 + ((GD1*h1*h2)>>16)*h2)/((2*h2*(h1*h1 + h2*h1))>>16)); //16bit float	
	tMC_0_1 = div64_s64(((3*(VA2<<16) - 2*GD1*h1 - 3*(VA1<<16) - tMB_1_1*h1)<<16),(h1*h1)); //16bit float
	//tMC_0_1 = ((3*(VA2<<16) - 2*GD1*h1 - 3*(VA1<<16) - tMB_1_1*h1)<<16)/(h1*h1); //16bit float
	tMD_0_1 = div64_s64(((h1*GD1 + h1*tMB_1_1 + 2*(VA1<<16) - 2*(VA2<<16))<<16),((h1*h1*h1)>>16)); //16bit float
	//tMD_0_1 = ((h1*GD1 + h1*tMB_1_1 + 2*(VA1<<16) - 2*(VA2<<16))<<16)/((h1*h1*h1)>>16); //16bit float
	tMC_1_1 = ((tMC_0_1<<16) + 3*tMD_0_1*h1)>>16; //16bit float
	tMD_1_1 = -div64_s64(((((VA3<<16) - (VA2<<16) - h2*GD3)<<16) + tMC_0_1*h2*h2 + (3*((tMD_0_1*h1*h2)>>16)*h2)),((2*h2*h2*h2)>>16)); //16bit float
	//tMD_1_1 = -((((VA3<<16) - (VA2<<16) - h2*GD3)<<16) + tMC_0_1*h2*h2 + (3*((tMD_0_1*h1*h2)>>16)*h2))/((2*h2*h2*h2)>>16); //16bit float

	// assign tmp calculation result to the output pointer
	*TH1_1=tTH1_1;
	*TH2_1=tTH2_1;
	*TH3_1=tTH3_1;
	*MA_0_1=tMA_0_1;
	*MB_0_1=tMB_0_1;
	*MC_0_1=tMC_0_1;
	*MD_0_1=tMD_0_1;
	*MA_1_1=tMA_1_1;
	*MB_1_1=tMB_1_1;
	*MC_1_1=tMC_1_1;
	*MD_1_1=tMD_1_1;
}

void spline_9_3_3_2(long long *TH3_0, long long *MB_0, long long *base_offset, long long *m_p, long long *m_a, long long *m_m, long long *m_n, long long *m_b, long long *K1, long long *K2, long long *K3,long long *TH1_1, long long *TH2_1, long long *TH3_1, long long *MA_0_1, long long *MB_0_1, long long *MC_0_1, long long *MD_0_1, long long *MA_1_1, long long *MB_1_1, long long *MC_1_1, long long *MD_1_1)
{
	long long tTH1_1, tTH2_1, tTH3_1;
	long long VA1, VA2, VA3;
	long long GD1,GD3;
	long long tMA_0_1, tMB_0_1, tMC_0_1, tMD_0_1, tMA_1_1, tMB_1_1, tMC_1_1, tMD_1_1;
	long long tmp,tmp1,tmp2,tmp3,tmp4,tmp5,tmp6,pow_tmp0,div_tmp1,div_tmp2;
	long long DTH2, DTH3, h1, h2;
	
	tTH1_1=*TH3_0; //16bit float
	tTH2_1=tTH1_1+spline_TH_Delta1_0; //16bit float
	tTH3_1=tTH1_1+spline_TH_Delta1_0+spline_TH_Delta2_0; //16bit float

	pow_tmp0=pow_float_fix(tTH3_1,(*m_n),16,0);
	
	VA1=((*MB_0)*tTH1_1+((*base_offset)<<16))>>16; //16bit float
	
	div_tmp1 = div64_s64((*m_p)* pow_tmp0,pow_tmp_9323_1);
	tmp=div_tmp1>>16; //  16bit float
	//tmp=((*m_p)* pow_tmp0/pow_tmp_9323_1)>>16; //  16bit float
	tmp1=(((*K1)*(*m_p))>>16)-(*K2); //16bit float
	tmp2=pow_tmp0; // need /pow_float_fix(65535,(*m_n&0xffff),16); 32bit
	div_tmp1 = div64_s64(tmp1*tmp2,pow_tmp_9323_1);
	tmp3=(div_tmp1>>16)+(*K3); //16bit float
	//tmp3=((tmp1*tmp2/pow_tmp_9323_1)>>16)+(*K3); //16bit float
	tmp4=div64_s64(tmp<<16,tmp3); //16bit float
	//tmp4=(tmp<<16)/tmp3; //16bit float
	div_tmp1 = div64_s64((*m_a)*pow_float_fix(tmp4,(*m_m),16,0),pow_tmp_9323_2);
	VA3=(div_tmp1+((*m_b)<<16))>>16; //16bit float
	//VA3=(((*m_a)*pow_float_fix(tmp4,(*m_m),16,0)/pow_tmp_9323_2)+((*m_b)<<16))>>16; //16bit float
	
	
	if(VA3>tTH3_1 && base_param_Delta_mode!=3 && base_param_Delta_mode!=2 && base_param_Delta_mode!=6)
	{
		*m_b=*m_b-(VA3-tTH3_1);//16bit float
		VA3=tTH3_1;//16bit float
	}
	div_tmp1 = div64_s64((tTH2_1-tTH1_1)*(VA3-VA1),(tTH3_1-tTH1_1));
	VA2=((VA1 + div_tmp1)<<16) + (((VA3-VA1)*spline_Strength0/2)); //32bit float
	//VA2=((VA1 + ((tTH2_1-tTH1_1)*(VA3-VA1)/(tTH3_1-tTH1_1)))<<16) + (((VA3-VA1)*spline_Strength0/2)); //32bit float
	
	if((VA2>>16)>tTH2_1 && (base_param_Delta_mode!=2&&base_param_Delta_mode!=3&&base_param_Delta_mode!=6))
		VA2=tTH2_1<<16; //16bit float
	
	tMA_0_1=VA1; //16bit float
	tMA_1_1=VA2>>16; //16bit float
	
	tMB_0_1=*MB_0; //16bit float
	GD1=*MB_0; //16bit float
	/*tmp=((((((*m_a)*(*m_m)*(*m_p))>>16)*(*K3))>>16)*(*m_n))>>32; //16bit float
	tmp1=pow_float_fix(tTH3_1,(*m_n-65535),16,0); // need /pow_float_fix(65535,((*m_n-65535)&0xffff),16)
	tmp2=((*m_p)*pow_float_fix(tTH3_1,(*m_n),16,0)/pow_float_fix(65535,(*m_n&0xffff),16,1))>>16; //16bit float
	tmp3=((((((*K1)*(*m_p))>>16)-(*K2)) * pow_float_fix(tTH3_1,(*m_n),16,0) / pow_float_fix(65535,(*m_n&0xffff),16,1))>>16) + (*K3); //16bit float
	tmp4=pow_float_fix((tmp2<<16)/tmp3,(*m_m+65535),16,0)/pow_float_fix(65535,((*m_m+65535)&0xffff),16,1); // need /pow_float_fix(65535,(*m_m+65535),16) ; 16bit
	//tmp5=pow_float_fix(((65535<<16)/((pow_float_fix(tTH3_1,(*m_n),16,0) * (*m_p) / pow_float_fix(65535,(*m_n&0xffff),16,1))>>16)),131070,16,0); // need /pow_float_fix(65535,131070,16)
	tmp5=(pow_float_fix(tTH3_1,(*m_n),16,0) * (*m_p) / pow_float_fix(65535,(*m_n&0xffff),16,1));
	tmp6=pow_float_fix(((4294967296)/(tmp5>>16)),131072,16,0);
	GD3=(((tmp * tmp1 / pow_float_fix(65535,((*m_n-65535)&0xffff),16,1) * tmp4)>>32) * tmp6 / pow_float_fix(65535,131072&0xffff,16,1))>>32;  //16bit float*/

	tmp=((((((*m_a)*(*m_m)*(*m_p))>>16)*(*K3))>>16)*(*m_n))>>32; //16bit float
	tmp1=pow_float_fix(tTH3_1,(*m_n-65536),16,0); // need /pow_float_fix(65535,((*m_n-65535)&0xffff),16)
	tmp2=div64_s64((*m_p)*pow_tmp0,pow_tmp_9323_1); //16bit float
	//tmp2=((*m_p)*pow_tmp0/pow_tmp_9323_1); //16bit float
	div_tmp1 = div64_s64(((((*K1)*(*m_p))>>16)-(*K2)) * pow_tmp0 , pow_tmp_9323_1);
	tmp3=(div_tmp1>>16) + (*K3); //16bit float
	//tmp3=((((((*K1)*(*m_p))>>16)-(*K2)) * pow_tmp0 / pow_tmp_9323_1)>>16) + (*K3); //16bit float
	div_tmp1 = div64_s64(tmp2,tmp3);
	tmp4=div64_s64(pow_float_fix(div_tmp1,(*m_m+65536),16,0),pow_float_fix(65535,((*m_m+65536)&0xffff),16,1)); // need /pow_float_fix(65535,(*m_m+65535),16) ; 16bit
	//tmp4=pow_float_fix((tmp2)/tmp3,(*m_m+65536),16,0)/pow_float_fix(65535,((*m_m+65536)&0xffff),16,1); // need /pow_float_fix(65535,(*m_m+65535),16) ; 16bit
	tmp5=div64_s64(pow_tmp0 * (*m_p) , pow_tmp_9323_1);
	//tmp5=(pow_tmp0 * (*m_p) / pow_tmp_9323_1);
	div_tmp1 = div64_s64(4294967296,(tmp5>>16));
	tmp6=pow_float_fix(div_tmp1,131072,16,0);
	//tmp6=pow_float_fix(((4294967296)/(tmp5>>16)),131072,16,0);
	if(*m_n-65536==0)
	{
		div_tmp1 = div64_s64(tmp * tmp1 , pow_float_fix(65535,((*m_n-65536)&0xffff),16,1));
		div_tmp2 = div64_s64((( div_tmp1* tmp4)>>16) * tmp6 , pow_float_fix(65535,131072&0xffff,16,1));
		GD3=div_tmp2>>32;  //16bit float
		//GD3=(((tmp * tmp1 / pow_float_fix(65535,((*m_n-65536)&0xffff),16,1) * tmp4)>>16) * tmp6 / pow_float_fix(65535,131072&0xffff,16,1))>>32;  //16bit float
	}
	else
	{
		div_tmp1 = div64_s64(tmp * tmp1 , pow_float_fix(65535,((*m_n-65536)&0xffff),16,1));
		div_tmp2 = div64_s64((( div_tmp1* tmp4)>>32) * tmp6 , pow_float_fix(65535,131072&0xffff,16,1));
		GD3=div_tmp2>>32;  //16bit float
		//GD3=(((tmp * tmp1 / pow_float_fix(65535,((*m_n-65536)&0xffff),16,1) * tmp4)>>32) * tmp6 / pow_float_fix(65535,131072&0xffff,16,1))>>32;  //16bit float
	}

	//GD3=(((((tmp*tmp1/pow_float_fix(65535,((*m_n-65535)&0xffff),16,1))>>16)*tmp4/pow_float_fix(65535,((*m_m+65535)&0xffff),16,1))>>16)*tmp5/pow_float_fix(65535,131070&0xffff,16,1))>>16; //16bit float
	
	//GD3=(*m_a)*(*m_m)*(*m_p)*(*K3)*(*m_n)*pow(tTH3_1,(*m_n-1)) * (pow((((*m_p)*pow(tTH3_1,(*m_n)))/(((*K1)*(*m_p)-(*K2))*pow(tTH3_1,(*m_n))+(*K3))),(*m_m+1))) * (pow((1.0/(pow(tTH3_1,(*m_n))*(*m_p))),2));
	
	
	DTH2=tTH2_1-tTH1_1;
	DTH3=tTH3_1-tTH2_1;
	h1=DTH2;
	h2=DTH3;
	// calculate MB_1_1, MC_0_1, MD_0_1, MC_1_1, MD_1_1
	/*tMB_1_1 = -(3.0*VA1*h2*h2 + 3.0*VA2*h1*h1 - 3.0*VA3*h1*h1 - 3.0*h2*h2*VA2 + h1*h1*h2*GD3 + GD1*h1*h2*h2)/(2.0*h2*(h1*h1 + h2*h1));
	tMC_0_1 = (3.0*VA2 - 2.0*GD1*h1 - 3.0*VA1 - tMB_1_1*h1)/(h1*h1);
	tMD_0_1 = (h1*GD1 + h1*tMB_1_1 + 2*VA1 - 2.0*VA2)/(h1*h1*h1);
	tMC_1_1 = tMC_0_1 + 3.0*tMD_0_1*h1;
	tMD_1_1 = -(VA3 - VA2 - h2*GD3 + tMC_0_1*h2*h2 + 3.0*tMD_0_1*h1*h2*h2)/(2.0*h2*h2*h2);*/
	tMB_1_1 = -div64_s64((3*VA1*h2*h2 + ((3*VA2*h1)>>16)*h1 - 3*VA3*h1*h1 - h2*((3*h2*VA2)>>16) + ((h1*h1*h2)>>16)*GD3 + ((GD1*h1*h2)>>16)*h2),((2*h2*(h1*h1 + h2*h1))>>16)); //16bit float
	//tMB_1_1 = -((3*VA1*h2*h2 + ((3*VA2*h1)>>16)*h1 - 3*VA3*h1*h1 - h2*((3*h2*VA2)>>16) + ((h1*h1*h2)>>16)*GD3 + ((GD1*h1*h2)>>16)*h2)/((2*h2*(h1*h1 + h2*h1))>>16)); //16bit float
	tMC_0_1 = div64_s64(((3*(VA2) - 2*GD1*h1 - 3*(VA1<<16) - tMB_1_1*h1)<<16),(h1*h1)); //16bit float
	//tMC_0_1 = ((3*(VA2) - 2*GD1*h1 - 3*(VA1<<16) - tMB_1_1*h1)<<16)/(h1*h1); //16bit float
	tMD_0_1 =div64_s64(((h1*GD1 + h1*tMB_1_1 + 2*(VA1<<16) - 2*(VA2))<<16),((h1*h1*h1)>>16)); //16bit float
	//tMD_0_1 = ((h1*GD1 + h1*tMB_1_1 + 2*(VA1<<16) - 2*(VA2))<<16)/((h1*h1*h1)>>16); //16bit float
	tMC_1_1 = ((tMC_0_1<<16) + 3*tMD_0_1*h1)>>16; //16bit float
	tMD_1_1 = -div64_s64(((((VA3<<16) - (VA2) - h2*GD3)<<16) + tMC_0_1*h2*h2 + (3*((tMD_0_1*h1*h2)>>16)*h2)),((2*h2*h2*h2)>>16)); //16bit float
	//tMD_1_1 = -((((VA3<<16) - (VA2) - h2*GD3)<<16) + tMC_0_1*h2*h2 + (3*((tMD_0_1*h1*h2)>>16)*h2))/((2*h2*h2*h2)>>16); //16bit float
	// assign tmp calculation result to the output pointer
	*TH1_1=tTH1_1;
	*TH2_1=tTH2_1;
	*TH3_1=tTH3_1;
	*MA_0_1=tMA_0_1;
	*MB_0_1=tMB_0_1;
	*MC_0_1=tMC_0_1;
	*MD_0_1=tMD_0_1;
	*MA_1_1=tMA_1_1;
	*MB_1_1=tMB_1_1;
	*MC_1_1=tMC_1_1;
	*MD_1_1=tMD_1_1;
}

void spline_9_3_3_3(long long *TH3_0, long long *MB_0, long long *base_offset, long long *m_p, long long *m_a, long long *m_m, long long *m_n, long long *m_b, long long *K1, long long *K2, long long *K3, long long *TH1_1, long long *TH2_1, long long *TH3_1, long long *MA_0_1, long long *MB_0_1, long long *MC_0_1, long long *MD_0_1, long long *MA_1_1, long long *MB_1_1, long long *MC_1_1, long long *MD_1_1, long long *TH1_2, long long *TH2_2, long long *TH3_2, long long *MA_0_2, long long *MB_0_2, long long *MC_0_2, long long *MD_0_2, long long *MA_1_2, long long *MB_1_2, long long *MC_1_2, long long *MD_1_2)
{
	long long tTH1_2, tTH2_2, tTH3_2;
	long long VA1, VA2, VA3;
	long long GD1,GD2,GD3 = 0;
	long long tMA_0_2, tMB_0_2, tMC_0_2, tMD_0_2, tMA_1_2, tMB_1_2, tMC_1_2, tMD_1_2;
	long long TH_str;
	long long down_T, down_T1, up_T, up_T1, mid_T;
	long long tmp,tmp1,tmp2,tmp3,tmp4,tmp5,tmp6,pow_tmp0,pow_tmp1,pow_tmp2,pow_tmp3,div_tmp1,div_tmp2;
	long long DTH2, DTH3, h1, h2;

	if(spline_num==1)
	{
		tTH1_2=spline_TH_0; //16bit float
		tTH2_2=(spline_TH_0+spline_TH_Delta1_0)<<16; // ****** 32bit float *****
		tTH3_2=(spline_TH_0+spline_TH_Delta1_0+spline_TH_Delta2_0)<<16; // ****** 32bit float *****
	}
	else // 3spline_num=2 : use second set parameter
	{
		tTH1_2=spline_TH_1; //16bit float
		tTH2_2=(spline_TH_1+spline_TH_Delta1_1)<<16; // ****** 32bit float *****
		tTH3_2=(spline_TH_1+spline_TH_Delta1_1+spline_TH_Delta2_1)<<16; // ****** 32bit float *****
		spline_TH_mode=spline_TH_mode_1;
	}
	if(tTH3_2<(*TH3_1<<16))
	{
		spline_num=1;
		*TH1_2=tTH1_2;
		*TH2_2=tTH2_2>>16; //16bit float
		*TH3_2=tTH3_2>>16; //16bit float
	}
	else
	{
		if(tTH1_2<(*TH3_1))
		{
			tTH1_2=(*TH3_1);
			tTH2_2=((tTH1_2<<16)+tTH3_2)/2; // ****** 32bit float *****
		}

		pow_tmp0=pow_float_fix(tTH1_2,(*m_n),16,0);
		pow_tmp1=pow_float_fix((tTH3_2>>16),(*m_n),16,0);
		pow_tmp2=pow_float_fix(65535,((*m_m+65535)&0xffff),16,1);
		pow_tmp3=pow_float_fix(65535,131072&0xffff,16,1);
		
		tmp=div64_s64((*m_p)* pow_tmp0,pow_tmp_9323_1); // need /pow_float_fix(65535,(*m_n),16) -> 32bit float
		//tmp=(*m_p)* pow_tmp0/pow_tmp_9323_1; // need /pow_float_fix(65535,(*m_n),16) -> 32bit float
		tmp1=(((*K1)*(*m_p))>>16)-(*K2); //16bit float
		tmp2=pow_tmp0; // need /pow_float_fix(65535,(*m_n),16)

		div_tmp1 = div64_s64(tmp1*tmp2,pow_tmp_9323_1);
		tmp3=(div_tmp1+((*K3)<<16))>>16; //16bit float
		//tmp3=(tmp1*tmp2/pow_tmp_9323_1+((*K3)<<16))>>16; //16bit float
		tmp4=div64_s64(tmp,tmp3); //16bit float
		//tmp4=(tmp)/tmp3; //16bit float
		div_tmp1 = div64_s64((*m_a)*pow_float_fix(tmp4,(*m_m),16,0),pow_tmp_9323_2);
		VA1=(div_tmp1+((*m_b)<<16)); //32bit float
		//VA1=(((*m_a)*pow_float_fix(tmp4,(*m_m),16,0)/pow_tmp_9323_2)+((*m_b)<<16)); //32bit float

		tmp=div64_s64((*m_p)* pow_tmp1,pow_tmp_9323_1); // need /pow_float_fix(65535,(*m_n),16) -> 32bit float
		//tmp=(*m_p)* pow_tmp1/pow_tmp_9323_1; // need /pow_float_fix(65535,(*m_n),16) -> 32bit float
		tmp1=(((*K1)*(*m_p))>>16)-(*K2); //16bit float
		tmp2=pow_tmp1; // need /pow_float_fix(65535,(*m_n),16)
		div_tmp1 = div64_s64(tmp1*tmp2,pow_tmp_9323_1);
		tmp3=(div_tmp1+((*K3)<<16))>>16; //16bit float
		//tmp3=(tmp1*tmp2/pow_tmp_9323_1+((*K3)<<16))>>16; //16bit float
		tmp4=div64_s64(tmp,tmp3); //16bit float
		//tmp4=(tmp)/tmp3; //16bit float
		div_tmp1 = div64_s64((*m_a)*pow_float_fix(tmp4,(*m_m),16,0),pow_tmp_9323_2);
		VA3=(div_tmp1+((*m_b)<<16)); // ****** 32bit float *****
		//VA3=((*m_a)*pow_float_fix(tmp4,(*m_m),16,0)/pow_tmp_9323_2+((*m_b)<<16)); // ****** 32bit float *****
		
		if((spline_TH_mode==1||spline_TH_mode==2) && base_param_Delta_mode!=3)
		{
			VA3=inv_EOTF_MaxDisplayPQ; // ****** 32bit float *****
			if(VA3>tTH3_2 && (base_param_Delta_mode!=2 && base_param_Delta_mode!=6)) //!= 2 and 6 
			{
				tTH3_2=VA3; // ****** 32bit float *****
				tTH2_2=(tTH1_2<<16)+(tTH3_2-(tTH1_2<<16))/2; // ****** 32bit float *****
				pow_tmp1=pow_float_fix((tTH3_2>>16),(*m_n),16,0);
			} 
		}
		else if((spline_TH_mode==1||spline_TH_mode==2) && base_param_Delta_mode==3)
			VA3=targeted_system_display_maximum_luminance<<16; // ****** 32bit float *****
			//VA3=targeted_system_display_maximum_luminance_pq<<20; // ****** 32bit float *****
		else if(spline_TH_mode==3)
			; // VA3=VA3 ****** 32bit float *****

		div_tmp1 = div64_s64(((tTH2_2>>16)-tTH1_2)*(VA3-(VA1)),(tTH3_2-(tTH1_2<<16)));
		VA2=((VA1>>16) + div_tmp1 + (((VA3-(VA1))*spline_Strength1/2)>>32))<<16; // ****** 32bit float *****
		//VA2=((VA1>>16) + (((tTH2_2>>16)-tTH1_2)*(VA3-(VA1))/(tTH3_2-(tTH1_2<<16))) + (((VA3-(VA1))*spline_Strength1/2)>>32))<<16; // ****** 32bit float *****
		
		if((spline_TH_mode==1||spline_TH_mode==2) && (VA2)>tTH2_2 && (base_param_Delta_mode!=2&&base_param_Delta_mode!=3&&base_param_Delta_mode!=6))
			VA2=tTH2_2; // ****** 32bit float *****
		
		tMA_0_2=VA1>>16; //16bit float
		tMA_1_2=VA2; // ****** 32bit float *****

		tmp=((((((*m_a)*(*m_m)*(*m_p))>>16)*(*K3))>>16)*(*m_n))>>32; //16bit float
		tmp1=pow_float_fix(tTH1_2,(*m_n-65536),16,0); // need /pow_float_fix(65535,(*m_n-65535),16)
		tmp2=div64_s64((*m_p)*pow_tmp0,pow_tmp_9323_1); //32bit float
		//tmp2=(*m_p)*pow_tmp0/pow_tmp_9323_1; //32bit float
		div_tmp1 = div64_s64(((((*K1)*(*m_p))>>16)-(*K2)) * pow_tmp0 , pow_tmp_9323_1);
		tmp3=( div_tmp1 + ((*K3)<<16))>>16; //16bit float
		//tmp3=(((((*K1)*(*m_p))>>16)-(*K2)) * pow_tmp0 / pow_tmp_9323_1 + ((*K3)<<16))>>16; //16bit float
		div_tmp1 = div64_s64(tmp2,tmp3);
		tmp4=div64_s64(pow_float_fix(div_tmp1,(*m_m+65536),16,0),pow_tmp2); // need /pow_float_fix(65535,(*m_m+65535),16)
		//tmp4=pow_float_fix((tmp2)/tmp3,(*m_m+65536),16,0)/pow_tmp2; // need /pow_float_fix(65535,(*m_m+65535),16)
		div_tmp1 = div64_s64(pow_tmp0*(*m_p),pow_tmp_9323_1);
		div_tmp2 = div64_s64(4294967296,(div_tmp1>>16));
		tmp5=pow_float_fix(div_tmp2,131072,16,0); // need /pow_float_fix(65535,131070,16)
		//tmp5=pow_float_fix(((4294967296)/((pow_tmp0*(*m_p)/pow_tmp_9323_1)>>16)),131072,16,0); // need /pow_float_fix(65535,131070,16)
		if(*m_n-65536==0)
		{	
			div_tmp1 = div64_s64(tmp * tmp1 , pow_float_fix(65535,((*m_n-65536)&0xffff),16,1));
			div_tmp2 = div64_s64((( div_tmp1* tmp4)>>16) * tmp5 , pow_tmp3);
			tMB_0_2=div_tmp2>>32;  //16bit float
			//tMB_0_2=(((tmp * tmp1 / pow_float_fix(65535,((*m_n-65536)&0xffff),16,1) * tmp4)>>16) * tmp5 / pow_tmp3)>>32;  //16bit float
		}
		else
		{
			div_tmp1 = div64_s64(tmp * tmp1 , pow_float_fix(65535,((*m_n-65536)&0xffff),16,1));
			div_tmp2 = div64_s64((( div_tmp1* tmp4)>>32) * tmp5 , pow_tmp3);
			tMB_0_2=div_tmp2>>32;  //16bit float
			//tMB_0_2=(((tmp * tmp1 / pow_float_fix(65535,((*m_n-65536)&0xffff),16,1) * tmp4)>>32) * tmp5 / pow_tmp3)>>32;  //16bit float
		}

		GD1=tMB_0_2; //16bit float
		
		if((spline_TH_mode==1||spline_TH_mode==2) && VA3==tTH3_2 && (base_param_Delta_mode!=2&&base_param_Delta_mode!=3&&base_param_Delta_mode!=6))
			GD3=65536; //=1
		if(spline_TH_mode==1)
		{
			TH_str=spline_Strength1; //16bit float

			up_T1=div64_s64(((VA3-(VA1))<<16),(tTH3_2-tTH2_2)); //16bit float
			//up_T1=((VA3-(VA1))<<16)/(tTH3_2-tTH2_2); //16bit float
			mid_T=div64_s64(((VA3-(VA1))<<16),(tTH3_2-(tTH1_2<<16))); //16bit float
			//mid_T=((VA3-(VA1))<<16)/(tTH3_2-(tTH1_2<<16)); //16bit float
			down_T1=div64_s64((VA3-(VA1))*6553,(tTH3_2-(tTH1_2<<16))); //*6553 = *0.1<<16 ; //16bit float
			//down_T1=(VA3-(VA1))*6553/(tTH3_2-(tTH1_2<<16)); //*6553 = *0.1<<16 ; //16bit float
			down_T=down_T1<GD1? GD1:down_T1; //16bit float
			up_T=up_T1<GD1? GD1:up_T1; //16bit float
			
			if(TH_str<0)
				GD3=(down_T*(-TH_str) + mid_T*(65536+TH_str))>>16; //16bit float
			else
				GD3=(up_T*TH_str + mid_T*(65536-TH_str))>>16; //16bit float
		} 
		else
		{
			/*tmp=((((((*m_a)*(*m_m)*(*m_p))>>16)*(*K3))>>16)*(*m_n))>>32; //16bit float
			tmp1=pow_float_fix((tTH3_2>>16),(*m_n-65535),16); // need /pow_float_fix(65535,(*m_n-65535),16)
			tmp2=(*m_p)*pow_float_fix((tTH3_2>>16),(*m_n),16)/pow_float_fix(65535,(*m_n),16); //16bit float
			tmp3=((((*K1)*(*m_p))>>16)-(*K2)) * pow_float_fix((tTH3_2>>16),(*m_n),16) / pow_float_fix(65535,(*m_n),16) + (*K3); //16bit float
			tmp4=pow_float_fix((tmp2<<16)/tmp3,(*m_m+65535),16); // need /pow_float_fix(65535,(*m_m+65535),16)
			tmp5=pow_float_fix(((65535<<16)/(pow_float_fix((tTH3_2>>16),(*m_n),16)*(*m_p)/pow_float_fix(65535,(*m_n),16))),131070,16); // need /pow_float_fix(65535,131070,16)

			GD2=tmp*tmp1/pow_float_fix(65535,(*m_n-65535),16)*tmp4/pow_float_fix(65535,(*m_m+65535),16)*tmp5/pow_float_fix(65535,131070,16); //16bit float*/
			//GD2=(*m_a)*(*m_m)*(*m_p)*(*K3)*(*m_n)*pow(tTH3_2,(*m_n-1)) * (pow((((*m_p)*pow(tTH3_2,(*m_n)))/(((*K1)*(*m_p)-(*K2))*pow(tTH3_2,(*m_n))+(*K3))),(*m_m+1))) * (pow((1.0/(pow(tTH3_2,(*m_n))*(*m_p))),2));

	
			tmp=((((((*m_a)*(*m_m)*(*m_p))>>16)*(*K3))>>16)*(*m_n))>>32; //16bit float
			tmp1=pow_float_fix((tTH3_2>>16),(*m_n-65535),16,0); // need /pow_float_fix(65535,((*m_n-65535)&0xffff),16)
			tmp2=div64_s64((*m_p)*pow_tmp1,pow_tmp_9323_1); //16bit float
			//tmp2=((*m_p)*pow_tmp1/pow_tmp_9323_1); //16bit float
			div_tmp1 = div64_s64(((((*K1)*(*m_p))>>16)-(*K2)) * pow_tmp1 , pow_tmp_9323_1);
			tmp3=(div_tmp1>>16) + (*K3); //16bit float
			//tmp3=((((((*K1)*(*m_p))>>16)-(*K2)) * pow_tmp1 / pow_tmp_9323_1)>>16) + (*K3); //16bit float
			div_tmp1 = div64_s64(tmp2,tmp3);
			tmp4=div64_s64(pow_float_fix(div_tmp1,(*m_m+65535),16,0),pow_tmp2); // need /pow_float_fix(65535,(*m_m+65535),16) ; 16bit
			//tmp4=pow_float_fix((tmp2)/tmp3,(*m_m+65535),16,0)/pow_tmp2; // need /pow_float_fix(65535,(*m_m+65535),16) ; 16bit
			tmp5=div64_s64(pow_tmp1 * (*m_p) , pow_tmp_9323_1);
			//tmp5=(pow_tmp1 * (*m_p) / pow_tmp_9323_1);
			div_tmp1 = div64_s64(4294967296,(tmp5>>16));
			tmp6=pow_float_fix(div_tmp1,131072,16,0);
			//tmp6=pow_float_fix(((4294967296)/(tmp5>>16)),131072,16,0);
			div_tmp1 = div64_s64(tmp * tmp1 , pow_float_fix(65535,((*m_n-65535)&0xffff),16,1) );
			div_tmp2 = div64_s64(((div_tmp1* tmp4)>>32) * tmp6 , pow_tmp3);
			GD2=div_tmp2>>32;  //16bit float
			//GD2=(((tmp * tmp1 / pow_float_fix(65535,((*m_n-65535)&0xffff),16,1) * tmp4)>>32) * tmp6 / pow_tmp3)>>32;  //16bit float

			if(spline_TH_mode==2)
				GD3=GD2-spline_TH_MB_2; //16bit float
			else if(spline_TH_mode==3)
				GD3=GD2; //16bit float
		}
		
		
		DTH2=(tTH2_2-(tTH1_2<<16))>>16; //16bit float
		DTH3=(tTH3_2-tTH2_2)>>16; //16bit float
		h1=DTH2; //16bit float
		h2=DTH3; //16bit float
		// calculate MB_1_1, MC_0_1, MD_0_1, MC_1_1, MD_1_1
		/*tMB_1_2 = -(3.0*VA1*h2*h2 + 3.0*VA2*h1*h1 - 3.0*VA3*h1*h1 - 3.0*h2*h2*VA2 + h1*h1*h2*GD3 + GD1*h1*h2*h2)/(2.0*h2*(h1*h1 + h2*h1));
		tMC_0_2 = (3.0*VA2 - 2.0*GD1*h1 - 3.0*VA1 - tMB_1_2*h1)/(h1*h1);
		tMD_0_2 = (h1*GD1 + h1*tMB_1_2 + 2.0*VA1 - 2.0*VA2)/(h1*h1*h1);
		tMC_1_2 = tMC_0_2+ 3.0*tMD_0_2*h1;
		tMD_1_2 = -(VA3 - VA2 - h2*GD3 + tMC_0_2*h2*h2 + 3.0*tMD_0_2*h1*h2*h2)/(2.0*h2*h2*h2);*/

		tMB_1_2 = -div64_s64((((3*VA1*h2)>>16)*h2 + 3*((VA2*h1)>>16)*h1 - 3*((VA3*h1)>>16)*h1 - 3*h2*((h2*VA2)>>16) + ((h1*h1*h2)>>16)*GD3 + ((GD1*h1*h2)>>16)*h2),((2*h2*(h1*h1 + h2*h1))>>16)); //16bit float
		//tMB_1_2 = -((((3*VA1*h2)>>16)*h2 + 3*((VA2*h1)>>16)*h1 - 3*((VA3*h1)>>16)*h1 - 3*h2*((h2*VA2)>>16) + ((h1*h1*h2)>>16)*GD3 + ((GD1*h1*h2)>>16)*h2)/((2*h2*(h1*h1 + h2*h1))>>16)); //16bit float
		tMC_0_2 = div64_s64(((3*VA2 - 2*GD1*h1 - 3*(VA1) - tMB_1_2*h1)<<16),(h1*h1)); //16bit float
		tMD_0_2 = div64_s64(((h1*GD1 + h1*tMB_1_2 + 2*(VA1) - 2*VA2)<<16),((h1*h1*h1)>>16)); //16bit float
		tMC_1_2 = ((tMC_0_2<<16) + 3*tMD_0_2*h1)>>16; //16bit float
		tMD_1_2 = -div64_s64(((((VA3 - VA2 - h2*GD3)<<16) + tMC_0_2*h2*h2 + (3*((tMD_0_2*h1*h2)>>16)*h2))<<14),((2*h2*h2*h2)>>2)); //16bit float

		// assign tmp calculation result to the output pointer
		*TH1_2=tTH1_2; //16bit float
		*TH2_2=tTH2_2>>16; //16bit float
		*TH3_2=tTH3_2>>16; //16bit float
		*MA_0_2=tMA_0_2;
		*MB_0_2=tMB_0_2;
		*MC_0_2=tMC_0_2;
		*MD_0_2=tMD_0_2;
		*MA_1_2=tMA_1_2>>16;//16bit float
		*MB_1_2=tMB_1_2;
		*MC_1_2=tMC_1_2;
		*MD_1_2=tMD_1_2;
	}
}

//#endif
void drvif_fwif_color_ScalerVIP_set_HDR10_vivid_metadata2reg_frameSync(int display_Brightness, _RPC_system_setting_info *RPC_sys_info, VIP_HDR10_vivid_CTRL* HDR10_vivi_CTRL)
{
#if CUVA_FW_TEST_ON_FPGA
	dm_hdr_path_sel_RBUS dm_hdr_path_sel_reg;
#endif
	static unsigned char CNT = 0;
	HDR_VIVID_Metadata *pMT;

	unsigned char Debug_Log=0, Debug_log_delay=0;
	/* 9.2 base curve*/
	long long m_p,m_a,m_m,m_n,m_b,K1,K2,K3;
	long long m_p_0, m_a_0, m_m_0, m_n_0, m_b_0, K1_0, K2_0, K3_0;
	unsigned char spline_enable_num;
	/* 9.2.3 calculate max_lum */
	long long A=26214,B=13107; // 16bit float
	long long MAX1;
	/* 9.3 - 3spline */
	long long TH3_0=0, MB_0=0, base_offset = 0;
	long long TH1_1=0, TH2_1=0, TH3_1=0, MA_0_1=0, MB_0_1=0, MC_0_1=0, MD_0_1=0, MA_1_1=0, MB_1_1=0, MC_1_1=0, MD_1_1=0;
	long long TH1_2=0, TH2_2=0, TH3_2=0, MA_0_2=0, MB_0_2=0, MC_0_2=0, MD_0_2=0, MA_1_2=0, MB_1_2=0, MC_1_2=0, MD_1_2=0;
	/* 9.4 tone mapping */
	int px,i;
	long long max;
	//long long debug_tmp=0,debug_tmp2=0;
	long long tm_r,tm_g,tm_b;
	long long BASEH,MBH,H1;
	long long L1,L2;
	long long max_Tm;
	long long K,kmax;
	long long color_r,color_g,color_b;
	long long C0,C1;
	long long tm_r_PQ,tm_g_PQ,tm_b_PQ;

	long long max_TM_PQ=0;
	long long TML,RML,TML_TM;
	long long Sca,SatR,M,A_color,B_color;


	long long color_saturation_gain0; //16bit float
	long long color_saturation_gain1; //16bit float
	/* gen 1DLUT1  */
	//long long pre_Eo=0, yout_new;
	//int work_around=0;
	//unsigned int y_lut1[1025]={0};
	long long y_idx;
	long long tmp,tmp1,tmp2,div_tmp1,div_tmp2;
	/*gen EOTF_out_curve*/
	long long EOTF_input=0;
	long long EOTF_tmp=0;
	long long EOTF_tmp2=0;
	
	/* shift_bit need to be set to the BBCGain register */
	unsigned char shift_bit=0;

	if((Debug_Log&_BIT6)!=0) {
		rtd_pr_vpq_info("enable = %d, update_dma_flag = %d\n", HDR10_vivi_CTRL->Enable, HDR10_vivi_CTRL->update_DMA_Flag);
	}

	if (HDR10_vivi_CTRL->Enable != 1 || HDR10_vivi_CTRL->update_DMA_Flag == 1)
		return;

	CNT++;
	
	Debug_Log = HDR10_vivi_CTRL->Debug_Log;
	Debug_log_delay = HDR10_vivi_CTRL->Debug_Delay;

	pMT = drvif_fwif_color_Get_HDR10_vivid_METADATA_Buff();
																								
	pMT->system_start_code										=		 RPC_sys_info->HDR_info.hdr_VIVID_Metadata.system_start_code                                          ;
	pMT->minimum_maxrgb_pq[0]                                  =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.minimum_maxrgb_pq[0], 1)                                       ;
	pMT->average_maxrgb_pq[0]                                  =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.average_maxrgb_pq[0], 1)                                       ;
	pMT->variance_maxrgb_pq[0]                                 =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.variance_maxrgb_pq[0], 1)                                      ;
	pMT->maximum_maxrgb_pq[0]                                  =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.maximum_maxrgb_pq[0], 1)                                       ;
	pMT->tone_mapping_enable_mode_flag[0]                      =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.tone_mapping_enable_mode_flag[0]                           ;
	pMT->tone_mapping_param_enable_num[0]                      =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.tone_mapping_param_enable_num[0]                           ;
	pMT->targeted_system_display_maximum_luminance_pq[0][0]    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.targeted_system_display_maximum_luminance_pq[0][0], 1)         ;
	pMT->targeted_system_display_maximum_luminance_pq[1][0]    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.targeted_system_display_maximum_luminance_pq[1][0], 1)         ;
	pMT->base_enable_flag[0][0]                                =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_enable_flag[0][0]                                     ;
	pMT->base_enable_flag[1][0]                                =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_enable_flag[1][0]                                     ;
	pMT->base_param_m_p[0][0]                                  =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_p[0][0], 1)                                       ;
	pMT->base_param_m_p[1][0]                                  =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_p[1][0], 1)                                       ;
	pMT->base_param_m_m[0][0]                                  =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_m[0][0]                                       ;
	pMT->base_param_m_m[1][0]                                  =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_m[1][0]                                       ;
	pMT->base_param_m_a[0][0]                                  =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_a[0][0], 1)                                       ;
	pMT->base_param_m_a[1][0]                                  =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_a[1][0], 1)                                       ;
	pMT->base_param_m_b[0][0]                                  =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_b[0][0], 1)                                       ;
	pMT->base_param_m_b[1][0]                                  =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_b[1][0], 1)                                       ;
	pMT->base_param_m_n[0][0]                                  =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_n[0][0]                                       ;
	pMT->base_param_m_n[1][0]                                  =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_m_n[1][0]                                       ;
	pMT->base_param_K1[0][0]                                   =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_K1[0][0]                                        ;
	pMT->base_param_K1[1][0]                                   =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_K1[1][0]                                        ;
	pMT->base_param_K2[0][0]                                   =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_K2[0][0]                                        ;
	pMT->base_param_K2[1][0]                                   =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_K2[1][0]                                        ;
	pMT->base_param_K3[0][0]                                   =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_K3[0][0]                                        ;
	pMT->base_param_K3[1][0]                                   =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_K3[1][0]                                        ;
	pMT->base_param_Delta_enable_mode[0][0]                    =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_Delta_enable_mode[0][0]                         ;
	pMT->base_param_Delta_enable_mode[1][0]                    =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_Delta_enable_mode[1][0]                         ;
	pMT->base_param_enable_Delta[0][0]                         =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_enable_Delta[0][0]                              ;
	pMT->base_param_enable_Delta[1][0]                         =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.base_param_enable_Delta[1][0]                              ;
	pMT->_3Spline_enable_flag[0][0]                            =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_enable_flag[0][0]                                 ;
	pMT->_3Spline_enable_flag[1][0]                            =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_enable_flag[1][0]                                 ;
	pMT->_3Spline_enable_num[0][0]                             =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_enable_num[0][0]                                  ;
	pMT->_3Spline_enable_num[1][0]                             =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_enable_num[1][0]                                  ;
	pMT->_3Spline_TH_enable_mode[0][0][0]                      =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_mode[0][0][0]                           ;
	pMT->_3Spline_TH_enable_mode[0][1][0]                      =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_mode[0][1][0]                           ;
	pMT->_3Spline_TH_enable_mode[1][0][0]                      =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_mode[1][0][0]                           ;
	pMT->_3Spline_TH_enable_mode[1][1][0]                      =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_mode[1][1][0]                           ;
	pMT->_3Spline_TH_enable_MB[0][0][0]                        =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_MB[0][0][0]                             ;
	pMT->_3Spline_TH_enable_MB[0][1][0]                        =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_MB[0][1][0]                             ;
	pMT->_3Spline_TH_enable_MB[1][0][0]                        =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_MB[1][0][0]                             ;
	pMT->_3Spline_TH_enable_MB[1][1][0]                        =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_MB[1][1][0]                             ;
	pMT->_3Spline_TH_enable[0][0][0]                           =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable[0][0][0], 1)                                ;
	pMT->_3Spline_TH_enable[0][1][0]                           =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable[0][1][0], 1)                                ;
	pMT->_3Spline_TH_enable[1][0][0]                           =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable[1][0][0], 1)                                ;
	pMT->_3Spline_TH_enable[1][1][0]                           =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable[1][1][0], 1)                               ;
	pMT->_3Spline_TH_enable_Delta1[0][0][0]                    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_Delta1[0][0][0], 1)                        ;
	pMT->_3Spline_TH_enable_Delta1[0][1][0]                    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_Delta1[0][1][0], 1)                        ;
	pMT->_3Spline_TH_enable_Delta1[1][0][0]                    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_Delta1[1][0][0], 1)                         ;
	pMT->_3Spline_TH_enable_Delta1[1][1][0]                    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_Delta1[1][1][0], 1)                        ;
	pMT->_3Spline_TH_enable_Delta2[0][0][0]                    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_Delta2[0][0][0], 1)                        ;
	pMT->_3Spline_TH_enable_Delta2[0][1][0]                    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_Delta2[0][1][0], 1)                         ;
	pMT->_3Spline_TH_enable_Delta2[1][0][0]                    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_Delta2[1][0][0], 1)                         ;
	pMT->_3Spline_TH_enable_Delta2[1][1][0]                    =        fwif_color_ChangeOneUINT16Endian(RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_TH_enable_Delta2[1][1][0], 1)                         ;
	pMT->_3Spline_enable_Strength[0][0][0]                     =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_enable_Strength[0][0][0]                          ;
	pMT->_3Spline_enable_Strength[0][1][0]                     =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_enable_Strength[0][1][0]                          ;
	pMT->_3Spline_enable_Strength[1][0][0]                     =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_enable_Strength[1][0][0]                          ;
	pMT->_3Spline_enable_Strength[1][1][0]                     =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata._3Spline_enable_Strength[1][1][0]                          ;
	pMT->color_saturation_mapping_enable_flag[0]               =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.color_saturation_mapping_enable_flag[0]                    ;
	pMT->color_saturation_enable_num[0]                        =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.color_saturation_enable_num[0]                             ;
	pMT->color_saturation_enable_gain[0][0]                    =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.color_saturation_enable_gain[0][0]                         ;
	pMT->color_saturation_enable_gain[1][0]                    =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.color_saturation_enable_gain[1][0]                         ;
	pMT->color_saturation_enable_gain[2][0]                    =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.color_saturation_enable_gain[2][0]                         ;
	pMT->color_saturation_enable_gain[3][0]                    =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.color_saturation_enable_gain[3][0]                         ;
	pMT->color_saturation_enable_gain[4][0]                    =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.color_saturation_enable_gain[4][0]                         ;
	pMT->color_saturation_enable_gain[5][0]                    =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.color_saturation_enable_gain[5][0]                         ;
	pMT->color_saturation_enable_gain[6][0]                    =        RPC_sys_info->HDR_info.hdr_VIVID_Metadata.color_saturation_enable_gain[6][0]                         ;

#if CUVA_FW_TEST_ON_FPGA
/* //frame 1727
	pMT->system_start_code										=		 1                                          ;
	pMT->minimum_maxrgb_pq[0]                                  =      0  ;
	pMT->average_maxrgb_pq[0]                                  =        1954;
	pMT->variance_maxrgb_pq[0]                                 =       2331;
	pMT->maximum_maxrgb_pq[0]                                  =        3120                             ;
	pMT->tone_mapping_enable_mode_flag[0]                      =        1;
	pMT->tone_mapping_param_enable_num[0]                      =        0;
	pMT->targeted_system_display_maximum_luminance_pq[0][0]    =        2770         ;
	pMT->targeted_system_display_maximum_luminance_pq[1][0]    =        0         ;
	pMT->base_enable_flag[0][0]                                =        1;
	pMT->base_enable_flag[1][0]                                =        0;
	pMT->base_param_m_p[0][0]                                  =        7372 ;
	pMT->base_param_m_p[1][0]                                  =        0;
	pMT->base_param_m_m[0][0]                                  =        24;
	pMT->base_param_m_m[1][0]                                  =        0;
	pMT->base_param_m_a[0][0]                                  =        736;
	pMT->base_param_m_a[1][0]                                  =        0;
	pMT->base_param_m_b[0][0]                                  =      178;
	pMT->base_param_m_b[1][0]                                  =        0;
	pMT->base_param_m_n[0][0]                                  =        10;
	pMT->base_param_m_n[1][0]                                  =        0;
	pMT->base_param_K1[0][0]                                   =        1;
	pMT->base_param_K1[1][0]                                   =        0                                  ;
	pMT->base_param_K2[0][0]                                   =        1                                       ;
	pMT->base_param_K2[1][0]                                   =        0                                ;
	pMT->base_param_K3[0][0]                                   =        1                                 ;
	pMT->base_param_K3[1][0]                                   =        0                                     ;
	pMT->base_param_Delta_enable_mode[0][0]                    =        6          ;
	pMT->base_param_Delta_enable_mode[1][0]                    =        0    ;
	pMT->base_param_enable_Delta[0][0]                         =        6 ;
	pMT->base_param_enable_Delta[1][0]                         =        0                              ;
	pMT->_3Spline_enable_flag[0][0]                            =        1;
	pMT->_3Spline_enable_flag[1][0]                            =        0;
	pMT->_3Spline_enable_num[0][0]                             =        1                              ;
	pMT->_3Spline_enable_num[1][0]                             =        0                                 ;
	pMT->_3Spline_TH_enable_mode[0][0][0]                      =        0;
	pMT->_3Spline_TH_enable_mode[0][1][0]                      =        0                           ;
	pMT->_3Spline_TH_enable_mode[1][0][0]                      =        2;
	pMT->_3Spline_TH_enable_mode[1][1][0]                      =        0                           ;
	pMT->_3Spline_TH_enable_MB[0][0][0]                        =        240      ;
	pMT->_3Spline_TH_enable_MB[0][1][0]                        =        0                            ;
	pMT->_3Spline_TH_enable_MB[1][0][0]                        =        0                          ;
	pMT->_3Spline_TH_enable_MB[1][1][0]                        =        0                            ;
	pMT->_3Spline_TH_enable[0][0][0]                           =        532                                ;
	pMT->_3Spline_TH_enable[0][1][0]                           =        0                                ;
	pMT->_3Spline_TH_enable[1][0][0]                           =        1965                               ;
	pMT->_3Spline_TH_enable[1][1][0]                           =        0                             ;
	pMT->_3Spline_TH_enable_Delta1[0][0][0]                    =        613                        ;
	pMT->_3Spline_TH_enable_Delta1[0][1][0]                    =        0                        ;
	pMT->_3Spline_TH_enable_Delta1[1][0][0]                    =        570                        ;
	pMT->_3Spline_TH_enable_Delta1[1][1][0]                    =        0                       ;
	pMT->_3Spline_TH_enable_Delta2[0][0][0]                    =        695                        ;
	pMT->_3Spline_TH_enable_Delta2[0][1][0]                    =        0                        ;
	pMT->_3Spline_TH_enable_Delta2[1][0][0]                    =        570                         ;
	pMT->_3Spline_TH_enable_Delta2[1][1][0]                    =        0                        ;
	pMT->_3Spline_enable_Strength[0][0][0]                     =        126                         ;
	pMT->_3Spline_enable_Strength[0][1][0]                     =        0                          ;
	pMT->_3Spline_enable_Strength[1][0][0]                     =        141                          ;
	pMT->_3Spline_enable_Strength[1][1][0]                     =        0                          ;
	pMT->color_saturation_mapping_enable_flag[0]               =        1                   ;
	pMT->color_saturation_enable_num[0]                        =        2                             ;
	pMT->color_saturation_enable_gain[0][0]                    =        38                     ;
	pMT->color_saturation_enable_gain[1][0]                    =        24                         ;
	pMT->color_saturation_enable_gain[2][0]                    =        0                         ;
	pMT->color_saturation_enable_gain[3][0]                    =        0                         ;
	pMT->color_saturation_enable_gain[4][0]                    =       0                        ;
	pMT->color_saturation_enable_gain[5][0]                    =        0                       ;
	pMT->color_saturation_enable_gain[6][0]                    =              0                 ;
*/
/*  //frame 103
	pMT->system_start_code										=		 1                                          ;
	pMT->minimum_maxrgb_pq[0]                                  =      50  ;
	pMT->average_maxrgb_pq[0]                                  =        2400;
	pMT->variance_maxrgb_pq[0]                                 =       2467;
	pMT->maximum_maxrgb_pq[0]                                  =        3631                             ;
	pMT->tone_mapping_enable_mode_flag[0]                      =        1;
	pMT->tone_mapping_param_enable_num[0]                      =        1;
	pMT->targeted_system_display_maximum_luminance_pq[0][0]    =        2770         ;
	pMT->targeted_system_display_maximum_luminance_pq[1][0]    =        2080         ;
	pMT->base_enable_flag[0][0]                                =        1;
	pMT->base_enable_flag[1][0]                                =        0;
	pMT->base_param_m_p[0][0]                                  =        7065 ;
	pMT->base_param_m_p[1][0]                                  =        0;
	pMT->base_param_m_m[0][0]                                  =        24;
	pMT->base_param_m_m[1][0]                                  =        0;
	pMT->base_param_m_a[0][0]                                  =        745;
	pMT->base_param_m_a[1][0]                                  =        0;
	pMT->base_param_m_b[0][0]                                  =      0;
	pMT->base_param_m_b[1][0]                                  =        0;
	pMT->base_param_m_n[0][0]                                  =        10;
	pMT->base_param_m_n[1][0]                                  =        0;
	pMT->base_param_K1[0][0]                                   =        1;
	pMT->base_param_K1[1][0]                                   =        0                                  ;
	pMT->base_param_K2[0][0]                                   =        1                                       ;
	pMT->base_param_K2[1][0]                                   =        0                                ;
	pMT->base_param_K3[0][0]                                   =        1                                 ;
	pMT->base_param_K3[1][0]                                   =        0                                     ;
	pMT->base_param_Delta_enable_mode[0][0]                    =        1          ;
	pMT->base_param_Delta_enable_mode[1][0]                    =        0    ;
	pMT->base_param_enable_Delta[0][0]                         =        0 ;
	pMT->base_param_enable_Delta[1][0]                         =        0                              ;
	pMT->_3Spline_enable_flag[0][0]                            =        0;
	pMT->_3Spline_enable_flag[1][0]                            =        1;
	pMT->_3Spline_enable_num[0][0]                             =        0                              ;
	pMT->_3Spline_enable_num[1][0]                             =        0                                 ;
	pMT->_3Spline_TH_enable_mode[0][0][0]                      =        0;
	pMT->_3Spline_TH_enable_mode[0][1][0]                      =        1                           ;
	pMT->_3Spline_TH_enable_mode[1][0][0]                      =        0;
	pMT->_3Spline_TH_enable_mode[1][1][0]                      =        0                           ;
	pMT->_3Spline_TH_enable_MB[0][0][0]                        =        0      ;
	pMT->_3Spline_TH_enable_MB[0][1][0]                        =        0                            ;
	pMT->_3Spline_TH_enable_MB[1][0][0]                        =        0                          ;
	pMT->_3Spline_TH_enable_MB[1][1][0]                        =        0                            ;
	pMT->_3Spline_TH_enable[0][0][0]                           =        0                                ;
	pMT->_3Spline_TH_enable[0][1][0]                           =        3069                                ;
	pMT->_3Spline_TH_enable[1][0][0]                           =        0                               ;
	pMT->_3Spline_TH_enable[1][1][0]                           =        0                             ;
	pMT->_3Spline_TH_enable_Delta1[0][0][0]                    =        0                        ;
	pMT->_3Spline_TH_enable_Delta1[0][1][0]                    =        421                        ;
	pMT->_3Spline_TH_enable_Delta1[1][0][0]                    =        0                        ;
	pMT->_3Spline_TH_enable_Delta1[1][1][0]                    =        0                       ;
	pMT->_3Spline_TH_enable_Delta2[0][0][0]                    =        0                        ;
	pMT->_3Spline_TH_enable_Delta2[0][1][0]                    =        140                        ;
	pMT->_3Spline_TH_enable_Delta2[1][0][0]                    =        0                         ;
	pMT->_3Spline_TH_enable_Delta2[1][1][0]                    =        0                        ;
	pMT->_3Spline_enable_Strength[0][0][0]                     =        0                         ;
	pMT->_3Spline_enable_Strength[0][1][0]                     =        127                          ;
	pMT->_3Spline_enable_Strength[1][0][0]                     =        0                          ;
	pMT->_3Spline_enable_Strength[1][1][0]                     =        0                          ;
	pMT->color_saturation_mapping_enable_flag[0]               =        1                   ;
	pMT->color_saturation_enable_num[0]                        =        2                             ;
	pMT->color_saturation_enable_gain[0][0]                    =        38                     ;
	pMT->color_saturation_enable_gain[1][0]                    =        25                         ;
	pMT->color_saturation_enable_gain[2][0]                    =        0                         ;
	pMT->color_saturation_enable_gain[3][0]                    =        0                         ;
	pMT->color_saturation_enable_gain[4][0]                    =       0                        ;
	pMT->color_saturation_enable_gain[5][0]                    =        0                       ;
	pMT->color_saturation_enable_gain[6][0]                    =              0                 ;
	*/
  //test scene4
	pMT->system_start_code										=		 1                                          ;
	pMT->minimum_maxrgb_pq[0]                                  =      0  ;
	pMT->average_maxrgb_pq[0]                                  =        1893;
	pMT->variance_maxrgb_pq[0]                                 =       4055;
	pMT->maximum_maxrgb_pq[0]                                  =        4094                             ;
	pMT->tone_mapping_enable_mode_flag[0]                      =        1;
	pMT->tone_mapping_param_enable_num[0]                      =        1;
	pMT->targeted_system_display_maximum_luminance_pq[0][0]    =        2770         ;
	pMT->targeted_system_display_maximum_luminance_pq[1][0]    =        2080         ;
	pMT->base_enable_flag[0][0]                                =        1;
	pMT->base_enable_flag[1][0]                                =        0;
	pMT->base_param_m_p[0][0]                                  =        9241 ;
	pMT->base_param_m_p[1][0]                                  =        0;
	pMT->base_param_m_m[0][0]                                  =        24;
	pMT->base_param_m_m[1][0]                                  =        0;
	pMT->base_param_m_a[0][0]                                  =        750;
	pMT->base_param_m_a[1][0]                                  =        0;
	pMT->base_param_m_b[0][0]                                  =      0;
	pMT->base_param_m_b[1][0]                                  =        0;
	pMT->base_param_m_n[0][0]                                  =        10;
	pMT->base_param_m_n[1][0]                                  =        0;
	pMT->base_param_K1[0][0]                                   =        1;
	pMT->base_param_K1[1][0]                                   =        0                                  ;
	pMT->base_param_K2[0][0]                                   =        1                                       ;
	pMT->base_param_K2[1][0]                                   =        0                                ;
	pMT->base_param_K3[0][0]                                   =        1                                 ;
	pMT->base_param_K3[1][0]                                   =        0                                     ;
	pMT->base_param_Delta_enable_mode[0][0]                    =        6          ;
	pMT->base_param_Delta_enable_mode[1][0]                    =        0    ;
	pMT->base_param_enable_Delta[0][0]                         =        16 ;
	pMT->base_param_enable_Delta[1][0]                         =        0                              ;
	pMT->_3Spline_enable_flag[0][0]                            =        1;
	pMT->_3Spline_enable_flag[1][0]                            =        1;
	pMT->_3Spline_enable_num[0][0]                             =        1                              ;
	pMT->_3Spline_enable_num[1][0]                             =        0                                 ;
	pMT->_3Spline_TH_enable_mode[0][0][0]                      =        0;
	pMT->_3Spline_TH_enable_mode[0][1][0]                      =        1                           ;
	pMT->_3Spline_TH_enable_mode[1][0][0]                      =        0;
	pMT->_3Spline_TH_enable_mode[1][1][0]                      =        0                           ;
	pMT->_3Spline_TH_enable_MB[0][0][0]                        =        224      ;
	pMT->_3Spline_TH_enable_MB[0][1][0]                        =        0                            ;
	pMT->_3Spline_TH_enable_MB[1][0][0]                        =        0                          ;
	pMT->_3Spline_TH_enable_MB[1][1][0]                        =        0                            ;
	pMT->_3Spline_TH_enable[0][0][0]                           =        368;
	pMT->_3Spline_TH_enable[0][1][0]                           =        2715                                ;
	pMT->_3Spline_TH_enable[1][0][0]                           =        0                               ;
	pMT->_3Spline_TH_enable[1][1][0]                           =        0                             ;
	pMT->_3Spline_TH_enable_Delta1[0][0][0]                    =        267                        ;
	pMT->_3Spline_TH_enable_Delta1[0][1][0]                    =        0                        ;
	pMT->_3Spline_TH_enable_Delta1[1][0][0]                    =        613                        ;
	pMT->_3Spline_TH_enable_Delta1[1][1][0]                    =        0                       ;
	pMT->_3Spline_TH_enable_Delta2[0][0][0]                    =        534                        ;
	pMT->_3Spline_TH_enable_Delta2[0][1][0]                    =        0                        ;
	pMT->_3Spline_TH_enable_Delta2[1][0][0]                    =        613                         ;
	pMT->_3Spline_TH_enable_Delta2[1][1][0]                    =        0                        ;
	pMT->_3Spline_enable_Strength[0][0][0]                     =        127                         ;
	pMT->_3Spline_enable_Strength[0][1][0]                     =        0                          ;
	pMT->_3Spline_enable_Strength[1][0][0]                     =        165                          ;
	pMT->_3Spline_enable_Strength[1][1][0]                     =        0                          ;
	pMT->color_saturation_mapping_enable_flag[0]               =        1                   ;
	pMT->color_saturation_enable_num[0]                        =        2                             ;
	pMT->color_saturation_enable_gain[0][0]                    =        38                     ;
	pMT->color_saturation_enable_gain[1][0]                    =        25                         ;
	pMT->color_saturation_enable_gain[2][0]                    =        0                         ;
	pMT->color_saturation_enable_gain[3][0]                    =        0                         ;
	pMT->color_saturation_enable_gain[4][0]                    =       0                        ;
	pMT->color_saturation_enable_gain[5][0]                    =        0                       ;
	pMT->color_saturation_enable_gain[6][0]                    =              0                 ;
#endif

#if 1	/** for debug */
		if((Debug_Log&_BIT1)!=0) {
			if (CNT >= Debug_log_delay) {
				CNT = 0;
				rtd_pr_vpq_info("HDR10_vivid, system_start_code=%d, minimum_maxrgb_pq[0]=%d, average_maxrgb_pq[0]=%d,\n", pMT->system_start_code, pMT->minimum_maxrgb_pq[0], pMT->average_maxrgb_pq[0]);								 
				rtd_pr_vpq_info("HDR10_vivid, variance_maxrgb_pq[0]=%d, maximum_maxrgb_pq[0]=%d, tone_mapping_enable_mode_flag[0]=%d,\n", pMT->variance_maxrgb_pq[0], pMT->maximum_maxrgb_pq[0], pMT->tone_mapping_enable_mode_flag[0]);					 
				rtd_pr_vpq_info("HDR10_vivid, tone_mapping_param_enable_num[0]=%d, targeted_system_display_maximum_luminance_pq[0][0]=%d, targeted_system_display_maximum_luminance_pq[1][0]=%d,\n", pMT->tone_mapping_param_enable_num[0], pMT->targeted_system_display_maximum_luminance_pq[0][0], pMT->targeted_system_display_maximum_luminance_pq[1][0]);	 
				rtd_pr_vpq_info("HDR10_vivid, base_enable_flag[0][0]=%d, base_enable_flag[1][0]=%d, base_param_m_p[0][0]=%d, base_param_m_p[1][0]=%d,\n", pMT->base_enable_flag[0][0], pMT->base_enable_flag[1][0], pMT->base_param_m_p[0][0], pMT->base_param_m_p[1][0]);								 
				rtd_pr_vpq_info("HDR10_vivid, base_param_m_m[0][0]=%d, base_param_m_m[1][0]=%d, base_param_m_a[0][0]=%d, base_param_m_a[1][0]=%d,\n", pMT->base_param_m_m[0][0], pMT->base_param_m_m[1][0], pMT->base_param_m_a[0][0], pMT->base_param_m_a[1][0]);								 
				rtd_pr_vpq_info("HDR10_vivid, base_param_m_b[0][0]=%d, base_param_m_b[1][0]=%d, base_param_m_n[0][0]=%d, base_param_m_n[1][0]=%d,\n", pMT->base_param_m_b[0][0], pMT->base_param_m_b[1][0], pMT->base_param_m_n[0][0], pMT->base_param_m_n[1][0]);								 
				rtd_pr_vpq_info("HDR10_vivid, base_param_K1[0][0]=%d, base_param_K1[1][0]=%d, base_param_K2[0][0]=%d, base_param_K2[1][0]=%d,\n", pMT->base_param_K1[0][0], pMT->base_param_K1[1][0], pMT->base_param_K2[0][0], pMT->base_param_K2[1][0]);								   
				rtd_pr_vpq_info("HDR10_vivid, base_param_K3[0][0]=%d, base_param_K3[1][0]=%d, base_param_Delta_enable_mode[0][0]=%d,\n", pMT->base_param_K3[0][0], pMT->base_param_K3[1][0], pMT->base_param_Delta_enable_mode[0][0]);					  
				rtd_pr_vpq_info("HDR10_vivid, base_param_Delta_enable_mode[1][0]=%d, base_param_enable_Delta[0][0]=%d, base_param_enable_Delta[1][0]=%d,\n", pMT->base_param_Delta_enable_mode[1][0], pMT->base_param_enable_Delta[0][0], pMT->base_param_enable_Delta[1][0]);						  
				rtd_pr_vpq_info("HDR10_vivid, _3Spline_enable_flag[0][0]=%d, _3Spline_enable_flag[1][0]=%d, _3Spline_enable_num[0][0]=%d, _3Spline_enable_num[1][0]=%d,\n", pMT->_3Spline_enable_flag[0][0], pMT->_3Spline_enable_flag[1][0], pMT->_3Spline_enable_num[0][0], pMT->_3Spline_enable_num[1][0]);							
				rtd_pr_vpq_info("HDR10_vivid, _3Spline_TH_enable_mode[0][0][0]=%d, _3Spline_TH_enable_mode[0][1][0]=%d, _3Spline_TH_enable_mode[1][0][0]=%d, _3Spline_TH_enable_mode[1][1][0]=%d,\n", pMT->_3Spline_TH_enable_mode[0][0][0], pMT->_3Spline_TH_enable_mode[0][1][0], pMT->_3Spline_TH_enable_mode[1][0][0], pMT->_3Spline_TH_enable_mode[1][1][0]);					  
				rtd_pr_vpq_info("HDR10_vivid, _3Spline_TH_enable_MB[0][0][0]=%d, _3Spline_TH_enable_MB[0][1][0]=%d, _3Spline_TH_enable_MB[1][0][0]=%d, _3Spline_TH_enable_MB[1][1][0]=%d,\n", pMT->_3Spline_TH_enable_MB[0][0][0], pMT->_3Spline_TH_enable_MB[0][1][0], pMT->_3Spline_TH_enable_MB[1][0][0], pMT->_3Spline_TH_enable_MB[1][1][0]);					   
				rtd_pr_vpq_info("HDR10_vivid, _3Spline_TH_enable[0][0][0]=%d, _3Spline_TH_enable[0][1][0]=%d, _3Spline_TH_enable[1][0][0]=%d, _3Spline_TH_enable[1][1][0]=%d,\n", pMT->_3Spline_TH_enable[0][0][0], pMT->_3Spline_TH_enable[0][1][0], pMT->_3Spline_TH_enable[1][0][0], pMT->_3Spline_TH_enable[1][1][0]);						   
				rtd_pr_vpq_info("HDR10_vivid, _3Spline_TH_enable_Delta1[0][0][0]=%d, _3Spline_TH_enable_Delta1[0][1][0]=%d, _3Spline_TH_enable_Delta1[1][0][0]=%d, _3Spline_TH_enable_Delta1[1][1][0]=%d,\n", pMT->_3Spline_TH_enable_Delta1[0][0][0], pMT->_3Spline_TH_enable_Delta1[0][1][0], pMT->_3Spline_TH_enable_Delta1[1][0][0], pMT->_3Spline_TH_enable_Delta1[1][1][0]);					
				rtd_pr_vpq_info("HDR10_vivid, _3Spline_TH_enable_Delta2[0][0][0]=%d, _3Spline_TH_enable_Delta2[0][1][0]=%d, _3Spline_TH_enable_Delta2[1][0][0]=%d, _3Spline_TH_enable_Delta2[1][1][0]=%d,\n", pMT->_3Spline_TH_enable_Delta2[0][0][0], pMT->_3Spline_TH_enable_Delta2[0][1][0], pMT->_3Spline_TH_enable_Delta2[1][0][0], pMT->_3Spline_TH_enable_Delta2[1][1][0]);				   
				rtd_pr_vpq_info("HDR10_vivid, _3Spline_enable_Strength[0][0][0]=%d, _3Spline_enable_Strength[0][1][0]=%d, _3Spline_enable_Strength[1][0][0]=%d, _3Spline_enable_Strength[1][1][0]=%d,\n", pMT->_3Spline_enable_Strength[0][0][0], pMT->_3Spline_enable_Strength[0][1][0], pMT->_3Spline_enable_Strength[1][0][0], pMT->_3Spline_enable_Strength[1][1][0]);					
				rtd_pr_vpq_info("HDR10_vivid, color_saturation_mapping_enable_flag[0]=%d, color_saturation_enable_num[0]=%d,\n", pMT->color_saturation_mapping_enable_flag[0], pMT->color_saturation_enable_num[0]);						 
				rtd_pr_vpq_info("HDR10_vivid, color_saturation_enable_gain[0][0]=%d, color_saturation_enable_gain[1][0]=%d, color_saturation_enable_gain[2][0]=%d, color_saturation_enable_gain[3][0]=%d,\n", pMT->color_saturation_enable_gain[0][0], pMT->color_saturation_enable_gain[1][0], pMT->color_saturation_enable_gain[2][0], pMT->color_saturation_enable_gain[3][0]);					
				rtd_pr_vpq_info("HDR10_vivid, color_saturation_enable_gain[4][0]=%d, color_saturation_enable_gain[5][0]=%d, color_saturation_enable_gain[6][0]=%d,\n", pMT->color_saturation_enable_gain[4][0], pMT->color_saturation_enable_gain[5][0], pMT->color_saturation_enable_gain[6][0]);					 
			}
		}
#endif

		if((Debug_Log&_BIT5)!=0) {
			unsigned int vo_line_cnt = VODMA_VODMA_LINE_ST_get_line_cnt(IoReg_Read32(VODMA_VODMA_LINE_ST_reg));
			unsigned int vgip_linecnt_sta = VGIP_VGIP_CHN1_LC_get_ch1_line_cnt(IoReg_Read32(VGIP_VGIP_CHN1_LC_reg));
			rtd_pr_vpq_info("system_start_code=%d, vo line cnt = %d, vgip line cnt = %d\n", pMT->system_start_code, vo_line_cnt, vgip_linecnt_sta);
		}

		if (CNT >= Debug_log_delay)
			CNT = 0;
	
	/* HDR_CUVA process */
		if (HDR10_vivi_CTRL->Debug_Cal_skip_flag == 1)
			return;

		/* 9.2 base curve*/
		spline_enable_num=pMT->_3Spline_enable_num[0][0];
		// global variable 
		targeted_system_display_maximum_luminance=div64_s64(((long long)(pMT->targeted_system_display_maximum_luminance_pq[0][0])<<16),4095); // 16bit
		maximum_maxrgb=div64_s64(((long long)(pMT->maximum_maxrgb_pq[0])<<16),4095); //16bit float
		average_maxrgb=div64_s64(((long long)(pMT->average_maxrgb_pq[0])<<16),4095); //16bit float
		variance_maxrgb=div64_s64(((long long)(pMT->variance_maxrgb_pq[0])<<16),4095); //16bit float
		base_flag=pMT->base_enable_flag[0][0];
		base_param_Delta_mode=pMT->base_param_Delta_enable_mode[0][0];
		spline_flag=pMT->_3Spline_enable_flag[0][0];
		base_param_Delta=div64_s64(((long long)(pMT->base_param_enable_Delta[0][0])<<16),127); //16 bit float
		spline_TH_0 = div64_s64(((long long)(pMT->_3Spline_TH_enable[0][0][0])<<16),4095); //16bit float
		spline_TH_Delta1_0 = div64_s64(((long long)(pMT->_3Spline_TH_enable_Delta1[0][0][0])<<14),1023); //16bit float
		spline_TH_Delta2_0 = div64_s64(((long long)(pMT->_3Spline_TH_enable_Delta2[0][0][0])<<14),1023); //16bit float
		spline_TH_1 = div64_s64(((long long)(pMT->_3Spline_TH_enable[1][0][0])<<16),4095); //16bit float
		spline_TH_Delta1_1 = div64_s64(((long long)(pMT->_3Spline_TH_enable_Delta1[1][0][0])<<14),1023);//16bit float
		spline_TH_Delta2_1 = div64_s64(((long long)(pMT->_3Spline_TH_enable_Delta2[1][0][0])<<14),1023);//16bit float
		spline_Strength0 = div64_s64((2*(long long)(pMT->_3Spline_enable_Strength[0][0][0])<<16),255)-65536; //16bit float
		spline_Strength1 = div64_s64((2*(long long)(pMT->_3Spline_enable_Strength[1][0][0])<<16),255)-65536; //16bit float
		spline_TH_mode_1 = pMT->_3Spline_TH_enable_mode[1][0][0];
		m_p_0=div64_s64(((10*(long long)(pMT->base_param_m_p[0][0]) )<<16),16383); // 16bit float
		m_a_0=(long long)(pMT->base_param_m_a[0][0]); //10bit float -> >>10
		m_m_0=(long long)(pMT->base_param_m_m[0][0]); // 6bit -> /10
		m_n_0=(long long)(pMT->base_param_m_n[0][0]);//-> /10
		m_b_0=div64_s64(((long long)(pMT->base_param_m_b[0][0])<<14),1023);// 16bit float
		K1_0=(long long)(pMT->base_param_K1[0][0])<<16;//0 or 1, 16bit float
		K2_0=(long long)(pMT->base_param_K2[0][0])<<16;//0 or 1, 16bit float
		if(pMT->base_param_K3[0][0]==2)
			K3_0=maximum_maxrgb ;// 16bit float
		else
			K3_0=(long long)(pMT->base_param_K3[0][0])<<16;//0,1, 16bit float

		/* 9.2.3 calculate max_lum */
		inv_EOTF_MaxDisplayPQ=inv_EO_lut(((MaxDisplayPQ<<16)*10000)>>14)<<16; // 32bit float
		MaxRefDisplay=inv_EO_lut(((max_display_mastering_luminance<<16)*10000)>>14)<<16; // 32bit float
		EOTF_targeted_system_display_maximum_luminance=EOTF_2084(targeted_system_display_maximum_luminance<<16);// 32bit float
		MAX1=B*maximum_maxrgb+A*2*average_maxrgb+(65536-A-B)*variance_maxrgb; //MAX1=32 bit float
		
		// max_lum: 32 bit float
		if(MAX1>MaxRefDisplay) 
			max_lum=MaxRefDisplay;
		else if(MAX1<MIN_cuva)
			max_lum=MIN_cuva;
		else
			max_lum=MAX1;
		if(max_lum<inv_EOTF_MaxDisplayPQ)
			max_lum=inv_EOTF_MaxDisplayPQ;
		/* 9.2.3 calculate max_lum */

		if(pMT->tone_mapping_enable_mode_flag[0]==0)
		{
			base_9_2_2(&m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3);
		}
		else if(pMT->tone_mapping_enable_mode_flag[0]==1&&base_flag==0)
		{
			base_9_2_2(&m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3);
			base_9_2_6(&m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3);
		}
		else
		{
			if((targeted_system_display_maximum_luminance<<16)==inv_EOTF_MaxDisplayPQ||base_param_Delta_mode==3)
			{
				m_p=m_p_0; //16bit float 
				m_a=div64_s64((m_a_0<<16),1023); //16bit float
				m_m=div64_s64((m_m_0<<16),10); //16bit float
				m_n=div64_s64((m_n_0<<16),10); //16bit float
				m_b=m_b_0; //16bit float
				K1=K1_0; //0 or 1, 16bit float
				K2=K2_0; //0 or 1, 16bit float
				K3=K3_0; //0 or 1, 16bit float
			}
			else if(base_param_Delta_mode==0||base_param_Delta_mode==2||base_param_Delta_mode==4||base_param_Delta_mode==6)
			{
				base_9_2_4(&m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3, m_p_0, m_a_0, m_m_0, m_n_0, m_b_0, K1_0, K2_0, K3_0);
				base_9_2_6(&m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3);
			} 
			else
			{
				base_9_2_5(&m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3, m_p_0, m_a_0, m_m_0, m_n_0, m_b_0, K1_0, K2_0, K3_0);
				base_9_2_6(&m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3);
			}
		} 
		if((Debug_Log&_BIT1)!=0) 
			{
			if (CNT >= Debug_log_delay) 
				{
					rtd_pr_vpq_info("HDR10_vivid, m_p=%lld, m_a=%lld, m_m=%lld, m_n=%lld, m_b=%lld, k1=%lld, k2=%lld, k3=%lld,\n", m_p, m_a, m_m, m_n, m_b, K1, K2, K3);								 
				}
			}
		/* 9.3 - 3spline */

		//set spline_num, spline_TH_mode
		if(pMT->tone_mapping_enable_mode_flag[0]==0||(pMT->tone_mapping_enable_mode_flag[0]==1&&spline_flag==0))
		{
			spline_num=1;
			spline_TH_mode=0;
		}
		else // from meta data
		{
			spline_num=spline_enable_num+1;
			spline_TH_mode=pMT->_3Spline_TH_enable_mode[0][0][0];
		}

		if(spline_TH_mode==0)
		{
			//spline_TH_MB=(spline_TH_enable_MB>>2)/63.0;
			//Base_offset=(spline_TH_enable_MB & 3)*0.1/3.0;
			spline_TH_MB=div64_s64((((long long)(pMT->_3Spline_TH_enable_MB[0][0][0])>>2)<<16),63); //16bit float
			Base_offset=div64_s64((((long long)(pMT->_3Spline_TH_enable_MB[0][0][0]) & 3)<<16),30);  //16bit float
		}
		else
		{
			//spline_TH_MB=spline_TH_enable_MB*1.1/255.0;
			//spline_TH_MB=spline_TH_enable_MB*282; //16 bit float
			spline_TH_MB=div64_s64((long long)(pMT->_3Spline_TH_enable_MB[0][0][0])*72089,255); //16 bit float
		}
		
		if(spline_TH_mode_1 == 2)
			spline_TH_MB_2 = div64_s64((long long)(pMT->_3Spline_TH_enable_MB[1][0][0])*72089,255); //16 bit float

		if(pMT->tone_mapping_enable_mode_flag[0]==0||(pMT->tone_mapping_enable_mode_flag[0]==1&&spline_flag==0&&spline_TH_mode==0)||(pMT->tone_mapping_enable_mode_flag[0]==1&&spline_flag==1&&((spline_TH_mode!=0) )))
		{
			spline_9_3_2_1(&TH3_0, &MB_0, &base_offset);
			spline_9_3_2_3(&TH3_0, &MB_0, &base_offset, &m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3);
			spline_9_3_3_1(&TH3_0, &MB_0, &base_offset, &m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3, &TH1_1, &TH2_1, &TH3_1, &MA_0_1, &MB_0_1, &MC_0_1, &MD_0_1, &MA_1_1, &MB_1_1, &MC_1_1, &MD_1_1);
		}
		else if(pMT->tone_mapping_enable_mode_flag[0]==1&&spline_flag==1&&spline_TH_mode==0)
		{
			spline_9_3_2_2(&TH3_0, &MB_0, &base_offset);
			spline_9_3_2_3(&TH3_0, &MB_0, &base_offset, &m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3);
			spline_9_3_3_2(&TH3_0, &MB_0, &base_offset, &m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3, &TH1_1, &TH2_1, &TH3_1, &MA_0_1, &MB_0_1, &MC_0_1, &MD_0_1, &MA_1_1, &MB_1_1, &MC_1_1, &MD_1_1);
		}
		if((Debug_Log&_BIT1)!=0) 
		{
			if (CNT >= Debug_log_delay) 
			{
				rtd_pr_vpq_info("HDR10_vivid, TH3_0=%lld, MB_0=%lld, base_offset=%lld\n", TH3_0, MB_0, base_offset);
				rtd_pr_vpq_info("HDR10_vivid, TH1_1=%lld, TH2_1=%lld, TH3_1=%lld, MA_0_1=%lld, MB_0_1=%lld, MC_0_1=%lld, MD_0_1=%lld, MA_1_1=%lld, MB_1_1=%lld, MC_1_1=%lld, MD_1_1=%lld,\n", TH1_1, TH2_1, TH3_1, MA_0_1, MB_0_1, MC_0_1, MD_0_1, MA_1_1, MB_1_1, MC_1_1, MD_1_1);								 
			}
		}
		/* second 3spline curve */
		if(pMT->tone_mapping_enable_mode_flag[0]==1&&spline_flag==1&&((spline_num==1&&(spline_TH_mode==1||spline_TH_mode==2||spline_TH_mode==3))||spline_num==2))
		{
			spline_9_3_3_3(&TH3_0, &MB_0, &base_offset, &m_p, &m_a, &m_m, &m_n, &m_b, &K1, &K2, &K3, &TH1_1, &TH2_1, &TH3_1, &MA_0_1, &MB_0_1, &MC_0_1, &MD_0_1, &MA_1_1, &MB_1_1, &MC_1_1, &MD_1_1, &TH1_2, &TH2_2, &TH3_2, &MA_0_2, &MB_0_2, &MC_0_2, &MD_0_2, &MA_1_2, &MB_1_2, &MC_1_2, &MD_1_2);
			if(spline_num==1)
				spline_num=2;
			if((Debug_Log&_BIT1)!=0) 
			{
				if (CNT >= Debug_log_delay) 
				{
					rtd_pr_vpq_info("HDR10_vivid, TH1_2=%lld, TH2_2=%lld, TH3_2=%lld, MA_0_2=%lld, MB_0_2=%lld, MC_0_2=%lld, MD_0_2=%lld, MA_1_2=%lld, MB_1_2=%lld, MC_1_2=%lld, MD_1_2=%lld,\n", TH1_2, TH2_2, TH3_2, MA_0_2, MB_0_2, MC_0_2, MD_0_2, MA_1_2, MB_1_2, MC_1_2, MD_1_2);
				}
			}
		}
		
	/* 9.4 tone mapping */

	color_saturation_gain0=(long long)(pMT->color_saturation_enable_gain[0][0])<<9; //16bit float
	color_saturation_gain1=((long long)(pMT->color_saturation_enable_gain[1][0])&0xFC)<<9; //16bit float

	TML=inv_EOTF_MaxDisplayPQ; //32bit float
	RML=MaxRefDisplay; //32bit
	SatR=26214; //16bit float
	M=((long long)(pMT->color_saturation_enable_gain[1][0])&0x3); 
	

	//gen K, Sca table
	y_idx = 0;
	max=1;
	kmax=0;
	for (px = 0; px < 1025; px++)
	{
		
		//max = maxRGBPQ(r, g, b); //16bit float
		
		if ((spline_TH_mode == 1 || spline_TH_mode == 2) && max > TH3_2)
		{
			H1 = TH3_2 - TH2_2; //16bit float
			BASEH = (((MD_1_2 * H1 * H1) >> 16) * H1 + MC_1_2 * H1 * H1 + ((MB_1_2 * H1) << 16) + (MA_1_2 << 32)) >> 16; //32bit float
			MBH = (3 * MD_1_2 * H1 * H1 + ((2 * MC_1_2 * H1) << 16) + (MB_1_2 << 32)) >> 32;							 //16bit float
			max_Tm = (MBH * (max - TH3_2) + BASEH) >> 16;																 //16bit float
		}
		else if (spline_num > 0 && (max >= 0 && max <= TH3_0))
		{
			max_Tm = (MB_0 * max + (base_offset << 16)) >> 16; //16bit float
		}
		else if (TH1_1 < max && max < TH3_1)
		{
			L1 = max - TH1_1; //16bit float
			L2 = max - TH2_1; //16bit float
			if (TH1_1 < max && max <= TH2_1)
				max_Tm = (((MD_0_1 * L1 * L1) >> 16) * L1 + MC_0_1 * L1 * L1 + ((MB_0_1 * L1) << 16) + (MA_0_1 << 32)) >> 32; //16bit float
			else
				max_Tm = (((MD_1_1 * L2 * L2) >> 16) * L2 + MC_1_1 * L2 * L2 + ((MB_1_1 * L2) << 16) + (MA_1_1 << 32)) >> 32; //16bit float
		}
		else if (spline_num == 2 && TH1_2 < max && max < TH3_2)
		{
			L1 = max - TH1_2; //16bit float
			L2 = max - TH2_2; //16bit float
			if (TH1_2 < max && max <= TH2_2)
				max_Tm = (((MD_0_2 * L1 * L1) >> 16) * L1 + MC_0_2 * L1 * L1 + ((MB_0_2 * L1) << 16) + (MA_0_2 << 32)) >> 32; //16bit float
			else
				max_Tm = (((MD_1_2 * L2 * L2) >> 16) * L2 + MC_1_2 * L2 * L2 + ((MB_1_2 * L2) << 16) + (MA_1_2 << 32)) >> 32; //16bit float
		}
		else
		{
			tmp = pow_float_fix(max, m_n, 16, 0);
			//pow_tmp=pow_float_fix(65535, m_n & 0xffff, 16, 1);	
			//tmp1 = m_p * tmp / pow_float_fix(65535, m_n & 0xffff, 16, 1);																			  //32bit float
			//tmp2 = (((K1 * m_p - (K2 << 16)) >> 16) * pow_float_fix(max, m_n, 16, 0) / pow_float_fix(65535, m_n & 0xffff, 16, 1) + (K3 << 16)) >> 16; //16bit float
			tmp1 = div64_s64(m_p * tmp , pow_tmp_9323_1);
			div_tmp1 = div64_s64(((K1 * m_p - (K2 << 16)) >> 16) * tmp , pow_tmp_9323_1);
			tmp2 = (div_tmp1 + (K3 << 16)) >> 16; //16bit float
			div_tmp1 = div64_s64(tmp1 , tmp2);
			div_tmp2 = div64_s64(m_a * pow_float_fix(div_tmp1, m_m, 16, 0) , pow_float_fix(65535, m_m & 0xffff, 16, 1));
			max_Tm = (div_tmp2 + (m_b << 16)) >> 16;					  //16bit float
		}
		if (EOTF_2084(max << 16) == 0)
			K = 0;
		else
			K = div64_s64((EOTF_2084(max_Tm << 16) << 16) , EOTF_2084(max << 16)); //16bit float

		//store K table for HW
		HDR10_vivi_CTRL->k_hdr10_vivid[px] = K;

		if(K>kmax)
			kmax = K;
		/***** reduse computation time *****/
		//tm_b = (EOTF_2084(b << 16) * K) >> 16; //32bit float
		//tm_g = (EOTF_2084(g << 16) * K) >> 16; //32bit float
		//tm_r = (EOTF_2084(r << 16) * K) >> 16; //32bit float
		
		// change to use mac for calculating Sca table for HW
		tm_r = (EOTF_2084(max << 16) * K) >> 16; //32bit float
		tm_g=tm_r;
		tm_b=tm_r;
	
		TML_TM = inv_EO_lut((MaxDisplayPQ * K * 10000) >> 14) << 16; //32bit float
		/* 9.5 color correction */
		if (pMT->color_saturation_mapping_enable_flag[0] == 0)
		/***** reduse computation time *****/
		//if (1) 
		{
			color_b = tm_b;
			color_g = tm_g;
			color_r = tm_r;
			HDR10_vivi_CTRL->sca_hdr10_vivid[px] = 256;
		}
		else
		{
			C0 = color_saturation_gain0; //16bit float
			C1 = color_saturation_gain1; //16bit float

			/***** reduse computation time *****/
			//tm_b_PQ = inv_EO_lut((tm_b * 10000) >> 14) << 16; //32bit
			//tm_g_PQ = inv_EO_lut((tm_g * 10000) >> 14) << 16; //32bit
			tm_r_PQ = inv_EO_lut((tm_r * 10000) >> 14) << 16; //32bit
			tm_g_PQ=tm_r_PQ;
			tm_b_PQ=tm_r_PQ;

			max_TM_PQ = maxRGBPQ(tm_r_PQ, tm_g_PQ, tm_b_PQ); //32bit float
			//max_TM_PQ=inv_EOTF_2084(EOTF_2084(max)*K);
			if ((max << 16) > TML && pMT->color_saturation_enable_num[0] >= 2)
			{
				A_color = div64_s64((TML << 16),RML);	 //16bit float

				div_tmp1 = div64_s64((TML_TM << 16) , TML);
				B_color = div64_s64(pow_float_fix(div_tmp1, C0, 16, 0) , pow_float_fix(65535, C0 & 0xffff, 16, 1)); //16bit float

				if ((TML >> 16) < max && max < (RML >> 16))
				//Sca=B_color-C1*SatR*pow((max-A_color*RML)/(RML-A_color*RML),M);
				{
					tmp = div64_s64(((max << 32) - A_color * RML) , (((RML << 16) - A_color * RML) >> 16)); //16bit float
					tmp1 = 1;
					for (i = 0; i < M; i++)
					{
						tmp1 = tmp1 * tmp;
						if (i > 0)
							tmp1 = tmp1 >> 16; //16bit float
					}
					Sca = ((B_color << 32) - C1 * SatR * tmp1) >> 32; //16bit float
				}
				else
					Sca = ((B_color << 16) - C1 * SatR) >> 16; //16bit float

				if (Sca < 0)
					Sca = 0;
				else if (Sca > 65536)
					Sca = 65536;
			}
			else
			{
				//Sca=pow(max_TM_PQ/max,C0);
				if (max == 0)
					Sca = 0; //16bit float
				else
				{
					div_tmp1 = div64_s64(max_TM_PQ , max);
					Sca = div64_s64(pow_float_fix(CLIP_hdr_vivid(0, 65535, div_tmp1), C0, 16, 0) , pow_float_fix(65535, C0 & 0xffff, 16, 1)); //16bit float
				}
				if (Sca < 52428)//0.8
					Sca = 52428;
				else if (Sca > 65536)
					Sca = 65536;
			}
			//store Sca table
			HDR10_vivi_CTRL->sca_hdr10_vivid[px] = Sca>>8;
			
		}

		EOTF_tmp = div64_s64(EOTF_2084(EOTF_input<<16),MaxDisplayPQ);
		EOTF_tmp = CLIP_hdr_vivid(0,65535,EOTF_tmp);
		EOTF_tmp2 = div64_s64(pow_float_fix(EOTF_tmp, 29491, 16, 0) , pow_float_fix(65535, 29491, 16, 1)); //16bit
		EOTF_tmp2 = CLIP_hdr_vivid(0,4294967295LL,(EOTF_tmp2<<16));
		HDR10_vivi_CTRL->EOTF_hdr10_vivid[px] =  (unsigned int) (EOTF_tmp2);
		max =CLIP_hdr_vivid(0,65535, max + 64);
		EOTF_input = CLIP_hdr_vivid(0,65535,EOTF_input +64);
	}

	if(kmax<65536)
		shift_bit = 0;
	else if(kmax<(1<<17))
		shift_bit = 1;
	else if(kmax<(1<<18))
		shift_bit = 2;
	else if(kmax<(1<<19))
		shift_bit = 3;
	else
		shift_bit = 4;

	if(shift_bit != 0)
	{
		for(px=0;px<1025;px++)
			HDR10_vivi_CTRL->k_hdr10_vivid[px] = HDR10_vivi_CTRL->k_hdr10_vivid[px]>>shift_bit;
	}

	/*for(px=0;px<1025;px++)
		rtd_printk(KERN_EMERG,"HDR10_vivid", "KKKKKKKKKKK=%u,\n", k_hdr10_vivid[px]);*/

	/*for(px=0;px<1025;px++)
		rtd_printk(KERN_EMERG,"HDR10_vivid", "SCA=%u,\n", sca_hdr10_vivid[px]);*/

	/*for(px=0;px<1025;px++)
		rtd_printk(KERN_EMERG,"HDR10_vivid", "EOTF=%u,\n", EOTF_hdr10_vivid[px]);*/
	HDR10_vivi_CTRL->CUVA_K_shift_bit = shift_bit;

	HDR10_vivi_CTRL->update_DMA_Flag = 1;

#if 0
	
		//*** these settings must be set before writing EOTF and OETF curve ***//
		dm_hdr_path_sel_reg.regValue = IoReg_Fpga_Read32(DM_HDR_PATH_SEL_reg);
		dm_hdr_path_sel_reg.b0103_or_eotf=0;
		dm_hdr_path_sel_reg.b0105_or_oetf=0;
		dm_hdr_path_sel_reg.bbc_hdr_enable=0;
		dm_hdr_path_sel_reg.b05_position=2;
		dm_hdr_path_sel_reg.b03_no_sram_mode=1;
		dm_hdr_path_sel_reg.dm_b05_22bit_path=1;
		IoReg_Fpga_Write32(DM_HDR_PATH_SEL_reg, dm_hdr_path_sel_reg.regValue);
		//*** these settings must be set before writing EOTF and OETF curve ***//
	
		/* write EOTF_hdr10_vivid to EOTF */
		ret=drvif_DM2_EOTF_Set_verify(EOTF_hdr10_vivid, EOTF_hdr10_vivid, EOTF_hdr10_vivid);
		
		/* write k_hdr10_vivid and sca_hdr10_vivid to OETF */
		ret2=drvif_DM2_OETF_Set_verify(k_hdr10_vivid, sca_hdr10_vivid, OETF_0);
		
		/* set CUVA */
		drvif_DM2_CUVA_Set_verify(shift_bit);
#endif
	
#if 0
	/* gen 1DLUT  */

	y_idx = 0;
	for (px = 0; px < 4096; px++)
	{
		u_idx = 32768;
		v_idx = 32768;
		y_in = y_idx;
		u = u_idx;
		v = v_idx;
		cb_in = CLIP(-32768, 32768, u - 32768);
		cr_in = CLIP(-32768, 32768, v - 32768);

		//BT2020
		r = CLIP(0, 65535, (65536 * y_in + 0 * cb_in + 96639 * cr_in) >> 16);	  //16bit
		g = CLIP(0, 65535, (65536 * y_in - 10780 * cb_in - 37441 * cr_in) >> 16); //16bit
		b = CLIP(0, 65535, (65536 * y_in + 123299 * cb_in - 6 * cr_in) >> 16);	  //16bit
		
		/* 601 full
		r = CLIP(0, 65535, (65536 * y_in + 0 * cb_in + 91881 * cr_in) >> 16);	  //16bit
		g = CLIP(0, 65535, (65536 * y_in - 22551 * cb_in - 46799 * cr_in) >> 16); //16bit
		b = CLIP(0, 65535, (65536 * y_in + 116130 * cb_in + 0 * cr_in) >> 16);	  //16bit
		*/
		max = maxRGBPQ(r, g, b); //16bit float
		if ((spline_TH_mode == 1 || spline_TH_mode == 2) && max > TH3_2)
		{
			H1 = TH3_2 - TH2_2; //16bit float
			BASEH = (((MD_1_2 * H1 * H1) >> 16) * H1 + MC_1_2 * H1 * H1 + ((MB_1_2 * H1) << 16) + (MA_1_2 << 32)) >> 16; //32bit float
			MBH = (3 * MD_1_2 * H1 * H1 + ((2 * MC_1_2 * H1) << 16) + (MB_1_2 << 32)) >> 32;							 //16bit float
			max_Tm = (MBH * (max - TH3_2) + BASEH) >> 16;																 //16bit float
		}
		else if (spline_num > 0 && (max >= 0 && max <= TH3_0))
		{
			max_Tm = (MB_0 * max + (base_offset << 16)) >> 16; //16bit float
		}
		else if (TH1_1 < max && max < TH3_1)
		{
			L1 = max - TH1_1; //16bit float
			L2 = max - TH2_1; //16bit float
			if (TH1_1 < max && max <= TH2_1)
				max_Tm = (((MD_0_1 * L1 * L1) >> 16) * L1 + MC_0_1 * L1 * L1 + ((MB_0_1 * L1) << 16) + (MA_0_1 << 32)) >> 32; //16bit float
			else
				max_Tm = (((MD_1_1 * L2 * L2) >> 16) * L2 + MC_1_1 * L2 * L2 + ((MB_1_1 * L2) << 16) + (MA_1_1 << 32)) >> 32; //16bit float
		}
		else if (spline_num == 2 && TH1_2 < max && max < TH3_2)
		{
			L1 = max - TH1_2; //16bit float
			L2 = max - TH2_2; //16bit float
			if (TH1_2 < max && max <= TH2_2)
				max_Tm = (((MD_0_2 * L1 * L1) >> 16) * L1 + MC_0_2 * L1 * L1 + ((MB_0_2 * L1) << 16) + (MA_0_2 << 32)) >> 32; //16bit float
			else
				max_Tm = (((MD_1_2 * L2 * L2) >> 16) * L2 + MC_1_2 * L2 * L2 + ((MB_1_2 * L2) << 16) + (MA_1_2 << 32)) >> 32; //16bit float
		}
		else
		{
			tmp = pow_float_fix(max, m_n, 16, 0);
			//pow_tmp=pow_float_fix(65535, m_n & 0xffff, 16, 1);	
			//tmp1 = m_p * tmp / pow_float_fix(65535, m_n & 0xffff, 16, 1);																			  //32bit float
			//tmp2 = (((K1 * m_p - (K2 << 16)) >> 16) * pow_float_fix(max, m_n, 16, 0) / pow_float_fix(65535, m_n & 0xffff, 16, 1) + (K3 << 16)) >> 16; //16bit float
			tmp1 = div64_s64(m_p * tmp , pow_tmp_9323_1);
			div_tmp1 = div64_s64(((K1 * m_p - (K2 << 16)) >> 16) * tmp , pow_tmp_9323_1);
			tmp2 = (div_tmp1 + (K3 << 16)) >> 16; //16bit float
			div_tmp1 = div64_s64(tmp1 , tmp2);
			div_tmp2 = div64_s64(m_a * pow_float_fix(div_tmp1, m_m, 16, 0) , pow_float_fix(65535, m_m & 0xffff, 16, 1));
			max_Tm = (div_tmp2 + (m_b < 16)) >> 16;					  //16bit float
		}
		if (EOTF_2084(max << 16) == 0)
			K = 0;
		else
			K = div64_s64((EOTF_2084(max_Tm << 16) << 16) , EOTF_2084(max << 16)); //16bit float

		/***** reduse computation time *****/
		//tm_b = (EOTF_2084(b << 16) * K) >> 16; //32bit float
		//tm_g = (EOTF_2084(g << 16) * K) >> 16; //32bit float
		tm_r = (EOTF_2084(r << 16) * K) >> 16; //32bit float
		tm_g=tm_r;
		tm_b=tm_r;
	
		TML_TM = inv_EO_lut((MaxDisplayPQ * K * 10000) >> 14) << 16; //32bit float
		/* 9.5 color correction */
		//if (pMT->color_saturation_mapping_enable_flag[0] == 0)
		/***** reduse computation time *****/
		if (1) 
		{
			color_b = tm_b;
			color_g = tm_g;
			color_r = tm_r;
		}
		else
		{
			C0 = color_saturation_gain0; //16bit float
			C1 = color_saturation_gain1; //16bit float

			/***** reduse computation time *****/
			//tm_b_PQ = inv_EO_lut((tm_b * 10000) >> 14) << 16; //32bit
			//tm_g_PQ = inv_EO_lut((tm_g * 10000) >> 14) << 16; //32bit
			tm_r_PQ = inv_EO_lut((tm_r * 10000) >> 14) << 16; //32bit
			tm_g_PQ=tm_r_PQ;
			tm_b_PQ=tm_r_PQ;
			//BT2020
			/*Y=0.2627*tm_r_PQ+0.678*tm_g_PQ+0.0593*tm_b_PQ;
			Cb=(-0.1396)*tm_r_PQ-0.3604*tm_g_PQ+0.5*tm_b_PQ;
			Cr=0.5*tm_r_PQ-0.4598*tm_g_PQ-0.0402*tm_b_PQ;*/
			
			Y = (17216 * tm_r_PQ + 44434 * tm_g_PQ + 3886 * tm_b_PQ) >> 32;		 //16bit float
			Cb = ((-9149) * tm_r_PQ - 23619 * tm_g_PQ + 32768 * tm_b_PQ) >> 32; //16bit float
			Cr = (32768 * tm_r_PQ - 30133 * tm_g_PQ - 2635 * tm_b_PQ) >> 32;	 //16bit float
			
			//601
			/*Y=0.299*tm_r_PQ+0.587*tm_g_PQ+0.114*tm_b_PQ;
			Cb=(-0.1687)*tm_r_PQ-0.3313*tm_g_PQ+0.5*tm_b_PQ;
			Cr=0.5*tm_r_PQ-0.4187*tm_g_PQ-0.0813*tm_b_PQ;*/
			/*Y = (19595 * tm_r_PQ + 38470 * tm_g_PQ + 7471 * tm_b_PQ) >> 32;		 //16bit float
			Cb = ((-11056) * tm_r_PQ - 21712 * tm_g_PQ + 32768 * tm_b_PQ) >> 32; //16bit float
			Cr = (32768 * tm_r_PQ - 27440 * tm_g_PQ - 5328 * tm_b_PQ) >> 32;	 //16bit float */
			//test2
			/*Y=0.2627*tm_r_PQ+0.428*tm_g_PQ+0.3093*tm_b_PQ;
			Cb=(-0.1295)*tm_r_PQ-0.211*tm_g_PQ+0.3405*tm_b_PQ;
			Cr=0.6466*tm_r_PQ-0.3753*tm_g_PQ-0.2713*tm_b_PQ;*/

			Y = CLIP(0, 65535, Y);
			Cb = CLIP(-32768, 32768, Cb); //-0.5~0.5
			Cr = CLIP(-32768, 32768, Cr); //-0.5~0.5

			max_TM_PQ = maxRGBPQ(tm_r_PQ, tm_g_PQ, tm_b_PQ); //32bit float
			//max_TM_PQ=inv_EOTF_2084(EOTF_2084(max)*K);
			if ((max << 16) > TML && pMT->color_saturation_enable_num[0] >= 2)
			{
				A_color = (TML << 16) / RML;																		 //16bit float
				B_color = pow_float_fix((TML_TM << 16) / TML, C0, 16, 0) / pow_float_fix(65535, C0 & 0xffff, 16, 1); //16bit float

				if ((TML >> 16) < max && max < (RML >> 16))
				//Sca=B_color-C1*SatR*pow((max-A_color*RML)/(RML-A_color*RML),M);
				{
					tmp = ((max << 32) - A_color * RML) / (((RML << 16) - A_color * RML) >> 16); //16bit float
					tmp1 = 1;
					for (i = 0; i < M; i++)
					{
						tmp1 = tmp1 * tmp;
						if (i > 0)
							tmp1 = tmp1 >> 16; //16bit float
					}
					Sca = ((B_color << 32) - C1 * SatR * tmp1) >> 32; //16bit float
				}
				else
					Sca = ((B_color << 16) - C1 * SatR) >> 16; //16bit float

				if (Sca < 0)
					Sca = 0;
				else if (Sca > 65535)
					Sca = 65535;
			}
			else
			{
				//Sca=pow(max_TM_PQ/max,C0);
				if (max == 0)
					Sca = 0; //16bit float
				else
					Sca = pow_float_fix(CLIP(0, 65535, max_TM_PQ / max), C0, 16, 0) / pow_float_fix(65535, C0 & 0xffff, 16, 1); //16bit float
				if (Sca < 52428)//0.8
					Sca = 52428;
				else if (Sca > 65535)
					Sca = 65535;
			}
			//Y = Y; //16bit
			Cb = (Cb * Sca) >> 16; //16bit
			Cr = (Cr * Sca) >> 16; //16bit
			//YCbCr to RGB_PQ
			/*R_ca=CLIP(0, 1, 1.0*Y+0*Cb+1.4746*Cr);
			G_ca=CLIP(0, 1, 1.0*Y-0.1645*Cb-0.5713*Cr);
			B_ca=CLIP(0, 1, 1.0*Y+1.8814*Cb-0.0001*Cr);*/
			R_ca = CLIP(0, 4294967295LL, (65536 * Y + 0 * Cb + 96639 * Cr));	   //16bit
			G_ca = CLIP(0, 4294967295LL, (65536 * Y - 10780 * Cb - 37441 * Cr)); //16bit
			B_ca = CLIP(0, 4294967295LL, (65536 * Y + 123299 * Cb - 6 * Cr));
			
			//test
			/*R_ca=CLIP(0, 1, 1.0*Y+0*Cb+1.402*Cr);
			G_ca=CLIP(0, 1, 1.0*Y-0.3441*Cb-0.7141*Cr);
			B_ca=CLIP(0, 1, 1.0*Y+1.772*Cb+0*Cr);*/
			/*R_ca = CLIP(0, 4294967295, (65536 * Y + 0 * Cb + 91881 * Cr));	   //16bit
			G_ca = CLIP(0, 4294967295, (65536 * Y - 22551 * Cb - 46799 * Cr)); //16bit
			B_ca = CLIP(0, 4294967295, (65536 * Y + 116130 * Cb + 0 * Cr));	   //16bit */
			//test2
			/*R_ca=CLIP(0, 1, 1.0*Y+0.00019*Cb+1.1403*Cr);
			G_ca=CLIP(0, 1, 1.0*Y-1.466*Cb-0.6999*Cr);
			B_ca=CLIP(0, 1, 1.0*Y+2.0284*Cb+0*Cr);*/

			color_b = EOTF_2084(B_ca); //32bit
			color_g = EOTF_2084(G_ca); //32bit
			color_r = EOTF_2084(R_ca); //32bit
		}
		tmp_ga_r = div64_s64(color_r , MaxDisplayPQ); //16bit
		tmp_ga_r = CLIP(0, 65535, tmp_ga_r);
		tmp_ga2_r = div64_s64(pow_float_fix(tmp_ga_r, 29491, 16, 0) , pow_float_fix(65535, 29491, 16, 1)); //16bit
		
		/*****  resuse computation time *****/
		tmp_ga2_g=tmp_ga2_r;
		tmp_ga2_b=tmp_ga2_r;
		//tmp_ga2_r=pow(tmp_ga_r, 0.45);
		
		/*
		tmp_ga_g = color_g / MaxDisplayPQ;
		tmp_ga_g = CLIP(0, 65535, tmp_ga_g);
		tmp_ga2_g = pow_float_fix(tmp_ga_g, 29491, 16, 0) / pow_float_fix(65535, 29491, 16, 1); //16bit
		//tmp_ga2_g=pow(tmp_ga_g, 0.45);

		tmp_ga_b = color_b / MaxDisplayPQ;
		tmp_ga_b = CLIP(0, 65535, tmp_ga_b);
		tmp_ga2_b = pow_float_fix(tmp_ga_b, 29491, 16, 0) / pow_float_fix(65535, 29491, 16, 1); //16bit
		*/
		
		/* test YUV input/output */
		/*y_out=0.2627*tmp_ga2_r+0.678*tmp_ga2_g+0.0593*tmp_ga2_b;
		cb_out=(-0.1396)*tmp_ga2_r-0.3604*tmp_ga2_g+0.5*tmp_ga2_b;
		cr_out=0.5*tmp_ga2_r-0.4598*tmp_ga2_g-0.0402*tmp_ga2_b;*/
		y_out = (17216 * tmp_ga2_r + 44434 * tmp_ga2_g + 3886 * tmp_ga2_b);//32bit float
		cb_out = ((-9149) * tmp_ga2_r - 23619 * tmp_ga2_g + 32768 * tmp_ga2_b) >> 16; //16bit float
		cr_out = (32768 * tmp_ga2_r - 30133 * tmp_ga2_g - 2635 * tmp_ga2_b) >> 16;	   //16bit float
		//test1
		/*y_out=0.299*tmp_ga2_r+0.587*tmp_ga2_g+0.114*tmp_ga2_b;
		cb_out=(-0.1687)*tmp_ga2_r-0.3313*tmp_ga2_g+0.5*tmp_ga2_b;
		cr_out=0.5*tmp_ga2_r-0.4187*tmp_ga2_g-0.0813*tmp_ga2_b;*/
		/*
		y_out = (19595 * tmp_ga2_r + 38470 * tmp_ga2_g + 7471 * tmp_ga2_b);//32bit float
		cb_out = ((-11056) * tmp_ga2_r - 21712 * tmp_ga2_g + 32768 * tmp_ga2_b) >> 16; //16bit float
		cr_out = (32768 * tmp_ga2_r - 27440 * tmp_ga2_g - 5328 * tmp_ga2_b) >> 16;	   //16bit float
		*/
		//test2
		/*y_out=0.2627*tmp_ga2_r+0.428*tmp_ga2_g+0.3093*tmp_ga2_b;
		cb_out=(-0.1295)*tmp_ga2_r-0.211*tmp_ga2_g+0.3405*tmp_ga2_b;
		cr_out=0.6466*tmp_ga2_r-0.3753*tmp_ga2_g-0.2713*tmp_ga2_b;*/

		/*y_out=CLIP(0,1,y_out);
		cb_out=CLIP(-0.5,0.5,cb_out);
		cr_out=CLIP(-0.5,0.5,cr_out);

		cb_out=cb_out+0.5;
		cr_out=cr_out+0.5;
		EOTF_out=(long long)(y_out*4294967296);
		EOTF_out=CLIP(0,4294967295,EOTF_out);*/

		pre_yout = y_out;
		
		y_out = CLIP(0, 4294967295LL, y_out);
		cb_out = CLIP(-32768, 32768, cb_out);
		cr_out = CLIP(-32768, 32768, cr_out);

		cb_out = cb_out + 32768;
		cr_out = cr_out + 32768;

		if (px % 4 == 0 || px == 4095)
		{
			y_lut1_hdr10_vivid[cnt] = (unsigned int)(y_out); // 1DLUT1
			cnt++;
		}
		// test
		if(pre_yout == 4294967295LL && y_out != 4294967295LL)
		{
			rtd_printk(KERN_EMERG,"HDR10_vivid", "system_start_code=%d, minimum_maxrgb_pq[0]=%d, average_maxrgb_pq[0]=%d,\n", pMT->system_start_code, pMT->minimum_maxrgb_pq[0], pMT->average_maxrgb_pq[0]);								 
			rtd_printk(KERN_EMERG,"HDR10_vivid", "variance_maxrgb_pq[0]=%d, maximum_maxrgb_pq[0]=%d, tone_mapping_enable_mode_flag[0]=%d,\n", pMT->variance_maxrgb_pq[0], pMT->maximum_maxrgb_pq[0], pMT->tone_mapping_enable_mode_flag[0]);					 
			rtd_printk(KERN_EMERG,"HDR10_vivid", "tone_mapping_param_enable_num[0]=%d, targeted_system_display_maximum_luminance_pq[0][0]=%d, targeted_system_display_maximum_luminance_pq[1][0]=%d,\n", pMT->tone_mapping_param_enable_num[0], pMT->targeted_system_display_maximum_luminance_pq[0][0], pMT->targeted_system_display_maximum_luminance_pq[1][0]);	 
			rtd_printk(KERN_EMERG,"HDR10_vivid", "base_enable_flag[0][0]=%d, base_enable_flag[1][0]=%d, base_param_m_p[0][0]=%d, base_param_m_p[1][0]=%d,\n", pMT->base_enable_flag[0][0], pMT->base_enable_flag[1][0], pMT->base_param_m_p[0][0], pMT->base_param_m_p[1][0]);								 
			rtd_printk(KERN_EMERG,"HDR10_vivid", "base_param_m_m[0][0]=%d, base_param_m_m[1][0]=%d, base_param_m_a[0][0]=%d, base_param_m_a[1][0]=%d,\n", pMT->base_param_m_m[0][0], pMT->base_param_m_m[1][0], pMT->base_param_m_a[0][0], pMT->base_param_m_a[1][0]);								 
			rtd_printk(KERN_EMERG,"HDR10_vivid", "base_param_m_b[0][0]=%d, base_param_m_b[1][0]=%d, base_param_m_n[0][0]=%d, base_param_m_n[1][0]=%d,\n", pMT->base_param_m_b[0][0], pMT->base_param_m_b[1][0], pMT->base_param_m_n[0][0], pMT->base_param_m_n[1][0]);								 
			rtd_printk(KERN_EMERG,"HDR10_vivid", "base_param_K1[0][0]=%d, base_param_K1[1][0]=%d, base_param_K2[0][0]=%d, base_param_K2[1][0]=%d,\n", pMT->base_param_K1[0][0], pMT->base_param_K1[1][0], pMT->base_param_K2[0][0], pMT->base_param_K2[1][0]);								   
			rtd_printk(KERN_EMERG,"HDR10_vivid", "base_param_K3[0][0]=%d, base_param_K3[1][0]=%d, base_param_Delta_enable_mode[0][0]=%d,\n", pMT->base_param_K3[0][0], pMT->base_param_K3[1][0], pMT->base_param_Delta_enable_mode[0][0]);					  
			rtd_printk(KERN_EMERG,"HDR10_vivid", "base_param_Delta_enable_mode[1][0]=%d, base_param_enable_Delta[0][0]=%d, base_param_enable_Delta[1][0]=%d,\n", pMT->base_param_Delta_enable_mode[1][0], pMT->base_param_enable_Delta[0][0], pMT->base_param_enable_Delta[1][0]);						  
			rtd_printk(KERN_EMERG,"HDR10_vivid", "_3Spline_enable_flag[0][0]=%d, _3Spline_enable_flag[1][0]=%d, _3Spline_enable_num[0][0]=%d, _3Spline_enable_num[1][0]=%d,\n", pMT->_3Spline_enable_flag[0][0], pMT->_3Spline_enable_flag[1][0], pMT->_3Spline_enable_num[0][0], pMT->_3Spline_enable_num[1][0]);							
			rtd_printk(KERN_EMERG,"HDR10_vivid", "_3Spline_TH_enable_mode[0][0][0]=%d, _3Spline_TH_enable_mode[0][1][0]=%d, _3Spline_TH_enable_mode[1][0][0]=%d, _3Spline_TH_enable_mode[1][1][0]=%d,\n", pMT->_3Spline_TH_enable_mode[0][0][0], pMT->_3Spline_TH_enable_mode[0][1][0], pMT->_3Spline_TH_enable_mode[1][0][0], pMT->_3Spline_TH_enable_mode[1][1][0]);					  
			rtd_printk(KERN_EMERG,"HDR10_vivid", "_3Spline_TH_enable_MB[0][0][0]=%d, _3Spline_TH_enable_MB[0][1][0]=%d, _3Spline_TH_enable_MB[1][0][0]=%d, _3Spline_TH_enable_MB[1][1][0]=%d,\n", pMT->_3Spline_TH_enable_MB[0][0][0], pMT->_3Spline_TH_enable_MB[0][1][0], pMT->_3Spline_TH_enable_MB[1][0][0], pMT->_3Spline_TH_enable_MB[1][1][0]);					   
			rtd_printk(KERN_EMERG,"HDR10_vivid", "_3Spline_TH_enable[0][0][0]=%d, _3Spline_TH_enable[0][1][0]=%d, _3Spline_TH_enable[1][0][0]=%d, _3Spline_TH_enable[1][1][0]=%d,\n", pMT->_3Spline_TH_enable[0][0][0], pMT->_3Spline_TH_enable[0][1][0], pMT->_3Spline_TH_enable[1][0][0], pMT->_3Spline_TH_enable[1][1][0]);						   
			rtd_printk(KERN_EMERG,"HDR10_vivid", "_3Spline_TH_enable_Delta1[0][0][0]=%d, _3Spline_TH_enable_Delta1[0][1][0]=%d, _3Spline_TH_enable_Delta1[1][0][0]=%d, _3Spline_TH_enable_Delta1[1][1][0]=%d,\n", pMT->_3Spline_TH_enable_Delta1[0][0][0], pMT->_3Spline_TH_enable_Delta1[0][1][0], pMT->_3Spline_TH_enable_Delta1[1][0][0], pMT->_3Spline_TH_enable_Delta1[1][1][0]);					
			rtd_printk(KERN_EMERG,"HDR10_vivid", "_3Spline_TH_enable_Delta2[0][0][0]=%d, _3Spline_TH_enable_Delta2[0][1][0]=%d, _3Spline_TH_enable_Delta2[1][0][0]=%d, _3Spline_TH_enable_Delta2[1][1][0]=%d,\n", pMT->_3Spline_TH_enable_Delta2[0][0][0], pMT->_3Spline_TH_enable_Delta2[0][1][0], pMT->_3Spline_TH_enable_Delta2[1][0][0], pMT->_3Spline_TH_enable_Delta2[1][1][0]);				   
			rtd_printk(KERN_EMERG,"HDR10_vivid", "_3Spline_enable_Strength[0][0][0]=%d, _3Spline_enable_Strength[0][1][0]=%d, _3Spline_enable_Strength[1][0][0]=%d, _3Spline_enable_Strength[1][1][0]=%d,\n", pMT->_3Spline_enable_Strength[0][0][0], pMT->_3Spline_enable_Strength[0][1][0], pMT->_3Spline_enable_Strength[1][0][0], pMT->_3Spline_enable_Strength[1][1][0]);					
			rtd_printk(KERN_EMERG,"HDR10_vivid", "color_saturation_mapping_enable_flag[0]=%d, color_saturation_enable_num[0]=%d,\n", pMT->color_saturation_mapping_enable_flag[0], pMT->color_saturation_enable_num[0]);						 
			rtd_printk(KERN_EMERG,"HDR10_vivid", "color_saturation_enable_gain[0][0]=%d, color_saturation_enable_gain[1][0]=%d, color_saturation_enable_gain[2][0]=%d, color_saturation_enable_gain[3][0]=%d,\n", pMT->color_saturation_enable_gain[0][0], pMT->color_saturation_enable_gain[1][0], pMT->color_saturation_enable_gain[2][0], pMT->color_saturation_enable_gain[3][0]);					
			rtd_printk(KERN_EMERG,"HDR10_vivid", "color_saturation_enable_gain[4][0]=%d, color_saturation_enable_gain[5][0]=%d, color_saturation_enable_gain[6][0]=%d,\n", pMT->color_saturation_enable_gain[4][0], pMT->color_saturation_enable_gain[5][0], pMT->color_saturation_enable_gain[6][0]);					 
		}
		// test
		
		y_gray[px] = (unsigned int)(y_out >> 16); //16 bit
		//pre_Eo=y_out;
		y_idx = CLIP(0, 65535, y_idx + 16);
	}

	/* gen 1DLUT2 */

	for(loop=0;loop<17;loop++)
	{
		target=CLIP(0,65535,loop*4096);
		//pick=0;

		if(loop==16)
			y_lut2[loop]=65535;
		else
		{
			/*for(idx=0;idx<4096;idx++)
			{
				if(y_gray[idx]==target)
				{
					y_lut2[loop]=idx<<4; // 1DLUT2 16bit
					pick=1;
					break;
				}
			}*/
			//if(pick==0)
			//{
				low=abs_cuva((int)(y_gray[0]-target));
				low_idx=0;
				for(idx=1;idx<4096;idx++)
				{
					diff=abs_cuva((int)(y_gray[idx]-target));

					if((diff<low || (diff==low && idx>low_idx)) && y_gray[idx]<=target)
					{
						low=diff;
						low_idx=idx;
					}
					else if(y_gray[idx] > target)
					{
						break;
					}	
				}
				up_idx=low_idx+1;
				//pick=1;
				y_lut2[loop]=( (target-y_gray[low_idx])*(up_idx<<4) + (y_gray[up_idx]-target)*(low_idx<<4) )/(y_gray[up_idx]-y_gray[low_idx]); // 1DLUT2 16bit
			//}
		}
	}

	/* gen 3DLUT */

	v_idx=0;
	for(pz=0;pz<17;pz++)
	{
		u_idx=0;
		for(py=0;py<17;py++)
		{
			y_idx=0;
			for(px=0;px<17;px++)
			{

				switch (y_idx)
				{
				case 0:
					y=y_lut2[0];
					break;
				case 4096:
					y=y_lut2[1];
					break;
				case 8192:
					y=y_lut2[2];
					break;
				case 12288:
					y=y_lut2[3];
					break;
				case 16384:
					y=y_lut2[4];
					break;
				case 20480:
					y=y_lut2[5];
					break;
				case 24576:
					y=y_lut2[6];
					break;
				case 28672:
					y=y_lut2[7];
					break;
				case 32768:
					y=y_lut2[8];
					break;
				case 36864:
					y=y_lut2[9];
					break;
				case 40960:
					y=y_lut2[10];
					break;
				case 45056:
					y=y_lut2[11];
					break;
				case 49152:
					y=y_lut2[12];
					break;
				case 53248:
					y=y_lut2[13];
					break;
				case 57344:
					y=y_lut2[14];
					break;
				case 61440:
					y=y_lut2[15];
					break;
				case 65535:
					y=y_lut2[16];
					break;
				}

				y_in=y;
				u=u_idx; //16bit 
				v=v_idx; //16bit 

				
				cb_in=CLIP(-32768,32768,u-32768);
				cr_in=CLIP(-32768,32768,v-32768);

				/*cb_in=CLIP(-0.5,0.5,u-0.5);
				cr_in=CLIP(-0.5,0.5,v-0.5);*/

				/*r=CLIP(0, 1, 1.0*y_in+0*cb_in+1.4746*cr_in);
				g=CLIP(0, 1, 1.0*y_in-0.1645*cb_in-0.5713*cr_in);
				b=CLIP(0, 1, 1.0*y_in+1.8814*cb_in-0.0001*cr_in);*/
				//BT2020
				r = CLIP(0, 65535, (65536 * y_in + 0 * cb_in + 96639 * cr_in) >> 16);	  //16bit
				g = CLIP(0, 65535, (65536 * y_in - 10780 * cb_in - 37441 * cr_in) >> 16); //16bit
				b = CLIP(0, 65535, (65536 * y_in + 123299 * cb_in - 6 * cr_in) >> 16);	  //16bit
				//test 1
				/*r=CLIP(0, 1, 1.0*y_in+0*cb_in+1.402*cr_in);
				g=CLIP(0, 1, 1.0*y_in-0.3441*cb_in-0.7141*cr_in);
				b=CLIP(0, 1, 1.0*y_in+1.772*cb_in+0*cr_in);*/

				/*r=CLIP(0, 65535, (65536*y_in+0*cb_in+91881*cr_in)>>16); //16bit
				g=CLIP(0, 65535, (65536*y_in-22551*cb_in-46799*cr_in)>>16); //16bit
				b=CLIP(0, 65535, (65536*y_in+116130*cb_in+0*cr_in)>>16); //16bit*/
				//test 2
				/*r=CLIP(0, 1, 1.0*y_in+0.00019*cb_in+1.1403*cr_in);
				g=CLIP(0, 1, 1.0*y_in-1.466*cb_in-0.6999*cr_in);
				b=CLIP(0, 1, 1.0*y_in+2.0284*cb_in+0*cr_in);*/

				max=maxRGBPQ(r,g,b); //16bit float
				if((spline_TH_mode==1||spline_TH_mode==2) && max>TH3_2) 
				{
					H1=TH3_2-TH2_2; //16bit float
					//BASEH=MD_1_2*pow(H1,3) + MC_1_2*pow(H1,2) + MB_1_2*H1 + MA_1_2;
					//MBH=3*MD_1_2*pow(H1,2) + 2*MC_1_2*H1 + MB_1_2;
					BASEH=(((MD_1_2*H1*H1)>>16)*H1 + MC_1_2*H1*H1 + ((MB_1_2*H1)<<16) + (MA_1_2<<32))>>16; //32bit float
					MBH=(3*MD_1_2*H1*H1 + ((2*MC_1_2*H1)<<16) + (MB_1_2<<32))>>32;//16bit float
					max_Tm=(MBH*(max-TH3_2) + BASEH)>>16; //16bit float
				}
				else if(spline_num>0 && (max>=0 && max<=TH3_0))
				{
					max_Tm=(MB_0*max+(base_offset<<16))>>16; //16bit float
				}
				else if(TH1_1<max && max<TH3_1)
				{
					L1=max-TH1_1; //16bit float
					L2=max-TH2_1; //16bit float
					if(TH1_1<max && max<=TH2_1)
						//max_Tm=MD_0_1*pow(L1,3) + MC_0_1*pow(L1,2) + MB_0_1*L1 +MA_0_1;
						max_Tm=(((MD_0_1*L1*L1)>>16)*L1 + MC_0_1*L1*L1 + ((MB_0_1*L1)<<16) +(MA_0_1<<32))>>32; //16bit float
					else
						//max_Tm=MD_1_1*pow(L2,3) + MC_1_1*pow(L2,2) + MB_1_1*L2 +MA_1_1;
						max_Tm=(((MD_1_1*L2*L2)>>16)*L2 + MC_1_1*L2*L2 + ((MB_1_1*L2)<<16) +(MA_1_1<<32))>>32; //16bit float
				}
				else if(spline_num==2 && TH1_2<max && max<TH3_2)
				{
					L1=max-TH1_2; //16bit float
					L2=max-TH2_2; //16bit float
					if(TH1_2<max && max<=TH2_2)
						//max_Tm=MD_0_2*pow(L1,3) + MC_0_2*pow(L1,2) + MB_0_2*L1 +MA_0_2;
						max_Tm=(((MD_0_2*L1*L1)>>16)*L1 + MC_0_2*L1*L1 + ((MB_0_2*L1)<<16) +(MA_0_2<<32))>>32; //16bit float
					else
						//max_Tm=MD_1_2*pow(L2,3) + MC_1_2*pow(L2,2) + MB_1_2*L2 +MA_1_2;
						max_Tm=(((MD_1_2*L2*L2)>>16)*L2 + MC_1_2*L2*L2 + ((MB_1_2*L2)<<16) +(MA_1_2<<32))>>32; //16bit float
				}
				else
				{
					//max_Tm=m_a*pow((m_p*pow(max,m_n)/((K1*m_p-K2)*pow(max,m_n)+K3)),m_m)+m_b;
					tmp = pow_float_fix(max, m_n, 16, 0);
					//pow_tmp=pow_float_fix(65535, m_n & 0xffff, 16, 1);	
					//tmp1 = m_p * tmp / pow_float_fix(65535, m_n & 0xffff, 16, 1);																			  //32bit float
					//tmp2 = (((K1 * m_p - (K2 << 16)) >> 16) * pow_float_fix(max, m_n, 16, 0) / pow_float_fix(65535, m_n & 0xffff, 16, 1) + (K3 << 16)) >> 16; //16bit float
					tmp1 = div64_s64(m_p * tmp , pow_tmp_9323_1);
					div_tmp1 = div64_s64(((K1 * m_p - (K2 << 16)) >> 16) * tmp , pow_tmp_9323_1);
					tmp2 = (div_tmp1 + (K3 << 16)) >> 16; //16bit float
					div_tmp1 = div64_s64(tmp1 , tmp2);
					div_tmp2 = div64_s64(m_a * pow_float_fix(div_tmp1, m_m, 16, 0) , pow_float_fix(65535, m_m & 0xffff, 16, 1));
					max_Tm = (div_tmp2 + (m_b < 16)) >> 16;		

					/*tmp=pow_float_fix(max,m_n,16,0);
					tmp1=m_p*tmp / pow_float_fix(65535,m_n&0xffff,16,1); //32bit float
					tmp2=(((K1*m_p-(K2<<16))>>16)*pow_float_fix(max,m_n,16,0)/pow_float_fix(65535,m_n&0xffff,16,1) + (K3<<16))>>16; //16bit float
					max_Tm=(m_a*pow_float_fix(tmp1/tmp2,m_m,16,0)/pow_float_fix(65535,m_m&0xffff,16,1)+(m_b<16))>>16; //16bit float*/
				}
				if(EOTF_2084(max<<16)==0)
					K=0;
				else
					K=div64_s64((EOTF_2084(max_Tm<<16)<<16),EOTF_2084(max<<16)); //16bit float

				tm_b=(EOTF_2084(b<<16)*K)>>16; //32bit float
				tm_g=(EOTF_2084(g<<16)*K)>>16; //32bit float
				tm_r=(EOTF_2084(r<<16)*K)>>16; //32bit float
				//TML_TM=inv_EOTF_2084((MaxDisplayPQ*K)); //32bit float
				TML_TM=inv_EO_lut((MaxDisplayPQ*K*10000)>>14)<<16; //32bit float
				/* 9.5 color correction */
				if(pMT->color_saturation_mapping_enable_flag[0]==0)
				{
					color_b=tm_b;
					color_g=tm_g;
					color_r=tm_r;
				}
				else
				{
					C0=color_saturation_gain0; //16bit float
					C1=color_saturation_gain1; //16bit float

					/*tm_b_PQ=inv_EOTF_2084(tm_b); //32bit
					tm_g_PQ=inv_EOTF_2084(tm_g); //32bit
					tm_r_PQ=inv_EOTF_2084(tm_r); //32bit*/
					tm_b_PQ=inv_EO_lut((tm_b*10000)>>14)<<16; //32bit
					tm_g_PQ=inv_EO_lut((tm_g*10000)>>14)<<16; //32bit
					tm_r_PQ=inv_EO_lut((tm_r*10000)>>14)<<16; //32bit

					//BT2020
					/*Y=0.2627*tm_r_PQ+0.678*tm_g_PQ+0.0593*tm_b_PQ;
					Cb=(-0.1396)*tm_r_PQ-0.3604*tm_g_PQ+0.5*tm_b_PQ;
					Cr=0.5*tm_r_PQ-0.4598*tm_g_PQ-0.0402*tm_b_PQ;*/
					Y = (17216 * tm_r_PQ + 44434 * tm_g_PQ + 3886 * tm_b_PQ) >> 32;		 //16bit float
					Cb = ((-9149) * tm_r_PQ - 23619 * tm_g_PQ + 32768 * tm_b_PQ) >> 32; //16bit float
					Cr = (32768 * tm_r_PQ - 30133 * tm_g_PQ - 2635 * tm_b_PQ) >> 32;	 //16bit float
					
					//test1
					/*Y=0.299*tm_r_PQ+0.587*tm_g_PQ+0.114*tm_b_PQ;
					Cb=(-0.1687)*tm_r_PQ-0.3313*tm_g_PQ+0.5*tm_b_PQ;
					Cr=0.5*tm_r_PQ-0.4187*tm_g_PQ-0.0813*tm_b_PQ;*/
					/*Y=(19595*tm_r_PQ+38470*tm_g_PQ+7471*tm_b_PQ)>>32; //16bit float
					Cb=((-11056)*tm_r_PQ-21712*tm_g_PQ+32768*tm_b_PQ)>>32; //16bit float
					Cr=(32768*tm_r_PQ-27440*tm_g_PQ-5328*tm_b_PQ)>>32; //16bit float*/
					//test2
					/*Y=0.2627*tm_r_PQ+0.428*tm_g_PQ+0.3093*tm_b_PQ;
					Cb=(-0.1295)*tm_r_PQ-0.211*tm_g_PQ+0.3405*tm_b_PQ;
					Cr=0.6466*tm_r_PQ-0.3753*tm_g_PQ-0.2713*tm_b_PQ;*/

					Y=CLIP(0,65535,Y);
					Cb=CLIP(-32768,32768,Cb); //-0.5~0.5
					Cr=CLIP(-32768,32768,Cr); //-0.5~0.5

					max_TM_PQ=maxRGBPQ(tm_r_PQ,tm_g_PQ,tm_b_PQ); //32bit float
					//max_TM_PQ=inv_EOTF_2084(EOTF_2084(max)*K);
					if((max<<16)>TML && pMT->color_saturation_enable_num[0]>=2)
					{
						A_color=div64_s64((TML<<16),RML); //16bit float
						div_tmp1 = div64_s64((TML_TM<<16),TML);
						B_color=div64_s64(pow_float_fix(div_tmp1,C0,16,0),pow_float_fix(65535,C0&0xffff,16,1)); //16bit float

						if((TML>>16)<max && max<(RML>>16))
						{
							//Sca=B_color-C1*SatR*pow((max-A_color*RML)/(RML-A_color*RML),M);
							tmp=div64_s64(((max<<32)-A_color*RML),(((RML<<16)-A_color*RML)>>16)); //16bit float
							tmp1=1;
							for(i=0;i<M;i++)
							{
								tmp1=tmp1*tmp;
								if(i>0)
									tmp1=tmp1>>16; //16bit float
							}
							Sca=((B_color<<32)-C1*SatR*tmp1)>>32; //16bit float
						}
						else
							Sca=((B_color<<16)-C1*SatR)>>16; //16bit float

						if(Sca<0)
							Sca=0;
						else if(Sca>65535)
							Sca=65535;
					}
					else
					{
						//Sca=pow(max_TM_PQ/max,C0);
						if(max==0)
							Sca=0; //16bit float
						else
						{    
							div_tmp1 = div64_s64(max_TM_PQ,max);
							Sca=div64_s64(pow_float_fix(CLIP(0,65535,div_tmp1),C0,16,0),pow_float_fix(65535,C0&0xffff,16,1)); //16bit float
						}
						if(Sca<52428)//0.8
							Sca=52428;
						else if(Sca>65535)
							Sca=65535;
					}
					//Y=Y; //16bit
					Cb=(Cb*Sca)>>16; //16bit
					Cr=(Cr*Sca)>>16; //16bit
					//YCbCr to RGB_PQ
					//BT2020
					/*R_ca=CLIP(0, 1, 1.0*Y+0*Cb+1.4746*Cr);
					G_ca=CLIP(0, 1, 1.0*Y-0.1645*Cb-0.5713*Cr);
					B_ca=CLIP(0, 1, 1.0*Y+1.8814*Cb-0.0001*Cr);*/
					R_ca = CLIP(0, 4294967295LL, (65536 * Y + 0 * Cb + 96639 * Cr));	   // 32bit
					G_ca = CLIP(0, 4294967295LL, (65536 * Y - 10780 * Cb - 37441 * Cr)); // 32bit
					B_ca = CLIP(0, 4294967295LL, (65536 * Y + 123299 * Cb - 6 * Cr));// 32bit
					//601
					/*R_ca=CLIP(0, 1, 1.0*Y+0*Cb+1.402*Cr);
					G_ca=CLIP(0, 1, 1.0*Y-0.3441*Cb-0.7141*Cr);
					B_ca=CLIP(0, 1, 1.0*Y+1.772*Cb+0*Cr);*/
					/*R_ca=CLIP(0, 4294967295, (65536*Y+0*Cb+91881*Cr)); // 32bit
					G_ca=CLIP(0, 4294967295, (65536*Y-22551*Cb-46799*Cr)); // 32bit
					B_ca=CLIP(0, 4294967295, (65536*Y+116130*Cb+0*Cr)); // 32bit*/
					//test2
					/*R_ca=CLIP(0, 1, 1.0*Y+0.00019*Cb+1.1403*Cr);
					G_ca=CLIP(0, 1, 1.0*Y-1.466*Cb-0.6999*Cr);
					B_ca=CLIP(0, 1, 1.0*Y+2.0284*Cb+0*Cr);*/

					color_b=EOTF_2084(B_ca); //32bit
					color_g=EOTF_2084(G_ca); //32bit
					color_r=EOTF_2084(R_ca); //32bit
				}
				pow_tmp=pow_float_fix(65535, 29491,16,1);
					
				tmp_ga_r=div64_s64(color_r,MaxDisplayPQ); //16bit
				tmp_ga_r=CLIP(0,65535,tmp_ga_r);
				tmp_ga2_r=div64_s64(pow_float_fix(tmp_ga_r, 29491,16,0),pow_tmp); //16bit
				//tmp_ga2_r=pow(tmp_ga_r, 0.45);

				tmp_ga_g=div64_s64(color_g,MaxDisplayPQ);
				tmp_ga_g=CLIP(0,65535,tmp_ga_g);
				tmp_ga2_g=div64_s64(pow_float_fix(tmp_ga_g, 29491,16,0),pow_tmp); //16bit
				//tmp_ga2_g=pow(tmp_ga_g, 0.45);

				tmp_ga_b=div64_s64(color_b,MaxDisplayPQ);
				tmp_ga_b=CLIP(0,65535,tmp_ga_b);
				tmp_ga2_b=div64_s64(pow_float_fix(tmp_ga_b, 29491,16,0),pow_tmp); //16bit

				/* test YUV input/output */
				//BT2020
				/*y_out=0.2627*tmp_ga2_r+0.678*tmp_ga2_g+0.0593*tmp_ga2_b;
				cb_out=(-0.1396)*tmp_ga2_r-0.3604*tmp_ga2_g+0.5*tmp_ga2_b;
				cr_out=0.5*tmp_ga2_r-0.4598*tmp_ga2_g-0.0402*tmp_ga2_b;*/
				y_out = (17216 * tmp_ga2_r + 44434 * tmp_ga2_g + 3886 * tmp_ga2_b)>>16;//16bit float
				cb_out = ((-9149) * tmp_ga2_r - 23619 * tmp_ga2_g + 32768 * tmp_ga2_b) >> 16; //16bit float
				cr_out = (32768 * tmp_ga2_r - 30133 * tmp_ga2_g - 2635 * tmp_ga2_b) >> 16;	   //16bit float
				
				//601
				/*y_out=0.299*tmp_ga2_r+0.587*tmp_ga2_g+0.114*tmp_ga2_b;
				cb_out=(-0.1687)*tmp_ga2_r-0.3313*tmp_ga2_g+0.5*tmp_ga2_b;
				cr_out=0.5*tmp_ga2_r-0.4187*tmp_ga2_g-0.0813*tmp_ga2_b;*/

				/*y_out=(19595*tmp_ga2_r+38470*tmp_ga2_g+7471*tmp_ga2_b)>>16; //16bit float
				cb_out=((-11056)*tmp_ga2_r-21712*tmp_ga2_g+32768*tmp_ga2_b)>>16; //16bit float
				cr_out=(32768*tmp_ga2_r-27440*tmp_ga2_g-5328*tmp_ga2_b)>>16; //16bit float*/
				//test2
				/*y_out=0.2627*tmp_ga2_r+0.428*tmp_ga2_g+0.3093*tmp_ga2_b;
				cb_out=(-0.1295)*tmp_ga2_r-0.211*tmp_ga2_g+0.3405*tmp_ga2_b;
				cr_out=0.6466*tmp_ga2_r-0.3753*tmp_ga2_g-0.2713*tmp_ga2_b;*/

				/*y_out=CLIP(0,1,y_out);
				cb_out=CLIP(-0.5,0.5,cb_out);
				cr_out=CLIP(-0.5,0.5,cr_out);

				cb_out=cb_out+0.5;
				cr_out=cr_out+0.5;
				EOTF_out=(long long)(y_out*4294967296);
				EOTF_out=CLIP(0,4294967295,EOTF_out);*/
				y_out=CLIP(0,65535,y_out);
				cb_out=CLIP(-32768,32768,cb_out);
				cr_out=CLIP(-32768,32768,cr_out);

				cb_out=cb_out+32768;
				cr_out=cr_out+32768;

				y_lut3D_hdr10_vivid[lut_idx][0]=y_out;
				y_lut3D_hdr10_vivid[lut_idx][1]=cb_out; 
				y_lut3D_hdr10_vivid[lut_idx][2]=cr_out; 
				
				y_idx=CLIP(0,65535,y_idx+4096);
				lut_idx++;
			}
			u_idx=CLIP(0,65535,u_idx+4096);
		}
		v_idx=CLIP(0,65535,v_idx+4096);
	}


	hdr10_vivid_table_update = 1;
#endif	
}


