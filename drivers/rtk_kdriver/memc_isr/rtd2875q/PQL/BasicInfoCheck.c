#include <memc_isr/include/memc_lib.h>
#include "memc_isr/PQL/PQLPlatformDefs.h"
#include "memc_isr/PQL/PQLContext.h"
#ifdef H5C2
#include "../common/include/rbus/mdomain_disp_main_reg.h"  //mdomain_disp_reg.h //spec_change
#endif
#include <tvscalercontrol/scaler/scalerstruct.h>
#include "memc_isr/MID/mid_mode.h"
#include <tvscalercontrol/panel/panelapi.h>
#include <memc_isr/scalerMEMC.h>
#include "memc_reg_def.h"
#include "memc_isr/PQL/MEMC_ParamTable.h"
#include "memc_isr/PQL/BasicInfoCheck.h"
#include "memc_isr/PQL/CalibMEMCInfo.h"

#ifdef BUILD_QUICK_SHOW
#include <sysdefs.h>
#include <mach/rtk_platform.h>
#include <no_os/printk.h>
#include <no_os/semaphore.h>
#include <no_os/spinlock.h>
#include <no_os/spinlock_types.h>
#include <no_os/slab.h>
#include <timer.h>
#include <no_os/pageremap.h>
#endif

#ifdef BUILD_QUICK_SHOW
extern unsigned int Get_DISPLAY_REFRESH_RATE(void);
#endif

#define _ABS_(x)   ((x)<=0? (-1*(x)) : (x))
#define _MIN_(x,y) (((x)<=(y))? (x) : (y))
#define _MAX_(x,y) (((x)>=(y))? (x) : (y))
#define _ABS_DIFF_(x, y)		((x)<(y)? ((y)-(x)) : ((x)-(y)))
#define _CLIP_(x,dmin, dmax)	((x)>=(dmax)? (dmax):(x)<=(dmin)?(dmin):(x))

extern void Scaler_MEMC_SetMotionComp(unsigned char blurLevel, unsigned char judderLevel, SCALER_MEMC_TYPE_T motion);
extern _Self_Check_Result MEMC_Lib_DDR_Boundary_Check(VOID);
extern _Self_Check_Result MEMC_Lib_Rim_Check(VOID);
extern _MEMC_PARAM_TABLE MEMC_PARAM_TABLE;

//////////////////////////// block size ////////////////////////////
unsigned int g_IPME1_HSize = 0;
unsigned int g_IPME1_VSize = 0;
unsigned int g_BLogo_BlkNum = 0;
unsigned int g_BLogo_RowNum = 0;
unsigned int g_PLogo_HSize = 0;
unsigned int g_PLogo_VSize = 0;

unsigned char g_FrameRate_Scale = 1;
unsigned char g_APL_CHECK_CNT_TH = 4;
unsigned char g_DTL_CHECK_CNT_TH = 1;

//////////////////////////// usb ////////////////////////////
bool g_usb_play = false;
bool g_usb_play_pre = false;
unsigned char g_usb_play_chg = USB_WITHOUT_PLAYING;

//////////////////////////// calibration's param ////////////////////////////
#define PTG_CHECKERBOARD_ALIGN		(0)
#define APL_COLOR_NUM 				(5)
#define DTL_COLOR_NUM 				(6)
#define SAD_SPEED_NUM 				(4)
#define SAD_CHECKERBOARD_SIZE_NUM	(3)
#define SAD_SQUARE_SIZE_NUM			(2)

#if PTG_CHECKERBOARD_ALIGN
#define DTL_SIZE_NUM (11)
#else
#define DTL_SIZE_NUM (24)
#endif
#define DTL_TOTAL_NUM (DTL_SIZE_NUM*DTL_COLOR_NUM)
#define APL_TOTAL_NUM (APL_COLOR_NUM*APL_COLOR_NUM*APL_COLOR_NUM)
#define SAD_TOTAL_NUM (SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_SQUARE_SIZE_NUM*SAD_SQUARE_SIZE_NUM)

unsigned int SCALE_SAD_SQUARE_WIDTH = 480;
unsigned int SCALE_SAD_SQUARE_HEIGHT = 540;
#define SCALE_APL_COLOR_STEP			(1024/(APL_COLOR_NUM-1))
#define SCALE_SAD_CHECKERBOARD 			(40) 
#define SCALE_SAD_SPEED 				(8)
#define SCALE_DTL_CHECKERBOARD_SIZE 	(4) 
#define SCALE_DTL_CHECKERBOARD_COLOR 	(4)
#define OFFSET_DTL_CHECKERBOARD_COLOR 	(7)

#define SADtoSADTH_SCALE_LV2			(130)
#define SADtoSADTH_SCALE_LV3			(420)
#define APL_GET_REGION_ID				(10)
#define APL_TOLERANCE					(64)	//tolerance for rounding
#define MAX_FB_BADREGION_CNT			(775*2)	//duration of #365 is 775 frames
#define MAX_LBMC_CNT					(400)
#define MAX_SC_CNT 						(4000)
#define FB_BADREGION_CNT_MAX_DIFF		(1)
#define LBMC_MAX_TEST_ID				(4)
#define LBMC_CHECK_MAX_DIFF				(80)
#define MAX_VTOTAL_INT_DIFF				(8)
#define LBMC_GMV_DIFF					(2)
#define SAD_CHECK_MAX_rAPL_DIFF			(2033) //259200/255*2	259200:max rAPL
#define SAD_CHECK_MIN_SAD				(4096)
#define MV_CHECK_MVX					(16)
#define MV_CHECK_MVY					(16)
#define MV_CNT_GOLDEN					(32400)
#define MV_UNCONF_GOLDEN				(0)
#define MV_CNT_CHECK_MAX_DIFF			(628)
#define MV_CHECK_MAX_DIFF				(1)
#define REGION_CHECK_MAX_DIFF			(2)
#define SAD_CHECKERBOARD_COLOR 			(0xaf)
#define NUM_IPPRE_PTG_COLOR_CHECK		(8)
#define LOGO_DETECT_SET_CNT				(10)
#define LOGO_DETECT_GET_TIME			(200)
#define LOGO_DETECT_BLKLOGO_GOLDEN		(1777)
#define LOGO_DETECT_BLKLOGO_TOLERANCE 	(LOGO_DETECT_BLKLOGO_GOLDEN/50)

#define PTG_TYPE_BYPASS 		(255)
#define PTG_COLOR_BYPASS 		(1024)
#define PTG_CHECKERBOARD_NONE 	(1023)
#define SET_PTG_CNT				(60)
#define MAX_SET_PTG_CNT			(254)
#define QUICK_SET_PTG_CNT		(20)
#define CHECK_VAL_CNT			(1000)
#define SUGGEST_OFFSET			(10)

#define CHECK_APL_COLOR_START_ID			(0)
#define CHECK_DTL_CHECKERBOARD_W_START_ID	(1)
#define CHECK_DTL_CHECKERBOARD_H_START_ID	(1)
#define CHECK_DTL_CHECKERBOARD_C_START_ID	(1)
#define CHECK_SAD_BAR_W_START_ID			(1)
#define CHECK_SAD_BAR_H_START_ID			(1)
#define CHECK_SAD_SPEED_START_ID			(1)
#define CHECK_SAD_CHECKERBOARD_W_START_ID	(0)
#define CHECK_SAD_CHECKERBOARD_H_START_ID	(0)
#define CHECK_SAD_START_SPEED				(SCALE_SAD_SPEED*CHECK_SAD_SPEED_START_ID)
#define SAD_MEDIAN_NUM						(3)

#define MV_TOLERANCE				(1)	// tolerance for rounding. ex: ori_mv = 5  calib_mv = 5*3/4 = 3.75 or 3(rounding)
#define CHECK_MV_TIME				(1000)
#define SHUTDOWN_CHECK_BIT_OFFSET	(16)

#define YUV_HIST_SEARCH_WDITH 		(10)
#define YUV_HIST_GOLDEN		 		(2160*YUV_HIST_SEARCH_WDITH)

//////////////////////////// auto regression ////////////////////////////
#define AUTOREGRESSION_VERIFY_ALL_BIT		(0)
#define AUTOREGRESSION_VERIFY_SINGLE_BIT	(1)
#define AUTOREGRESSION_GETDATA_ALL_BIT		(2)
#define AUTOREGRESSION_GETDATA_SINGLE_BIT	(3)
#define AUTOREGRESSION_STREAM_ID_LOW_BIT	(16)
#define AUTOREGRESSION_STREAM_ID_HIGH_BIT	(23)

//#define MAX_ROUGH_TIME_DIFF		(3000) 	//unit:ms
#define MAX_PRECISE_TIME_DIFF	(1000) 	//unit:ms
#define MAX_INTERVAL_TIME		(250)	//unit:ms
#define FIRST_RECORD_TIME		(350)	//unit:ms
//#define FIRST_RECORD_FB_TIME	(1200)	//unit:ms
#define FIRST_SAVE_DATA_TIME	(500)	//unit:ms
#define SC_LAST_RECORD_TIME		(1000)	//unit:ms
#define DATA_FRT				(60)

bool g_regression_reset = false;
unsigned int g_stream_length = 0;
unsigned int g_stream_play_time = 0; //unit: ms
bool g_regression_log[AUTOREGRESSION_TYPE_NUM] = {0};
bool g_regression_debug_log = false;

#define END_RGN21_INDEX					(0)
#define END_SC_VALUE					(0xffffffff)
#define END_GFB_VALUE					(0xffff)
#define END_LFB_VALUE					(0xffff)
#define END_LOGO_VALUE					(0xffff)
#define REGRESSION_LPF_WIDTH			(3)
#define REGRESSION_LFB_MAX_CNT_DIFF		(1000)
#define REGRESSION_GFB_MAX_CNT_DIFF		(REGRESSION_LFB_MAX_CNT_DIFF/RGN21)
#define REGRESSION_BLOGO_MAX_CNT_DIFF	(600)
#define REGRESSION_PLOGO_MAX_CNT_DIFF	(6000)//didn't check by merlin8

const unsigned char AUTOREGRESSION_MAX_DATA_LIST[AUTOREGRESSION_TYPE_NUM] = {
	REGRESSION_SC_MAX_DATA,		// scene change
	REGRESSION_FB_MAX_DATA,		// global fallback
	REGRESSION_FB_MAX_DATA,		// local fallback
	REGRESSION_LOGO_MAX_DATA,	// logo
};

//////////////////////////// save file ////////////////////////////
#define FILE_DATA_WIDTH_SC		(10)
#define FILE_DATA_HEIGHT_SC		(REGRESSION_SC_MAX_DATA/FILE_DATA_WIDTH_SC)
#define FILE_DATA_WIDTH_GFB		(10)
#define FILE_DATA_HEIGHT_GFB	(REGRESSION_FB_MAX_DATA/FILE_DATA_WIDTH_GFB)
#define FILE_DATA_HEIGHT_LFB	(REGRESSION_FB_MAX_DATA)
#define FILE_DATA_HEIGHT_LOGO	(REGRESSION_LOGO_MAX_DATA)
#define MAX_TRY_SAVE_FILE_TIMES (120)//(15*60)
#define ASCII_0					(0x30)
#define ASCII_9					(ASCII_0+9)
#define MIN_STREAM_LEN			(8)
#define MAX_STREAM_LEN			(255)
#define RECORD_FILE_NAME		("/tmp/Record.txt")
#define STREAM_LEN_FILE_NAME	("/tmp/Stream_Len.txt")
#define RESULT_FILE_NAME		("/tmp/Result.txt")

#if SAVE_FILE_CONFIG
char AUTOREGRESSION_TYPE_STRING[AUTOREGRESSION_TYPE_NUM][5] = 
{
	"SC",
	"GFB",
	"LFB",
	"LOGO",
};

char SELF_TEST_RESULT_STRING[SELF_TEST_NUM][8] = 
{
	"FAIL",
	"PASS",
	"INIT",
	"PROCESS",
};
#endif

//////////////////////////////////////////   golden   //////////////////////////////////////////
_PTG_RGB PURE_WHITE = {1023, 1023, 1023};
_PTG_RGB PURE_BLACK = {0, 0, 0};
_PTG_RGB SAD_SQUARE_COLOR = {1023, 1023, 1023};
_PTG_POS_COLOR IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_NUM] = {
//  position		color
	{{3, 2}, 		{0, 0, 0}},				// left up
	{{3836, 2159}, 	{1023, 1023, 1023}},	// right down
};

const _PTG_RGB IPPRE_PTG_COLOR_CHECK[NUM_IPPRE_PTG_COLOR_CHECK] = {
	{	0,		0,		0}, //pure black
	{1023,		0,		0}, //pure red
	{	0,	 1023,		0}, //pure green
	{	0,		0,	 1023}, //pure blue
	{1023,	 1023,		0},
	{1023,		0,	 1023},
	{	0,	 1023,	 1023},
	{1023,	 1023,	 1023}, //pure white
};
	
const _CHECK_PTG_MV_INFO PTG_MV_Info_Golden[CHECK_MVINFO_NUM] =
{
	// CHECK_MVINFO_STILL
	{0, 0, MV_CNT_GOLDEN,	MV_UNCONF_GOLDEN, 0, 0},
	// CHECK_MVINFO_H_MOVE
	{2*MV_CHECK_MVX, 0, MV_CNT_GOLDEN, MV_UNCONF_GOLDEN, 2*MV_CHECK_MVX, 0},		
	// CHECK_MVINFO_V_MOVE
	{0, MV_CHECK_MVY, MV_CNT_GOLDEN, MV_UNCONF_GOLDEN, 0, MV_CHECK_MVY},				
};

const unsigned int APL_GOLDEN[APL_TOTAL_NUM] = {
	0, 16320, 32640, 48960, 65280, 49980, 63240, 78540, 94860, 112200,
	99960, 112200, 125460, 141780, 158100, 149940, 162180, 174420, 187680, 204000,
	200940, 212160, 224400, 236640, 249900, 7140, 22440, 37740, 53040, 68340,
	54060, 65280, 81600, 97920, 114240, 103020, 115260, 127500, 143820, 160140,
	153000, 165240, 177480, 190740, 206040, 202980, 214200, 227460, 238680, 252960,
	14280, 28560, 43860, 59160, 74460, 61200, 72420, 86700, 102000, 118320,
	107100, 119340, 130560, 146880, 163200, 155040, 168300, 180540, 192780, 209100,
	206040, 217260, 229500, 241740, 255000, 21420, 35700, 49980, 66300, 81600,
	67320, 78540, 93840, 109140, 124440, 114240, 125460, 137700, 151980, 167280,
	161160, 172380, 183600, 194820, 211140, 209100, 220320, 232560, 244800, 258060,
	27540, 41820, 57120, 72420, 87720, 74460, 85680, 99960, 115260, 130560,
	121380, 132600, 143820, 158100, 174420, 168300, 179520, 190740, 201960, 217260,
	215220, 226440, 237660, 248880, 260100,
};

const unsigned int DTL_GOLDEN[DTL_TOTAL_NUM] = {
	4147200, 3840424, 4147200, 4147200, 4004153, 4018546, 4140665, 3752621, 3492038, 
	3377558, 3484417, 3018683, 2798252, 2726007, 2887263, 2494632, 2280945, 2250929, 2430181, 
	2086965, 1906548, 1915776, 2076198, 1782746, 4147200, 4034973, 4147200, 4147200, 
	4137494, 4131266, 4147072, 3913433, 3664793, 3538896, 3674880, 3196907, 2977014, 2886633, 
	3101056, 2654887, 2475062, 2410023, 2633600, 2231285, 2068850, 2049924, 2260352, 1902433, 
	4147200, 4140327, 4147200, 4147200, 4142835, 4144472, 4147072, 3971812, 3728040, 
	3621044, 3674880, 3278716, 3058477, 2966965, 3101056, 2726105, 2536297, 2479151, 2633600, 
	2303223, 2132109, 2112218, 2260352, 1966724, 4147200, 4143487, 4147200, 4147200, 
	4145040, 4145252, 4147072, 4021997, 3811890, 3688327, 3674880, 3365208, 3150825, 3053232, 
	3101056, 2810507, 2619706, 2559587, 2633600, 2383229, 2207307, 2188295, 2260352, 2038165, 
	4147200, 4145620, 4147200, 4147200, 4146255, 4145876, 4147072, 4051680, 3867663, 
	3734949, 3674880, 3419799, 3222531, 3108023, 3100984, 2864328, 2688581, 2612566, 2633528, 
	2435593, 2270300, 2236869, 2260280, 2085355, 4147200, 4147042, 4147200, 4147200, 
	4147065, 4146500, 4147072, 4072818, 3912463, 3774727, 3674880, 3468027, 3288106, 3157652, 
	3100928, 2913380, 2753892, 2660219, 2633472, 2483977, 2330926, 2281665, 2260224, 2129247, 
};



const unsigned int SAD_GOLDEN[SAD_TOTAL_NUM] = { //k8
	45, 112, 39, 56, 52651, 119410, 20412, 7717, 34555,
	99590, 177654, 278942, 26, 19, 26, 19, 54609, 13387,
	14283, 6315, 32297, 107046, 36529, 17121, 0, 1, 2,
	2, 56870, 17307, 14939, 5610, 31392, 107210, 192149, 103413,
	39, 41, 29, 61, 52388, 108396, 19954, 8290, 33381,
	97530, 174358, 277260, 19, 19, 19, 19, 54592, 13237,
	13853, 6520, 32206, 105572, 24667, 18201, 0, 1, 2,
	3, 56797, 17312, 12098, 5929, 31248, 105436, 188687, 78682,
	14, 30, 20, 116, 97728, 212552, 21647, 8506, 65420,
	203777, 354212, 535927, 15, 15, 16, 15, 107363, 17118,
	15575, 8497, 61770, 232352, 23362, 14958, 15, 15, 15,
	15, 110140, 21442, 19572, 7408, 60564, 238528, 349745, 47805,
	14, 39, 18, 38, 95690, 257540, 37256, 10846, 65421,
	198366, 350023, 534545, 18, 15, 16, 9659, 95293, 18145,
	18221, 10647, 61879, 247822, 24053, 15583, 15, 15, 1,
	11091, 110459, 20408, 19922, 9651, 60360, 250705, 365541, 49972,
};


/*const unsigned int SAD_GOLDEN[SAD_TOTAL_NUM] = { merlin7
	45, 42, 25, 64, 72421, 165406, 37538, 408245, 33975,
	97678, 176966, 279582, 23, 21, 21, 1366, 74967, 259338,
	81963, 25467, 44314, 123421, 227829, 16702, 27, 40, 30,
	40, 77601, 199933, 41263, 41566, 43569, 120475, 220179, 191373,
	39, 40, 97, 43, 71930, 164909, 46350, 35897, 33086,
	95951, 173844, 276185, 21, 21, 24, 22, 74848, 153588,
	55095, 24573, 44177, 122689, 225882, 17222, 2, 40, 30,
	40, 77454, 121077, 41216, 20726, 43411, 119520, 219289, 144027,
	14, 27, 52, 69, 143849, 322522, 26730, 106171, 65965,
	203582, 354858, 537108, 44, 51, 45, 51, 147548, 280578,
	46087, 26225, 88404, 249213, 33240, 30492, 6, 30, 24,
	32, 153012, 121609, 35480, 22139, 86493, 238908, 392351, 60042,
	14, 26, 30, 82, 142178, 302740, 37978, 11304, 65743,
	198960, 349420, 531773, 44, 51, 45, 51, 147966, 115618,
	135988, 10656, 88467, 246447, 27000, 16448, 15, 30, 24,
	30, 153625, 69803, 24288, 9619, 86554, 237474, 205937, 78414,
};*/

const unsigned short LBMC_CNT_GOLDEN[LBMC_MAX_TEST_ID][_LBMC_BAND_NUM_][_MC_LBMC_MODE_NUM_] = {
	{// lbmc mode 1
		/* LF */
		//	normal		single up	single down
		{MAX_LBMC_CNT, 		0, 			0},
		/* HF */
		//	normal		single up	single down
		{	0, 				0, 		MAX_LBMC_CNT},
	},
	{// lbmc mode 2
		/* LF */
		//	normal		single up	single down
		{	0, 				0, 		MAX_LBMC_CNT},
		/* HF */
		//	normal		single up	single down
		{	0, 				0, 		MAX_LBMC_CNT},
	},
	{// lbmc mode 3
		/* LF */
		//	normal		single up	single down
		{MAX_LBMC_CNT, 		0, 			0},
		/* HF */
		//	normal		single up	single down
		{MAX_LBMC_CNT, 		0, 			0},
	},
	{// lbmc mode 4
		/* LF */
		//	normal		single up	single down
		{	0, 			MAX_LBMC_CNT, 	0},
		/* HF */
		//	normal		single up	single down
		{MAX_LBMC_CNT, 		0, 			0},
	},
};

const _Param_MixMode_Region MixMode_Region_Golden = {
	4, 90, 411, 536, 2, 40, 440, 478, 40, 440, 90, 330, 			// 5 region
	40, 140, 240, 340, 440, 90, 210, 330, 411, 411, 				// 12 region
	4, 60, 120, 180, 240, 300, 360, 420, 480, 536,					// 9 region
	1, 8, 96, 16, 112, 1, 384, 472, 16, 158, 0, 283, 327, 54, 100,	// 4 region
};

const _Param_Logo_15Region Logo_Detect_Region_Golden = {
	48, 	//region15_x0
	96, 	//region15_x1
	144,	//region15_x2
	192,	//region15_x3
	25, 	//region15_y0
	91, 	//region15_y1
};

const _Param_Logo_15Region PixLogo_Detect_Region_Golden = {
	192,	//region15_x0
	384,	//region15_x1
	576,	//region15_x2
	768,	//region15_x3
	100,	//region15_y0
	440,	//region15_y1
};

const _Param_Dehalo_Logo_Region Dehalo_Logo_Region_Golden = {
	0,		//dh_logo_rgn_v0
	34, //22, 	//dh_logo_rgn_v1
	102, //103,	//dh_logo_rgn_v2
	135,	//dh_logo_rgn_v3
	0,		//dh_logo_rgn_h0
	63, //66, 	//dh_logo_rgn_h1
	90, //119,	//dh_logo_rgn_h2
	150, //144,	//dh_logo_rgn_h3
	177, //194,	//dh_logo_rgn_h4
	240,	//dh_logo_rgn_h5
};

// fb bad region check by #365
const unsigned int FB_BADREGION_MAX_CNT_GOLDEN[FB_BADREGION_CNT_NUM] = {
	25, //low threshold
	13, //mid threshold
	3,	//high threshold
	29, //all
};

// mv info check by #94
const _CHECK_REAL_STREM_MV_INFO RealStrem_MV_Info_Golden = {
	-9,		//GMV_1st_vx
	9,		//GMV_1st_vy
};

const _PTG_Param PTG_table[PTG_INDEX_NUM] = {
    //size(w,h)   		 speed(h,v)		motion							color(r,g,b)					pattern(rect/circle) 		 bg_type			bg_type0				checkerboard_size(w,h)
	{ 38, 50,			   9, 18,		4,0xF/*1111*/,					0,1023,1023,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//default
	{265,350,			   1,  1,		4,0xF/*1111*/,					0,1023,1023,						PTG_TYPE_BYPASS,			3,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//final check. this setting will raise the sc flag
	{150,200,			   1,  1,		4,0xF/*1111*/,					0,1023,1023,						PTG_TYPE_BYPASS,			3,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//final check. this setting won't raise the sc flag
	{330,245,			   1,  0,		4,0xF/*1111*/,					0,1023,1023,								0,			PTG_TYPE_BYPASS,	PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//final check. this setting will raise the sc flag
	{380,245,			   1,  0,		4,0xF/*1111*/,					0,1023,1023,								0,			PTG_TYPE_BYPASS,	PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//final check. this setting won't raise the sc flag
	{300,400,			  12, 12,		4,0xA/*1010*/,					0,1023,1023,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check for sc rmv ratio
	{300,400,			   6,  6,		4,0xF/*1111*/,					0,1023,1023,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check for sc table lv2 threshold
	{300,400,			  12, 12,		4,0xA/*1010*/,					0,1023,1023,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check for sc table lv3 threshold
	{  0,  0,			   0,  0,		4,0x0/*0000*/,	PTG_COLOR_BYPASS,PTG_COLOR_BYPASS,PTG_COLOR_BYPASS,			0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//get apl data
	{ 38, 50,			  12,  0,		4,0xF/*1111*/,				 1023,1023,1023,								1,					3,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//get gmv cnt data
	{  1,  1,			   9, 18,		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,					5	   ,					   10,					 10},	//get dtl data
	{  1,  1,			   1,  0,		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,					5	   ,					    4,					  4},	//check checkerboard position
	{ 10, 10,			   0,  0,		4,0xF/*1111*/,				 1023,   0,   0,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check squre size
	{360,270,			   2, 50,		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check lbmc mode 1
	{360,270,			   2, 60, 		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check lbmc mode 2
	{360,270,			   2,178, 		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check lbmc mode 3
	{360,270,			   2,188, 		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check lbmc mode 4
	{213,240,			   0,  0, 		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,					6	   ,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check mv info with still ptg
	{213,240,	MV_CHECK_MVX,  0, 		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,					6	   ,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check mv info with horizontal moving ptg
	{213,240,	 0, MV_CHECK_MVY, 		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,					6	   ,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check mv info with vertical moving ptg
	{  1,  1,			   0,  0, 		4,0xF/*1111*/,				 1023,1023,1023,								0,					0,			PTG_TYPE_BYPASS,	PTG_CHECKERBOARD_NONE,PTG_CHECKERBOARD_NONE},	//check logo detect threshold with cross bar
};

_Self_Check_Result Environment_Check_Result[ENVIRONMENT_CHECK_NUM] = {{0}};
_Self_Check_Result PTG_Calib_Result[PTG_CALIB_NUM] = {{0}};
_Self_Check_Result RealStream_Calib_Result[REALSTREAM_CALIB_NUM] = {{0}};
_CHECK_RESULT_AUTOREGRESSION AutoRegression_Result = {0};

_AUTOREGRESSION_ALL_RESULT AR_GOLDEN = {
{
	//stream: 0
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 65535, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{2, 2, 5, 8, 10, 9, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{6, 5, 11, 17, 20, 19, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{2, 2, 5, 8, 10, 9, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 355, 2587, 4748, 2672, 140, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 0, 138, 2335, 4544, 2397, 55, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 5, 0, 0, 11, 2388, 4787, 2402, 9, 0},
			{0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 21, 30, 7, 0, 0, 1, 2620, 5282, 2670, 23, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 39, 48, 6, 0, 0, 197, 2957, 5763, 3137, 138, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 19, 22, 2, 0, 0, 605, 3134, 5443, 3336, 408, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 656, 2876, 4747, 3052, 508, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 280, 2483, 4567, 2610, 247, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 8, 6, 0, 0, 32, 2393, 4775, 2433, 33, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 1
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 65535, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{979, 496, 666, 897, 927, 778, 509, 1203, 556, 583, 762, 995, 897, 915, 797, 440, 269, 270, 355, 386, 618},
			{1275, 1016, 959, 1046, 955, 989, 924, 1165, 842, 901, 1120, 1035, 1085, 1454, 357, 279, 437, 546, 496, 550, 899},
			{1547, 1312, 1033, 1033, 1495, 2537, 2019, 1361, 1014, 690, 826, 1079, 2021, 1941, 155, 163, 254, 321, 247, 261, 473},
			{1190, 980, 646, 611, 1640, 3606, 2862, 1237, 804, 216, 270, 844, 2474, 2163, 300, 220, 45, 36, 20, 11, 84},
			{382, 361, 244, 192, 692, 1825, 1590, 599, 362, 20, 40, 291, 1178, 1204, 315, 205, 9, 2, 4, 4, 81},
			{0, 36, 57, 34, 26, 152, 191, 112, 66, 0, 0, 0, 93, 178, 112, 66, 0, 0, 0, 0, 39},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{2, 2, 2, 0, 0, 0, 0, 98, 46, 13, 9, 2, 30, 58, 104, 66, 29, 13, 4, 30, 58},
			{5, 5, 5, 0, 0, 0, 2, 202, 101, 27, 19, 4, 58, 114, 214, 142, 61, 27, 9, 58, 114},
			{2, 2, 2, 0, 0, 0, 5, 112, 62, 13, 9, 2, 28, 56, 118, 87, 34, 13, 4, 28, 56},
			{0, 0, 0, 0, 0, 0, 2, 7, 7, 0, 0, 0, 0, 0, 7, 10, 2, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{31, 34, 69, 52, 2, 0, 0, 89, 60, 217, 265, 92, 0, 0, 80, 832, 5193, 9091, 5675, 925, 0},
			{24, 47, 154, 122, 7, 1, 0, 78, 107, 492, 622, 230, 11, 8, 71, 1007, 5941, 10186, 6363, 1107, 7},
			{9, 170, 454, 371, 86, 4, 10, 29, 251, 880, 1061, 442, 31, 31, 26, 1509, 6998, 11199, 7311, 1602, 19},
			{8, 287, 717, 590, 159, 5, 19, 11, 374, 1150, 1329, 567, 27, 37, 15, 2182, 8268, 12271, 8435, 2241, 16},
			{80, 174, 374, 302, 87, 7, 9, 95, 234, 652, 755, 325, 21, 16, 87, 2436, 8686, 12398, 8636, 2499, 6},
			{140, 58, 40, 19, 18, 11, 0, 159, 101, 216, 264, 121, 28, 4, 130, 2326, 8484, 11929, 8171, 2438, 4},
			{67, 26, 16, 6, 8, 5, 0, 75, 48, 130, 153, 58, 14, 2, 59, 1695, 6451, 8991, 6016, 1798, 1},
			{3, 0, 56, 61, 3, 0, 0, 4, 0, 123, 187, 75, 12, 0, 5, 895, 3985, 5763, 3577, 897, 0},
			{4, 0, 112, 123, 32, 25, 0, 5, 1, 211, 339, 209, 85, 1, 2, 929, 5000, 7935, 4793, 918, 0},
			{1, 6, 63, 61, 56, 54, 1, 1, 1, 109, 171, 197, 138, 2, 0, 1211, 6463, 10555, 6564, 1248, 0},
			{0, 12, 12, 0, 31, 32, 0, 0, 1, 4, 1, 67, 68, 1, 0, 884, 4676, 7751, 4867, 897, 0},
			{0, 5, 6, 0, 3, 3, 0, 0, 0, 0, 0, 3, 3, 0, 0, 277, 1471, 2458, 1541, 273, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 2
	{
		//SC
		{
			4596, 4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 65535, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{1362, 835, 1203, 2202, 2068, 1453, 1165, 1910, 964, 1075, 1487, 974, 747, 844, 1462, 1066, 837, 693, 770, 1576, 1105},
			{2000, 1429, 1546, 2066, 1760, 2094, 2195, 2492, 1293, 1108, 1390, 1230, 1232, 1218, 2109, 1411, 1294, 1184, 1501, 2677, 1731},
			{1260, 862, 1181, 1538, 1039, 1231, 1511, 1345, 690, 502, 730, 889, 938, 866, 1412, 773, 851, 830, 954, 1948, 1329},
			{294, 291, 962, 1343, 632, 223, 326, 301, 312, 541, 673, 430, 303, 217, 572, 261, 628, 697, 287, 532, 393},
			{334, 391, 1393, 2154, 1269, 318, 158, 607, 639, 1327, 1519, 652, 298, 202, 597, 566, 905, 941, 344, 370, 247},
			{1303, 910, 1638, 2571, 2053, 1381, 1150, 1847, 1132, 1593, 1893, 1167, 858, 802, 1474, 1250, 1195, 1055, 924, 1519, 980},
			{2096, 1439, 1649, 2136, 1857, 2146, 2209, 2617, 1378, 1256, 1501, 1301, 1268, 1266, 2236, 1564, 1364, 1215, 1494, 2661, 1755},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 10, 0, 0, 0, 0, 4, 13, 9},
			{0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 13, 20, 0, 0, 0, 0, 10, 26, 20},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 10, 0, 0, 0, 0, 4, 13, 9},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},

	//stream: 3
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 65535, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 0, 0, 0, 31, 33, 0, 77, 103, 36, 22, 52, 40, 26, 122, 136, 52, 82, 80, 26},
			{7, 6, 3, 13, 26, 27, 22, 6, 37, 43, 23, 29, 36, 29, 75, 89, 61, 29, 50, 60, 39},
			{14, 12, 6, 27, 52, 33, 22, 13, 25, 20, 25, 41, 32, 29, 71, 71, 32, 25, 34, 54, 61},
			{7, 6, 3, 13, 26, 16, 11, 6, 16, 14, 17, 26, 17, 15, 57, 50, 20, 17, 26, 31, 33},
			{14, 9, 4, 11, 22, 15, 10, 16, 21, 13, 15, 22, 15, 17, 94, 64, 19, 20, 36, 44, 44},
			{30, 19, 8, 23, 44, 31, 21, 34, 40, 25, 21, 31, 25, 32, 81, 73, 36, 29, 43, 71, 87},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{2268, 698, 186, 25, 2374, 6581, 5610, 0, 253, 307, 58, 129, 124, 0, 0, 2012, 9603, 11817, 5194, 932, 0},
			{2268, 840, 321, 16, 2478, 6685, 5603, 1, 494, 572, 88, 266, 256, 0, 0, 1892, 8818, 10829, 4844, 913, 0},
			{2262, 681, 162, 10, 2383, 6586, 5603, 0, 247, 287, 46, 144, 138, 0, 0, 1681, 8039, 9926, 4421, 829, 1},
			{2266, 682, 167, 19, 2379, 6583, 5604, 1, 244, 316, 88, 148, 133, 0, 0, 1844, 8836, 10898, 4820, 886, 0},
			{2268, 829, 317, 24, 2477, 6686, 5605, 3, 485, 617, 163, 284, 257, 1, 0, 1890, 8867, 10899, 4870, 921, 0},
			{2261, 679, 165, 16, 2381, 6588, 5609, 1, 245, 315, 85, 148, 134, 0, 0, 1684, 8079, 9969, 4431, 829, 1},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 4
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 65535, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 15, 15, 0, 20, 40, 0, 9, 46, 38, 2, 20, 50, 0, 56, 85, 31, 2, 0, 9},
			{2, 24, 127, 158, 56, 39, 76, 74, 168, 204, 147, 35, 36, 98, 142, 329, 239, 54, 96, 103, 31},
			{33, 109, 340, 414, 159, 41, 78, 172, 332, 430, 341, 69, 17, 61, 756, 1379, 780, 168, 280, 300, 55},
			{58, 144, 433, 569, 235, 44, 154, 122, 259, 596, 575, 120, 5, 126, 1136, 2111, 1255, 298, 275, 290, 105},
			{83, 109, 385, 510, 218, 31, 202, 126, 202, 687, 671, 172, 14, 232, 620, 1292, 985, 275, 93, 100, 130},
			{146, 185, 305, 264, 198, 131, 169, 241, 360, 585, 380, 246, 215, 291, 156, 366, 426, 157, 90, 103, 185},
			{1050, 1591, 1640, 1552, 1281, 628, 246, 1163, 2213, 2494, 2054, 1597, 965, 572, 751, 1477, 1836, 1481, 1113, 884, 795},
			{2735, 3627, 3437, 3078, 2276, 1012, 358, 3004, 4513, 4989, 4425, 2866, 1397, 722, 1970, 2966, 3855, 3451, 2240, 1568, 1259},
			{2935, 3234, 2503, 1831, 1241, 681, 329, 3368, 3525, 3457, 3028, 1643, 842, 487, 2263, 2215, 2886, 2908, 1652, 965, 693},
			{1961, 1834, 745, 400, 299, 248, 206, 2064, 1478, 821, 651, 318, 329, 252, 1444, 1021, 1065, 1175, 666, 303, 187},
			{1317, 1297, 328, 311, 284, 105, 124, 996, 809, 209, 180, 177, 137, 106, 545, 554, 436, 389, 326, 152, 136},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 2, 4, 1, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0},
			{2, 2, 4, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{1, 2, 8, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 1, 4, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 5
	{
		//SC
		{
			5257, 4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 65535, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 4, 4, 0, 0, 0, 3, 3, 4, 4, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 22, 22, 1, 1, 0, 0, 0, 22, 22, 1, 1, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 5, 40, 35, 0, 0, 0, 0, 7, 42, 35, 0, 0, 0, 0},
			{55, 0, 28, 45, 20, 11, 20, 54, 41, 25, 30, 23, 12, 18, 52, 68, 18, 7, 7, 4, 10},
			{111, 0, 56, 90, 41, 23, 41, 93, 35, 18, 60, 46, 25, 36, 82, 82, 5, 15, 15, 10, 21},
			{55, 0, 28, 45, 20, 11, 20, 44, 14, 19, 43, 26, 12, 18, 37, 37, 12, 21, 10, 4, 10},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 21, 27, 6, 0, 0, 0, 0, 21, 27, 6, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 31, 41, 13, 3, 0, 0, 0, 34, 44, 13, 3, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 7, 67, 59, 0, 0, 0, 0, 7, 73, 65, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 6
	{
		//SC
		{
			3457, 4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 65535, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 3, 5, 9, 4, 4, 4, 6, 9, 11, 12, 8, 9, 9, 9, 10, 10, 10},
			{1, 0, 0, 2, 8, 15, 25, 12, 11, 12, 16, 22, 28, 33, 25, 26, 26, 25, 25, 26, 27},
			{0, 0, 0, 2, 7, 13, 23, 12, 11, 11, 13, 16, 22, 29, 25, 25, 24, 21, 19, 20, 21},
			{0, 0, 0, 0, 1, 3, 7, 4, 3, 3, 3, 3, 5, 8, 8, 8, 7, 5, 4, 4, 5},
			{18, 15, 15, 14, 16, 18, 16, 17, 9, 7, 12, 18, 21, 18, 13, 7, 1, 5, 11, 13, 8},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{4172, 2071, 183, 0, 0, 1602, 3397, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4248, 2109, 179, 0, 0, 1643, 3627, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4310, 2148, 188, 0, 0, 1627, 3515, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4359, 2210, 218, 0, 0, 1591, 3236, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4368, 2252, 235, 0, 0, 1626, 3436, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4369, 2249, 241, 0, 0, 1710, 3784, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 7
	{
		//SC
		{
			2001, 3919, 5879, 7088, 12801, 4294967295, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 65535, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{388, 458, 315, 377, 366, 339, 308, 298, 448, 422, 381, 285, 302, 372, 181, 359, 351, 246, 231, 246, 284},
			{547, 526, 211, 353, 340, 262, 257, 223, 271, 245, 332, 282, 259, 297, 133, 208, 212, 240, 287, 636, 604},
			{456, 399, 66, 153, 150, 98, 101, 74, 72, 67, 141, 126, 99, 111, 64, 87, 86, 150, 182, 878, 834},
			{211, 223, 66, 16, 18, 15, 18, 80, 127, 80, 19, 12, 6, 13, 44, 64, 98, 100, 41, 390, 379},
			{889, 1218, 705, 73, 42, 29, 34, 1207, 1854, 982, 96, 48, 30, 39, 604, 1120, 762, 240, 93, 74, 43},
			{2110, 3409, 1991, 235, 155, 45, 48, 2638, 4477, 2453, 357, 252, 61, 65, 1261, 2762, 1806, 426, 314, 160, 85},
			{1810, 3558, 2122, 285, 220, 30, 33, 1977, 3902, 2264, 498, 423, 44, 43, 827, 2317, 1620, 397, 381, 101, 46},
			{1078, 1668, 912, 193, 155, 42, 49, 1072, 1573, 908, 397, 361, 36, 49, 710, 939, 617, 257, 291, 120, 81},
			{1606, 1076, 454, 265, 169, 99, 86, 1767, 1322, 605, 350, 323, 96, 79, 1660, 1155, 542, 271, 296, 274, 181},
			{1562, 962, 563, 472, 264, 105, 69, 1720, 1379, 683, 349, 310, 117, 57, 1617, 1401, 762, 293, 240, 227, 134},
			{518, 295, 328, 412, 201, 46, 27, 567, 481, 318, 249, 167, 48, 15, 531, 548, 364, 163, 82, 60, 30},
			{11, 25, 90, 144, 67, 7, 7, 14, 3, 53, 103, 50, 1, 3, 17, 0, 33, 41, 8, 0, 0},
			{4, 30, 25, 24, 26, 4, 5, 14, 4, 10, 35, 25, 2, 7, 26, 0, 10, 10, 0, 0, 1},
			{2, 15, 12, 11, 12, 2, 2, 7, 1, 7, 20, 12, 0, 3, 14, 0, 7, 7, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{4855, 2756, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{5079, 2929, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{5160, 2989, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4943, 2819, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4797, 2712, 0, 0, 0, 1, 219, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4797, 2728, 0, 0, 0, 2, 903, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4797, 2728, 0, 0, 0, 1, 1652, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4797, 2711, 0, 0, 0, 0, 1987, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4795, 2707, 0, 0, 0, 0, 2041, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4790, 2705, 0, 0, 0, 0, 2041, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{4925, 2839, 33, 11, 3, 0, 2040, 4, 8, 6, 2, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0},
			{5060, 2973, 67, 22, 8, 0, 2045, 8, 16, 12, 5, 0, 0, 0, 0, 0, 5, 5, 0, 0, 0},
			{4906, 2822, 33, 11, 3, 0, 2043, 4, 8, 6, 2, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0},
			{4773, 2684, 0, 0, 0, 0, 2038, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 8
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 65535, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
		
	//stream: 9
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 65535, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 10
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 65535, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3047, 7915, 9341, 6834, 2338, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3062, 7951, 9351, 6827, 2339, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3083, 7988, 9357, 6817, 2340, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3095, 8004, 9349, 6804, 2340, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3101, 8011, 9338, 6792, 2340, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3111, 8023, 9337, 6793, 2340, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3113, 8024, 9335, 6795, 2340, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3116, 8025, 9341, 6803, 2340, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3116, 8021, 9343, 6807, 2340, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 11
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 539, 1156, 693, 76, 0, 0, 65535, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{48, 41, 54, 74, 61, 45, 97, 57, 43, 56, 92, 70, 47, 172, 57, 61, 75, 421, 398, 53, 365},
			{16, 84, 151, 95, 168, 415, 504, 19, 153, 292, 217, 362, 690, 754, 21, 149, 359, 451, 493, 578, 827},
			{41, 215, 327, 179, 320, 814, 937, 115, 398, 766, 695, 840, 1397, 1287, 115, 371, 931, 1057, 981, 1197, 1075},
			{187, 229, 361, 258, 232, 466, 486, 341, 400, 872, 981, 713, 877, 674, 262, 377, 1050, 1368, 948, 852, 536},
			{251, 96, 189, 176, 96, 92, 38, 335, 146, 411, 504, 259, 253, 108, 189, 146, 491, 686, 414, 335, 133},
			{105, 11, 37, 41, 36, 39, 29, 109, 9, 56, 55, 47, 99, 53, 39, 13, 79, 194, 177, 122, 113},
			{0, 0, 12, 12, 6, 116, 137, 0, 2, 30, 27, 37, 221, 253, 0, 2, 43, 199, 212, 238, 455},
			{9, 76, 126, 76, 172, 508, 559, 10, 147, 311, 332, 526, 914, 866, 39, 188, 444, 663, 785, 909, 991},
			{100, 225, 347, 202, 324, 665, 748, 151, 393, 823, 851, 945, 1164, 971, 157, 457, 1137, 1443, 1277, 1103, 816},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},

	//stream: 12
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 65535, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{1866, 239, 383, 985, 2275, 3404, 3973, 3042, 1238, 1511, 3222, 5207, 6315, 6829, 3497, 2449, 2694, 4160, 5647, 6528, 7092},
			{804, 117, 258, 812, 2285, 3174, 2469, 1506, 676, 1313, 3846, 5677, 6038, 5291, 2333, 1424, 2534, 5677, 6306, 5662, 6155},
			{388, 170, 206, 569, 1420, 1475, 949, 1205, 622, 894, 2697, 3851, 3591, 3012, 2418, 1175, 1769, 4413, 4555, 3443, 4331},
			{499, 558, 421, 493, 1064, 676, 642, 1840, 1716, 1258, 1341, 2258, 2142, 2359, 3095, 2178, 1623, 2275, 2528, 2143, 3371},
			{806, 1161, 775, 338, 1204, 1034, 690, 2667, 3335, 1993, 761, 2066, 2326, 2380, 3066, 3237, 1974, 1506, 2060, 2049, 3156},
			{1195, 1578, 983, 196, 980, 1039, 784, 3321, 3521, 1962, 585, 1660, 2104, 2461, 3240, 3118, 1972, 1560, 1940, 1962, 3293},
			{1004, 1427, 901, 170, 696, 940, 1014, 2834, 3038, 1879, 579, 1090, 1907, 2802, 3376, 3115, 2149, 1558, 1499, 1804, 3257},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 6, 14, 8, 0, 0, 0, 0, 3, 10, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 16, 31, 15, 0, 0, 0, 0, 8, 20, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 3, 20, 23, 7, 0, 0, 0, 3, 10, 13, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 6, 16, 9, 0, 0, 0, 0, 6, 13, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 4, 7, 3, 0, 0, 0, 0, 4, 7, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 6, 6, 0, 0, 0, 0, 0, 5, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 9, 9, 0, 0, 0, 0, 0, 8, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 13
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{45, 157, 168, 32, 601, 1160, 684, 498, 746, 494, 146, 484, 1006, 945, 1204, 1301, 618, 490, 391, 451, 630},
			{55, 157, 129, 18, 340, 813, 530, 410, 1125, 957, 211, 328, 1047, 1123, 1103, 1898, 1436, 598, 291, 620, 849},
			{75, 160, 94, 4, 357, 767, 434, 331, 1045, 882, 125, 432, 1150, 1009, 885, 1842, 1718, 733, 466, 779, 926},
			{82, 109, 39, 1, 364, 674, 344, 336, 590, 383, 43, 435, 869, 622, 762, 1360, 1158, 561, 600, 739, 825},
			{52, 65, 23, 11, 160, 265, 139, 498, 541, 118, 52, 193, 306, 239, 1067, 1274, 622, 306, 461, 647, 668},
			{13, 53, 41, 27, 118, 95, 38, 586, 642, 72, 90, 170, 193, 236, 1127, 1024, 313, 288, 343, 531, 763},
			{122, 60, 63, 34, 205, 190, 65, 580, 382, 157, 174, 339, 406, 486, 837, 556, 267, 337, 375, 547, 1100},
			{421, 107, 104, 49, 184, 172, 50, 1096, 454, 333, 244, 362, 363, 561, 1411, 871, 475, 456, 475, 518, 1224},
			{966, 345, 259, 205, 246, 182, 230, 2286, 1218, 526, 372, 377, 437, 882, 2594, 1762, 655, 611, 502, 623, 1550},
			{1445, 725, 636, 512, 439, 523, 886, 3343, 1946, 916, 656, 556, 1210, 1926, 3416, 2273, 815, 589, 684, 1707, 2485},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 2, 20, 18, 0, 0, 0, 0, 2, 20, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 6, 84, 88, 9, 0, 0, 0, 6, 84, 85, 6, 0, 1, 0, 0, 0, 0, 0, 0, 2},
			{0, 5, 108, 132, 26, 0, 0, 0, 5, 107, 123, 19, 0, 2, 0, 0, 0, 0, 0, 0, 3},
			{0, 1, 44, 75, 31, 1, 0, 0, 1, 43, 67, 24, 0, 0, 0, 0, 0, 0, 0, 0, 1},
			{0, 0, 0, 18, 19, 2, 0, 0, 0, 0, 16, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 4, 5, 1, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{25, 0, 0, 0, 0, 0, 1, 34, 0, 0, 0, 0, 0, 1, 30, 0, 0, 0, 0, 0, 0},
			{50, 0, 0, 0, 0, 0, 2, 68, 0, 0, 0, 0, 0, 2, 60, 0, 0, 0, 0, 0, 0},
			{25, 0, 0, 0, 0, 0, 0, 34, 0, 0, 0, 0, 0, 0, 30, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 14
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 65535, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{505, 468, 331, 321, 421, 377, 423, 474, 299, 375, 275, 237, 417, 402, 278, 299, 449, 453, 155, 206, 361},
			{322, 223, 114, 111, 162, 245, 472, 475, 274, 218, 169, 104, 266, 710, 454, 381, 321, 310, 60, 122, 418},
			{99, 53, 10, 20, 35, 159, 352, 244, 154, 93, 65, 21, 156, 580, 323, 270, 137, 112, 5, 36, 288},
			{9, 20, 12, 33, 39, 82, 130, 49, 52, 34, 13, 6, 62, 181, 135, 163, 58, 12, 87, 152, 182},
			{3, 8, 5, 16, 24, 26, 197, 63, 28, 15, 0, 11, 26, 244, 250, 227, 424, 884, 696, 328, 373},
			{0, 0, 0, 0, 9, 61, 637, 132, 20, 7, 1, 18, 94, 877, 654, 454, 838, 2136, 1525, 373, 767},
			{0, 0, 0, 0, 3, 113, 769, 195, 200, 318, 317, 267, 232, 1151, 1392, 1046, 1135, 2113, 1826, 1118, 1348},
			{21, 0, 0, 0, 0, 80, 347, 272, 391, 957, 1136, 747, 313, 580, 2012, 1672, 1981, 2043, 2283, 2357, 1432},
			{52, 0, 0, 0, 0, 18, 35, 423, 515, 1724, 2162, 1041, 221, 75, 2111, 1999, 3092, 3030, 2562, 2149, 665},
			{58, 0, 4, 4, 0, 0, 0, 637, 866, 2258, 2569, 1088, 114, 8, 2153, 1928, 3745, 3797, 1799, 842, 138},
			{233, 0, 10, 10, 0, 0, 80, 831, 810, 1843, 1993, 926, 101, 98, 2082, 1191, 3180, 3238, 1093, 292, 116},
			{434, 0, 4, 4, 0, 0, 165, 838, 282, 934, 1146, 550, 81, 174, 1407, 361, 1630, 1795, 727, 344, 154},
			{265, 0, 0, 0, 0, 0, 87, 461, 21, 268, 383, 163, 27, 87, 508, 53, 409, 515, 280, 282, 162},
			{58, 0, 0, 0, 0, 0, 3, 245, 129, 102, 88, 67, 25, 3, 247, 165, 152, 116, 124, 182, 106},
			{253, 0, 0, 0, 0, 0, 0, 1290, 490, 490, 412, 421, 265, 95, 1229, 727, 760, 462, 529, 444, 192},
			{443, 0, 0, 0, 0, 0, 0, 2585, 699, 885, 738, 745, 495, 190, 2442, 1267, 1439, 786, 915, 804, 438},
			{211, 0, 0, 0, 0, 0, 0, 2052, 446, 688, 572, 495, 294, 95, 2061, 986, 1164, 610, 592, 593, 441},
			{0, 0, 0, 0, 0, 0, 0, 704, 108, 203, 169, 103, 39, 0, 774, 306, 368, 191, 120, 153, 163},
			{56, 0, 0, 0, 0, 0, 0, 311, 0, 535, 1074, 530, 0, 3, 346, 112, 642, 1189, 629, 70, 61},
			{275, 0, 0, 0, 0, 0, 0, 832, 3, 1648, 3290, 1618, 1, 16, 1014, 325, 2045, 3745, 1855, 479, 478},
			{397, 0, 0, 0, 0, 0, 0, 1161, 15, 1724, 3391, 1666, 28, 60, 1555, 557, 2429, 4276, 2255, 1031, 1114},
			{232, 0, 0, 2, 0, 0, 0, 734, 127, 734, 1209, 802, 242, 91, 1501, 1213, 1707, 2199, 1880, 1253, 1216},
			{111, 0, 2, 4, 2, 0, 0, 619, 369, 588, 400, 738, 579, 48, 2245, 1714, 1701, 1146, 2014, 1581, 721},
			{75, 0, 0, 2, 0, 0, 0, 917, 711, 1293, 968, 1027, 659, 4, 2790, 1475, 2241, 1504, 2235, 1808, 231},
			{18, 0, 0, 0, 0, 0, 0, 750, 1164, 2218, 1629, 1017, 488, 0, 1993, 1587, 3289, 2363, 1826, 1389, 187},
			{29, 0, 0, 0, 0, 0, 2, 1071, 1146, 2480, 2061, 941, 268, 2, 2036, 1494, 3949, 3331, 1377, 947, 429},
			{76, 0, 0, 0, 0, 0, 5, 1768, 497, 1756, 2154, 950, 83, 5, 2556, 905, 3035, 3388, 1305, 674, 691},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 737, 1351, 2028, 2495, 2049, 1465, 536, 737, 1351, 2028, 2495, 2049, 1472, 544},
			{0, 0, 0, 0, 0, 0, 0, 1410, 2466, 2908, 3222, 3122, 2920, 1317, 1410, 2466, 2908, 3222, 3122, 2923, 1320},
			{0, 0, 0, 0, 0, 0, 0, 1928, 3161, 3352, 3615, 3765, 4036, 2067, 1928, 3161, 3352, 3615, 3765, 4037, 2067},
			{0, 0, 0, 0, 0, 0, 0, 1542, 2431, 2514, 2737, 2899, 3254, 1767, 1542, 2431, 2514, 2737, 2899, 3254, 1767},
			{0, 0, 0, 0, 0, 0, 0, 536, 834, 862, 959, 1039, 1171, 642, 536, 834, 862, 959, 1039, 1171, 642},
			{0, 0, 0, 0, 0, 0, 0, 15, 21, 21, 34, 51, 59, 30, 15, 21, 21, 34, 51, 59, 30},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 56, 274, 352, 133, 0, 0, 0, 56, 274, 353, 133, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 317, 1171, 1381, 526, 0, 0, 0, 317, 1171, 1383, 526, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 507, 1686, 1876, 697, 0, 0, 0, 507, 1686, 1877, 697, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 289, 957, 1019, 350, 0, 0, 0, 289, 957, 1019, 350, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 42, 167, 171, 45, 0, 0, 0, 42, 167, 171, 45, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 24, 142, 312, 190, 0, 0, 0, 24, 142, 312, 190, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 272, 719, 1207, 779, 24, 0, 0, 272, 719, 1207, 779, 24, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 481, 1024, 1522, 1054, 72, 0, 0, 481, 1024, 1522, 1054, 72, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 244, 463, 673, 532, 72, 0, 0, 244, 463, 673, 532, 72, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 10, 77, 179, 133, 24, 0, 0, 10, 77, 179, 133, 24, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 317, 780, 448, 0, 0, 0, 0, 317, 780, 448, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 661, 1649, 967, 0, 0, 0, 0, 661, 1649, 967, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 619, 1490, 856, 0, 0, 0, 0, 619, 1490, 856, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 222, 510, 283, 0, 0, 0, 0, 222, 510, 283, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 92, 464, 733, 439, 81, 0, 0, 92, 464, 733, 439, 81, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 340, 1431, 2187, 1421, 319, 0, 0, 340, 1431, 2187, 1421, 319, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 559, 1916, 2763, 1927, 503, 0, 0, 559, 1916, 2763, 1927, 503, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 466, 1350, 1782, 1288, 374, 0, 0, 466, 1350, 1782, 1288, 374, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 155, 427, 574, 413, 108, 0, 0, 155, 427, 574, 413, 108, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 15
	{
		//SC
		{
			5048, 11453, 17857, 24262, 30667, 36271, 4294967295, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 65535, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{1375, 1957, 1446, 699, 580, 893, 750, 864, 937, 444, 258, 255, 402, 339, 6, 0, 0, 203, 204, 20, 171},
			{598, 1386, 1681, 1043, 582, 624, 444, 321, 380, 400, 379, 217, 247, 205, 23, 0, 8, 208, 203, 14, 123},
			{871, 1171, 1766, 1365, 431, 241, 161, 386, 334, 424, 466, 153, 84, 72, 42, 0, 37, 282, 249, 6, 97},
			{1757, 1769, 2180, 1973, 712, 199, 127, 728, 683, 582, 587, 243, 95, 66, 69, 12, 71, 338, 303, 73, 141},
			{1232, 1605, 1682, 1583, 836, 315, 170, 404, 543, 500, 440, 265, 151, 93, 216, 163, 131, 276, 309, 286, 260},
			{247, 519, 465, 439, 321, 150, 79, 33, 143, 162, 118, 95, 70, 41, 483, 493, 285, 180, 261, 394, 303},
			{0, 0, 0, 0, 0, 0, 1, 5, 0, 0, 0, 0, 2, 17, 810, 662, 404, 123, 190, 287, 252},
			{19, 10, 0, 0, 0, 0, 0, 55, 16, 4, 0, 0, 5, 34, 1032, 557, 375, 147, 221, 266, 257},
			{130, 54, 0, 0, 0, 0, 0, 197, 97, 20, 0, 0, 2, 16, 1029, 543, 357, 227, 313, 360, 274},
			{259, 105, 11, 9, 18, 10, 2, 328, 198, 42, 0, 10, 10, 2, 1047, 584, 331, 229, 305, 406, 261},
			{205, 94, 29, 21, 42, 23, 7, 271, 189, 49, 4, 114, 162, 90, 929, 450, 203, 127, 354, 622, 406},
			{56, 38, 22, 14, 29, 16, 4, 100, 92, 33, 19, 234, 335, 195, 562, 335, 132, 102, 513, 849, 582},
			{0, 5, 5, 2, 5, 3, 1, 10, 20, 9, 27, 175, 244, 146, 366, 343, 162, 123, 487, 654, 544},
			{0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 11, 56, 79, 56, 331, 292, 145, 77, 336, 418, 463},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 19, 17, 298, 185, 100, 92, 210, 267, 283},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 205, 127, 99, 124, 107, 80, 66},
			{6, 6, 0, 11, 11, 13, 13, 20, 8, 4, 12, 12, 24, 21, 102, 87, 119, 94, 48, 35, 29},
			{13, 13, 0, 23, 23, 27, 27, 42, 17, 8, 25, 25, 49, 43, 85, 62, 124, 69, 21, 47, 43},
			{6, 6, 0, 11, 11, 13, 13, 20, 8, 4, 12, 12, 24, 21, 42, 28, 56, 30, 7, 19, 19},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 38},
			{16, 24, 23, 18, 10, 5, 8, 10, 9, 16, 21, 17, 10, 15, 6, 21, 17, 2, 13, 16, 64},
			{33, 49, 48, 37, 20, 11, 16, 22, 18, 33, 42, 36, 21, 31, 12, 42, 35, 5, 27, 29, 70},
			{16, 24, 23, 18, 10, 5, 8, 10, 9, 16, 21, 17, 10, 15, 5, 21, 17, 2, 13, 13, 28},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{46, 72, 26, 0, 40, 78, 37, 30, 88, 57, 0, 19, 62, 59, 7, 38, 31, 0, 0, 44, 60},
			{90, 143, 52, 0, 82, 156, 76, 60, 177, 116, 0, 39, 124, 118, 14, 77, 63, 0, 0, 88, 120},
			{44, 71, 26, 0, 40, 78, 37, 30, 88, 57, 0, 19, 62, 59, 7, 38, 31, 0, 0, 44, 60},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 5},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 0, 0, 0, 0, 12},
			{0, 0, 12, 12, 28, 28, 0, 0, 0, 16, 16, 21, 21, 14, 15, 20, 13, 8, 11, 11, 29},
			{0, 0, 25, 25, 57, 57, 1, 0, 0, 32, 32, 43, 43, 10, 31, 41, 27, 16, 24, 24, 41},
			{0, 0, 12, 12, 28, 28, 0, 0, 0, 16, 16, 21, 21, 3, 15, 20, 13, 8, 11, 11, 19},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 1, 36, 80, 45, 0, 37, 0, 2, 38, 101, 65, 0, 0, 0, 0, 1, 20, 19, 16, 16},
			{0, 4, 154, 343, 192, 0, 382, 0, 10, 164, 427, 274, 0, 0, 0, 2, 8, 83, 79, 179, 181},
			{0, 6, 199, 450, 248, 0, 1133, 0, 13, 212, 550, 352, 0, 0, 0, 4, 11, 106, 101, 547, 554},
			{0, 2, 81, 193, 101, 0, 1747, 0, 5, 86, 224, 143, 0, 0, 0, 1, 4, 43, 40, 860, 867},
			{0, 0, 0, 6, 0, 0, 1920, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 956, 959},
			{0, 0, 0, 0, 0, 0, 1920, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 958, 959},
			{0, 0, 0, 0, 0, 0, 1846, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 954, 956},
			{0, 0, 0, 0, 0, 0, 1293, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 940, 946},
			{0, 0, 0, 0, 0, 0, 406, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 918, 934},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 903, 927},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 927},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 925},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 921},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 920},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 921},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 929},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 939},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 937},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 933},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 935},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 935},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 932},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 897, 920},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 890, 908},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 888, 904},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 889, 903},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 893, 906},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 898, 909},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 900, 906},
			{0, 0, 3, 38, 35, 0, 32, 0, 0, 4, 30, 27, 0, 0, 0, 0, 1, 2, 1, 902, 905},
			{0, 425, 1924, 3512, 2496, 528, 414, 28, 411, 1744, 3148, 2269, 489, 21, 26, 104, 427, 786, 580, 1097, 972},
			{7, 1942, 8466, 14500, 10211, 2416, 1297, 478, 2338, 7890, 13186, 9871, 3024, 702, 466, 941, 2214, 3612, 3034, 2509, 1758},
			{10, 3238, 14743, 24648, 16906, 4013, 1989, 1522, 4592, 13920, 22570, 16851, 6014, 2129, 1503, 2306, 4188, 6450, 5607, 4539, 3266},
			{4, 2350, 13418, 21475, 13183, 2908, 2064, 1725, 3850, 12989, 20201, 13398, 4944, 2257, 1716, 2227, 3970, 5877, 4598, 4187, 3404},
			{0, 628, 8339, 11132, 4223, 801, 1950, 656, 1233, 8666, 11496, 4590, 1498, 828, 656, 791, 2529, 3401, 1658, 2069, 1953},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 16
	{
		//SC
		{
			3030, 4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 65535, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{6, 0, 3, 3, 0, 25, 26, 10, 0, 0, 8, 8, 14, 18, 6, 5, 5, 13, 13, 0, 7},
			{14, 0, 6, 7, 1, 51, 52, 22, 0, 1, 17, 16, 28, 37, 12, 10, 10, 27, 27, 0, 15},
			{8, 0, 4, 4, 0, 25, 26, 12, 0, 1, 8, 8, 14, 18, 6, 5, 5, 13, 13, 0, 7},
			{7, 1, 4, 2, 0, 13, 13, 14, 1, 1, 9, 9, 5, 8, 9, 7, 7, 9, 9, 0, 5},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{6213, 5383, 1742, 1285, 993, 942, 407, 1179, 851, 1738, 3023, 2732, 1671, 544, 3150, 1535, 1855, 3371, 2732, 975, 166},
			{6745, 5920, 1990, 1573, 1463, 1415, 592, 2042, 1264, 1364, 2629, 3022, 2436, 961, 4042, 2027, 1598, 3002, 2744, 1395, 428},
			{6626, 5305, 1256, 877, 960, 987, 420, 1127, 851, 1130, 1912, 2092, 1671, 750, 2774, 1675, 1369, 2137, 1785, 910, 360},
			{6314, 5228, 1365, 988, 917, 732, 228, 881, 846, 1545, 2316, 2048, 1105, 335, 2673, 1733, 1850, 2689, 1936, 598, 111},
			{6352, 5839, 2057, 1684, 1541, 1099, 267, 1810, 1285, 1562, 2558, 2672, 1658, 416, 3677, 2042, 1876, 3064, 2531, 983, 160},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 17
	{
		//SC
		{
			4848, 4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 65535, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{111, 181, 1099, 2204, 1803, 902, 719, 0, 132, 436, 911, 765, 327, 217, 880, 790, 899, 853, 841, 870, 1066},
			{118, 167, 903, 1770, 1448, 727, 580, 3, 202, 430, 635, 615, 432, 294, 869, 727, 882, 759, 713, 808, 975},
			{68, 107, 434, 824, 843, 540, 320, 6, 184, 258, 208, 369, 402, 216, 579, 523, 586, 438, 453, 529, 618},
			{150, 156, 135, 161, 270, 250, 117, 148, 245, 142, 16, 128, 189, 92, 266, 312, 266, 147, 170, 215, 237},
			{275, 259, 253, 414, 400, 308, 232, 290, 370, 216, 208, 202, 144, 103, 280, 317, 255, 135, 124, 166, 185},
			{185, 190, 626, 1252, 1010, 609, 512, 145, 256, 331, 522, 437, 300, 237, 480, 380, 454, 365, 338, 391, 484},
			{108, 148, 829, 1527, 1183, 658, 526, 2, 189, 401, 471, 425, 409, 300, 665, 494, 678, 605, 559, 635, 789},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{0, 1058, 2698, 3087, 2742, 1282, 0, 0, 0, 0, 0, 0, 0, 0, 1908, 3526, 1597, 1047, 3197, 4353, 2199},
			{14, 390, 1009, 1123, 969, 465, 1, 0, 1, 3, 1, 1, 3, 1, 2321, 4301, 1957, 1302, 3870, 5146, 2580},
			{27, 39, 108, 77, 56, 46, 2, 1, 3, 7, 4, 4, 7, 2, 2376, 4481, 2083, 1366, 4031, 5312, 2652},
			{17, 405, 1010, 1111, 1025, 495, 4, 14, 14, 14, 9, 4, 4, 3, 1777, 3460, 1673, 1054, 3105, 4124, 2071},
			{8, 1190, 2949, 3344, 3028, 1415, 6, 28, 26, 21, 15, 4, 2, 4, 1226, 2382, 1160, 720, 2125, 2860, 1445},
			{4, 1326, 3147, 3451, 3090, 1442, 3, 13, 13, 10, 7, 2, 1, 2, 1547, 2894, 1338, 869, 2611, 3511, 1762},
			{8, 669, 1361, 1270, 1107, 523, 0, 0, 1, 3, 1, 0, 1, 0, 2254, 4193, 1914, 1269, 3778, 5026, 2516},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 18
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 65535, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{2170, 1656, 1507, 841, 386, 958, 1353, 2505, 1940, 1340, 271, 197, 385, 371, 1597, 1540, 1341, 546, 476, 221, 78},
			{1614, 1479, 1555, 1436, 644, 910, 1049, 2074, 2082, 1786, 1557, 928, 1016, 875, 1619, 2101, 1718, 1341, 922, 714, 690},
			{2024, 2066, 1675, 2078, 898, 569, 638, 2584, 2847, 2285, 2923, 1480, 1172, 1098, 1961, 2338, 2105, 2604, 1462, 1215, 1400},
			{2396, 2387, 1202, 1489, 614, 205, 298, 3414, 3758, 2167, 2609, 1084, 595, 674, 2853, 3366, 2438, 2757, 1251, 984, 1205},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{8793, 9404, 8076, 8845, 8460, 6275, 4817, 8900, 9417, 8163, 8672, 8317, 6632, 5047, 13961, 12254, 6979, 5976, 5739, 5298, 3648},
			{8716, 9450, 8263, 9203, 8771, 6412, 4888, 8880, 9475, 8297, 9018, 8503, 6446, 4901, 14027, 12380, 6987, 6016, 5575, 4526, 3050},
			{8457, 9263, 8268, 9402, 8833, 6276, 4802, 8676, 9258, 8175, 9067, 8406, 6100, 4677, 13756, 12116, 6880, 5934, 5380, 4051, 2690},
			{8184, 9035, 8086, 9205, 8586, 6063, 4683, 8315, 8883, 7813, 8689, 8043, 5841, 4543, 13186, 11526, 6688, 5762, 5192, 3940, 2637},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
	
	//stream: 19
	{
		//SC
		{
			4294967295, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//GFB
		{
			0, 0, 0, 0, 0, 0, 0, 65535, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
		},
		//LFB
		{{
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},
		//Block LOGO
		{{{
			{3219, 901, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{3231, 907, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{3236, 907, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{3236, 906, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{3238, 914, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{3239, 920, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{3239, 930, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
			{65535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		},},},
	},
},
};

#ifndef BUILD_QUICK_SHOW
#if SAVE_FILE_CONFIG
#include <asm/uaccess.h>
#include <linux/uaccess.h>
#include <linux/version.h>

struct file* memc_file_open(const char* path, int flags, int rights)
{
	struct file* filp = NULL;
	mm_segment_t oldfs;
	int err = 0;

#if LINUX_VERSION_CODE < KERNEL_VERSION(5,0,0)
	oldfs = get_fs();
	set_fs(get_ds());
#elif LINUX_VERSION_CODE < KERNEL_VERSION(5,10,0)
	oldfs = get_fs();
	set_fs(KERNEL_DS);
#else
	oldfs = force_uaccess_begin();
#endif

	filp = filp_open(path, flags, rights);

#if LINUX_VERSION_CODE < KERNEL_VERSION(5,10,0)
	set_fs(oldfs);
#else
	force_uaccess_end(oldfs);
#endif

	if(IS_ERR(filp)) {
		err = PTR_ERR(filp);
//		rtd_pr_memc_emerg("[%s] path,%s, err,%d\n", __FUNCTION__, path, err);
		return NULL;
	}

	return filp;
}

int memc_file_read(struct file* file, unsigned long long offset, unsigned char* data, unsigned int size)
{
	mm_segment_t oldfs;
	int ret;

#if LINUX_VERSION_CODE < KERNEL_VERSION(5,0,0)
	oldfs = get_fs();
	set_fs(KERNEL_DS);
#elif LINUX_VERSION_CODE < KERNEL_VERSION(5,10,0)
	oldfs = get_fs();
	set_fs(KERNEL_DS);
#else
	oldfs = force_uaccess_begin();
#endif

	ret = kernel_read(file, data, size, &offset);
//	ret = vfs_write(file, data, size, &offset);

#if LINUX_VERSION_CODE < KERNEL_VERSION(5,10,0)
	set_fs(oldfs);
#else
	force_uaccess_end(oldfs);
#endif

	return ret;
}

int memc_file_write(struct file* file, unsigned long long offset, unsigned char* data, unsigned int size)
{
	mm_segment_t oldfs;
	int ret;

#if LINUX_VERSION_CODE < KERNEL_VERSION(5,0,0)
	oldfs = get_fs();
	set_fs(KERNEL_DS);
#elif LINUX_VERSION_CODE < KERNEL_VERSION(5,10,0)
	oldfs = get_fs();
	set_fs(KERNEL_DS);
#else
	oldfs = force_uaccess_begin();
#endif

	ret = kernel_write(file, data, size, &offset);
//	ret = vfs_write(file, data, size, &offset);

#if LINUX_VERSION_CODE < KERNEL_VERSION(5,10,0)
	set_fs(oldfs);
#else
	force_uaccess_end(oldfs);
#endif

	return ret;
}

int memc_file_sync(struct file* file)
{
	vfs_fsync(file, 0);
	return 0;
}

void memc_file_close(struct file* file)
{
	filp_close(file, NULL);
}
#endif //SAVE_FILE_CONFIG
#endif //BUILD_QUICK_SHOW

void UnsignedValue_To_Char(unsigned int u32_Val, char* Ascii)
{
	unsigned int u32_tmp = 0;
	unsigned char u8_count = 0;
	char s8_i;

	if(u32_Val==0){
		Ascii[0] = ASCII_0;
		return;
	}

	for(u32_tmp=u32_Val; u32_tmp!=0; u32_tmp/=10, u8_count++);

	for(s8_i=u8_count-1, u32_tmp=u32_Val; s8_i>=0; s8_i--) {
		Ascii[(unsigned char)s8_i] = (u32_tmp%10)+ASCII_0;
		u32_tmp/=10;
	}
}

void Char_To_UnsignedValue(char* Ascii, unsigned char* u8_Val)
{
#ifdef BUILD_QUICK_SHOW
	return;
#else
	unsigned int u32_tmp = 0, u32_scale = 1;
	unsigned char u8_i = 0, string_len = 0;
	char s8_i = 0;

	for(u8_i=0; u8_i<strlen(Ascii) && (unsigned char)Ascii[u8_i]>=ASCII_0 && (unsigned char)Ascii[u8_i]<=ASCII_9; u8_i++, string_len++); 

	for(s8_i=string_len-1; s8_i>=0; s8_i--) {
		u32_tmp +=  ((unsigned char)(Ascii[(unsigned char)s8_i])-ASCII_0) * u32_scale;
		u32_scale *= 10;
	}

	*u8_Val = u32_tmp;
#endif
}

unsigned int Encode_Stream_Id(unsigned int Stream_Id)
{
	return 1<<(_MIN_(Stream_Id, 31));
}

unsigned int Get_Basic_Info_Check_Std_Num(unsigned int u32_total_num) {
	unsigned long long u64_val = ((((unsigned long long)u32_total_num)*870)>>10);
	return (unsigned int) u64_val;
}

unsigned int Get_Time_sec(void) {
	return ((((unsigned long long)rtd_inl(TIMER_SCPU_CLK90K_LO_reg))*3)>>18); // 3/262144 = 1/90000
}

unsigned int Get_Time_ms(void) {
	return ((((unsigned long long)rtd_inl(TIMER_SCPU_CLK90K_LO_reg))*91)>>13); // 91/8192 = 1/90
}

unsigned int Get_80_percent(unsigned int u32_val) {
	unsigned long long u64_val = ((((unsigned long long)u32_val)*819)>>10);
	return (unsigned int) u64_val;
}

unsigned int Get_10_percent(unsigned int u32_val) {
	unsigned long long u64_val = ((((unsigned long long)u32_val)*102)>>10);
	return (unsigned int) u64_val;
}

unsigned int Get_15_percent(unsigned int u32_val) {
	unsigned long long u64_val = ((((unsigned long long)u32_val)*154)>>10);
	return (unsigned int) u64_val;
}

unsigned int Get_90_percent(unsigned int u32_val) {
	unsigned long long u64_val = ((((unsigned long long)u32_val)*921)>>10);
	return (unsigned int) u64_val;
}

unsigned int Get_110_percent(unsigned int u32_val) {
	unsigned long long u64_val = ((((unsigned long long)u32_val)*1127)>>10);
	u64_val = _MIN_(u64_val, 0xffffffff);
	return (unsigned int) u64_val;
}

unsigned int Get_120_percent(unsigned int u32_val) {
	unsigned long long u64_val = ((((unsigned long long)u32_val)*1229)>>10);
	u64_val = _MIN_(u64_val, 0xffffffff);
	return (unsigned int) u64_val;
}

unsigned int Get_SAD_Up_Boundary(unsigned short u16_index){
	return (SAD_GOLDEN[u16_index]*171)>>7;
}

unsigned int Get_SAD_Down_Boundary(unsigned short u16_index){
	return (SAD_GOLDEN[u16_index]*85)>>7;
}

VOID Close_Cross(void)
{
	ippre_ippre_00_RBUS ippre_ippre_00;
	ippre_ippre_00.regValue = rtd_inl(IPPRE_IPPRE_00_reg);
	ippre_ippre_00.inp_cursor_show = 0;
	ippre_ippre_00.inp_cursor_en = 0;
	rtd_outl(IPPRE_IPPRE_00_reg, ippre_ippre_00.regValue);
}

VOID Set_Cross(unsigned short u16_pos_x, unsigned short u16_pos_y)
{
	ippre_ippre_00_RBUS ippre_ippre_00;
	ippre_ippre_00.regValue = rtd_inl(IPPRE_IPPRE_00_reg);
	ippre_ippre_00.inp_cursor_show = 1;
	ippre_ippre_00.inp_cursor_en = 1;
	ippre_ippre_00.inp_cursor_h = _MIN_(u16_pos_x, 0x1fff);
	ippre_ippre_00.inp_cursor_v = _MIN_(u16_pos_y, 0x1fff);
	rtd_outl(IPPRE_IPPRE_00_reg, ippre_ippre_00.regValue);
}

VOID Set_KPOST_Cross(bool u1_show_en, unsigned short u16_pos_x, unsigned short u16_pos_y)
{
	kpost_top_kpost_top_00_RBUS kpost_top_kpost_top_00;
	kpost_top_kpost_top_00.regValue = rtd_inl(KPOST_TOP_KPOST_TOP_00_reg);
	kpost_top_kpost_top_00.post_cursor_show = u1_show_en;
	kpost_top_kpost_top_00.post_cursor_en = u1_show_en;
	kpost_top_kpost_top_00.post_cursor_h = _MIN_(u16_pos_x, 0x1fff);
	kpost_top_kpost_top_00.post_cursor_v = _MIN_(u16_pos_y, 0x1fff);
	rtd_outl(KPOST_TOP_KPOST_TOP_00_reg, kpost_top_kpost_top_00.regValue);
}

_PTG_RGB Get_RGB(unsigned short u16_pos_x, unsigned short u16_pos_y)
{
	_PTG_RGB RGB = {0,0,0};
	ippre_ippre_f8_RBUS ippre_ippre_f8;
	Set_Cross(u16_pos_x, u16_pos_y);
	// get color
	ippre_ippre_f8.regValue = rtd_inl(IPPRE_IPPRE_F8_reg);
	RGB.u10_r = ippre_ippre_f8.regr_inp_cursor_fd_r;
	RGB.u10_g = ippre_ippre_f8.regr_inp_cursor_fd_g;
	RGB.u10_b = ippre_ippre_f8.regr_inp_cursor_fd_b;
	return RGB;
}

BOOL PTG_Same_Color(_PTG_RGB RGB_1, _PTG_RGB RGB_2)
{
	if(RGB_1.u10_r != RGB_2.u10_r){
		return false;
	}else if(RGB_1.u10_g != RGB_2.u10_g){
		return false;
	}else if(RGB_1.u10_b != RGB_2.u10_b){
		return false;
	}
	return true;
}

VOID Close_PTG(void)
{
	WriteRegister(IPPRE_IPPRE_20_reg, 7, 7, 0);
}

VOID StopMove_PTG(void)
{
	WriteRegister(IPPRE_IPPRE_60_reg, 29, 29, 0);
}

VOID StartMove_PTG(void)
{
	WriteRegister(IPPRE_IPPRE_60_reg, 29, 29, 1);
}

void Set_Checkerboard_Size(unsigned char u8_width, unsigned char u8_height)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	PQL_OUTPUT_RESOLUTION output_Resolution = s_pContext->_external_data._output_resolution;
	if(output_Resolution==_PQL_OUT_3840x1080) {//4k1k
		u8_height = u8_height>>1; //checkerboard height(4k1k:0.5*height, other:height)
	}
#if IC_K25
	u8_width *= 2;
#endif
#ifdef H5C2 //checkerboard width(h5c:0.5*width, other:width)
	u8_width = u8_width>>1;
#endif
	WriteRegister(IPPRE_IPPRE_28_reg, 0, 7, u8_width); 	
	WriteRegister(IPPRE_IPPRE_28_reg, 8,15, u8_height);	
}

VOID Set_PTG(unsigned char u8_id)
{
	ippre_ippre_20_RBUS ippre_ippre_20;
	ippre_ippre_50_RBUS ippre_ippre_50;
	ippre_ippre_54_RBUS ippre_ippre_54;
	ippre_ippre_58_RBUS ippre_ippre_58;
	ippre_ippre_60_RBUS ippre_ippre_60;
	ippre_ippre_70_RBUS ippre_ippre_70;
	ippre1_ippre1_54_RBUS ippre1_ippre1_54;
	
	ippre_ippre_20.regValue = rtd_inl(IPPRE_IPPRE_20_reg);
	ippre_ippre_50.regValue = rtd_inl(IPPRE_IPPRE_50_reg);
	ippre_ippre_54.regValue = rtd_inl(IPPRE_IPPRE_54_reg);
	ippre_ippre_58.regValue = rtd_inl(IPPRE_IPPRE_58_reg);
	ippre_ippre_60.regValue = rtd_inl(IPPRE_IPPRE_60_reg);
	ippre_ippre_70.regValue = rtd_inl(IPPRE_IPPRE_70_reg);
	ippre1_ippre1_54.regValue = rtd_inl(IPPRE1_IPPRE1_54_reg);
	
	if(u8_id >= PTG_INDEX_NUM){
		u8_id = 0;
	}
	
	// set PTG rectangle size
	ippre1_ippre1_54.bar_width = Convert_UHD_Param_To_Current_RES(PTG_table[u8_id].u13_bar_width*4, PARAM_DIRECTION_X);
	ippre1_ippre1_54.bar_hight = Convert_UHD_Param_To_Current_RES(PTG_table[u8_id].u13_bar_height*4, PARAM_DIRECTION_Y);
#if IC_K25
	ippre1_ippre1_54.bar_width *= 2;
#endif

	// set PTG speed
	ippre_ippre_50.speed_h_cadence = Convert_UHD_Param_To_Current_RES(PTG_table[u8_id].u8_speed_h, PARAM_DIRECTION_X);
	ippre_ippre_54.speed_v_cadence = Convert_UHD_Param_To_Current_RES(PTG_table[u8_id].u8_speed_v, PARAM_DIRECTION_Y);
	
	// set PTG color
	if(PTG_table[u8_id].u10_bar_color_r != PTG_COLOR_BYPASS) {
		ippre_ippre_58.bar_r = PTG_table[u8_id].u10_bar_color_r;
	}
	if(PTG_table[u8_id].u10_bar_color_g != PTG_COLOR_BYPASS) {
		ippre_ippre_58.bar_g = PTG_table[u8_id].u10_bar_color_g;
	}
	if(PTG_table[u8_id].u10_bar_color_b != PTG_COLOR_BYPASS) {
		ippre_ippre_58.bar_b = PTG_table[u8_id].u10_bar_color_b;
	}
	
	// set PTG cadence
	ippre_ippre_60.cadence_frm_length = PTG_table[u8_id].u5_mot_len;
	ippre_ippre_70.cadence_frm = PTG_table[u8_id].u32_mot_seq;
	
	// set PTG mode (rectangle/circle)
	if(PTG_table[u8_id].u1_pattern_mode != PTG_TYPE_BYPASS) {
		ippre_ippre_50.scroll_bar_mode = PTG_table[u8_id].u1_pattern_mode;
	}
	// set PTG background
	if(PTG_table[u8_id].u2_bg_type != PTG_TYPE_BYPASS) {
		ippre_ippre_20.patt_mode = PTG_table[u8_id].u2_bg_type;
	}
	// set checkerboard
	if(PTG_table[u8_id].u3_bg_type0 == 5) {
		//ippre_ippre_20.patt_enable = 1;
		if(PTG_table[u8_id].u8_checkerboard_width == PTG_CHECKERBOARD_NONE && PTG_table[u8_id].u8_checkerboard_width == PTG_CHECKERBOARD_NONE) {
			ippre_ippre_20.patt_type_0 = 7;//cross ptg
			ippre_ippre_20.patt_move_en = 0;
			WriteRegister(IPPRE_IPPRE_28_reg, 0, 31, 0xaf4cfd);
		}
		else {
			ippre_ippre_20.patt_type_0 = 5;//checkerboard mode
			ippre_ippre_20.patt_move_en = 1;
			WriteRegister(IPPRE_IPPRE_28_reg, 16, 23, 0xff);
			if(PTG_table[u8_id].u8_checkerboard_height != PTG_CHECKERBOARD_NONE && PTG_table[u8_id].u8_checkerboard_width != PTG_CHECKERBOARD_NONE){
				Set_Checkerboard_Size(PTG_table[u8_id].u8_checkerboard_width, PTG_table[u8_id].u8_checkerboard_height);
			}
		}
	}else if(PTG_table[u8_id].u3_bg_type0 == PTG_TYPE_BYPASS) {
		//ippre_ippre_20.patt_enable = 0;
		ippre_ippre_20.patt_move_en = 0;
		ippre_ippre_20.patt_type_0 = 7;//cross ptg
		WriteRegister(IPPRE_IPPRE_28_reg, 0, 31, 0xaf4cfd);
	}else{
		//ippre_ippre_20.patt_enable = 1;
		ippre_ippre_20.patt_move_en = 0;
		ippre_ippre_20.patt_type_0 = PTG_table[u8_id].u3_bg_type0;
	}
	
	// enable PTG
	ippre_ippre_20.patt_enable = 1;
	ippre_ippre_60.patt_move_en_cadence = 1;
	rtd_outl(IPPRE_IPPRE_20_reg, ippre_ippre_20.regValue);
	rtd_outl(IPPRE_IPPRE_50_reg, ippre_ippre_50.regValue);
	rtd_outl(IPPRE_IPPRE_54_reg, ippre_ippre_54.regValue);
	rtd_outl(IPPRE_IPPRE_58_reg, ippre_ippre_58.regValue);
	rtd_outl(IPPRE_IPPRE_60_reg, ippre_ippre_60.regValue);
	rtd_outl(IPPRE_IPPRE_70_reg, ippre_ippre_70.regValue);
	rtd_outl(IPPRE1_IPPRE1_54_reg, ippre1_ippre1_54.regValue);
}

VOID AutoRegression_Update_Info(VOID)
{
	static unsigned int time_base = 0;
	unsigned int tmp_val;
	unsigned char u8_i;

	// update regression reset flag
	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, 30, 30, &tmp_val);
	g_regression_reset = (tmp_val==1) ? true : false;

	// update regression debug log
	for(u8_i=0; u8_i<AUTOREGRESSION_TYPE_NUM; u8_i++){
		ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, 8+u8_i, 8+u8_i, &tmp_val);
		g_regression_log[u8_i] = (tmp_val==1) ? true : false;
	}
	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, 28, 28, &tmp_val);
	g_regression_debug_log = (tmp_val==1) ? true : false;

	// update usb status
	g_usb_play_pre = g_usb_play;
	g_usb_play = Scaler_DispGetInputInfoByDisp(SLR_MAIN_DISPLAY, SLR_INPUT_STATE)==_MODE_STATE_ACTIVE ? true : false;

	if(g_usb_play_pre==true && g_usb_play==false){
		g_usb_play_chg = USB_FINISH_PLAY;
		g_stream_play_time =  Get_Time_ms() - time_base;
		g_stream_length = g_stream_play_time;
	}
	else if(g_usb_play_pre==false && g_usb_play==true){
		g_usb_play_chg = USB_START_PLAY;
		g_stream_play_time = 0;
		time_base = Get_Time_ms();
	}
	else if(g_usb_play==true){
		g_usb_play_chg = USB_PLAYING;
		g_stream_play_time =  Get_Time_ms() - time_base;
	}
	else{
		g_usb_play_chg = USB_WITHOUT_PLAYING;
		//g_stream_play_time = 0;
	}
}

void AutoRegression_SetupEnvironment(void)
{
	unsigned char u8_memc_mode = 0;
	u8_memc_mode = MEMC_LibGetMEMCMode();
	if(u8_memc_mode != MEMC_SMOOTH){
		rtd_pr_memc_emerg( "[%s] original memc mode,%d\n", __FUNCTION__, u8_memc_mode);
		Scaler_MEMC_SetMotionComp(128, 128, 2/*VPQ_MEMC_TYPE_HIGH*/);
	}
}

bool is_SC_Time_Match(unsigned int golden_time, unsigned int read_time)
{
	if(_ABS_DIFF_(golden_time, read_time) > MAX_PRECISE_TIME_DIFF){
		return false;
	}
	return true;
}

bool is_GFB_Cnt_Match(unsigned short golden_cnt, unsigned short read_cnt)
{
	unsigned int u32_cnt_diff = _ABS_DIFF_(golden_cnt, read_cnt);
	if(u32_cnt_diff > REGRESSION_GFB_MAX_CNT_DIFF && u32_cnt_diff>((_MAX_(golden_cnt, read_cnt))>>2)){
		return false;
	}
	return true;
}

bool is_LFB_Cnt_Match(unsigned int golden_cnt, unsigned int read_cnt)
{
	unsigned int u32_cnt_diff = _ABS_DIFF_(golden_cnt, read_cnt);
	if(u32_cnt_diff > REGRESSION_LFB_MAX_CNT_DIFF && u32_cnt_diff>((_MAX_(golden_cnt, read_cnt))>>2)){
		return false;
	}
	return true;
}

bool is_Pixel_Logo_Cnt_Match(unsigned int golden_cnt, unsigned int read_cnt)
{
	unsigned int u32_cnt_diff = _ABS_DIFF_(golden_cnt, read_cnt);
	if(u32_cnt_diff > REGRESSION_PLOGO_MAX_CNT_DIFF && u32_cnt_diff>((_MAX_(golden_cnt, read_cnt))>>2)){
		return false;
	}
	return true;
}

bool is_Block_Logo_Cnt_Match(unsigned int golden_cnt, unsigned int read_cnt)
{
	unsigned int u32_cnt_diff = _ABS_DIFF_(golden_cnt, read_cnt);
	if(u32_cnt_diff > REGRESSION_BLOGO_MAX_CNT_DIFF && u32_cnt_diff>((_MAX_(golden_cnt, read_cnt))>>2)){
		return false;
	}
	return true;
}

void Convert_SC_Regression_To_Char(_AUTOREGRESSION_SINGE_RESULT_SC* Data, char* data_string, unsigned char u8_line)
{
#ifdef BUILD_QUICK_SHOW
	return;
#else
	char ascii[FILE_DATA_WIDTH_SC][11] = {0};
	unsigned char u8_i = 0, u8_j = 0;

	if(u8_line<FILE_DATA_HEIGHT_SC){
		memset(ascii, 0, sizeof(ascii));
		strcat(data_string, "\n\t\t");
		for(u8_i=0; u8_i<FILE_DATA_WIDTH_SC; u8_i++){
			u8_j = u8_line*FILE_DATA_WIDTH_SC + u8_i;
			UnsignedValue_To_Char(Data->u32_time[u8_j], ascii[u8_i]);
			strcat(data_string, ascii[u8_i]);
			strcat(data_string, ", ");
		}
	}
#endif
}

void Convert_GFB_Regression_To_Char(_AUTOREGRESSION_SINGE_RESULT_GFB* Data, char* data_string, unsigned char u8_line)
{
#ifdef BUILD_QUICK_SHOW
	return;
#else
	char ascii[FILE_DATA_WIDTH_GFB][6] = {0};
	unsigned char u8_i = 0, u8_j = 0;

	if(u8_line<FILE_DATA_HEIGHT_GFB){
		memset(ascii, 0, sizeof(ascii));
		strcat(data_string, "\n\t\t");
		for(u8_i=0; u8_i<FILE_DATA_WIDTH_GFB; u8_i++){
			u8_j = u8_line*FILE_DATA_WIDTH_GFB + u8_i;
			UnsignedValue_To_Char(Data->u14_GFB_lvl_cnt[u8_j], ascii[u8_i]);
			strcat(data_string, ascii[u8_i]);
			strcat(data_string, ", ");
		}
	}
#endif
}

void Convert_LFB_Regression_To_Char(_AUTOREGRESSION_SINGE_RESULT_LFB* Data, char* data_string, unsigned char u8_line)
{
#ifdef BUILD_QUICK_SHOW
	return;
#else
	char ascii[RGN21][6] = {{0}};
	unsigned char u8_j = 0;

	if(u8_line<FILE_DATA_HEIGHT_LFB){
		memset(ascii, 0, sizeof(ascii));
		strcat(data_string, "\n\t\t{");
		for(u8_j=0; u8_j<RGN21; u8_j++){
			UnsignedValue_To_Char(Data->u14_LFB_lvl_cnt[u8_line][u8_j], ascii[u8_j]);
			strcat(data_string, ascii[u8_j]);
			if(u8_j==RGN21-1){
				strcat(data_string, "},");
			}else{
				strcat(data_string, ", ");
			}
		}
	}
#endif
}

void Convert_Logo_Regression_To_Char(_AUTOREGRESSION_SINGE_RESULT_LOGO* Data, char* data_string, unsigned char u8_line)
{
#ifdef BUILD_QUICK_SHOW
	return;
#else
	char ascii[RGN21][6] = {{0}};
	unsigned char u8_j = 0;

	if(u8_line<FILE_DATA_HEIGHT_LOGO){
		memset(ascii, 0, sizeof(ascii));
		strcat(data_string, "\n\t\t{");
		for(u8_j=0; u8_j<RGN21; u8_j++){
			UnsignedValue_To_Char(Data->u16_detect_logo_cnt[u8_line][u8_j], ascii[u8_j]);
			strcat(data_string, ascii[u8_j]);
			if(u8_j==RGN21-1){
				strcat(data_string, "},");
			}else{
				strcat(data_string, ", ");
			}
		}
	}
#endif
}

void BasicInfoCheck_sort(unsigned int *u32_Array, unsigned short u16_ArraySize)
{
	unsigned int temp = 0;
	unsigned short u16_i, u16_j;
	
	for (u16_i = 0; u16_i < u16_ArraySize; ++u16_i) {
		for (u16_j = u16_i+1; u16_j < u16_ArraySize; ++u16_j) {
			if (u32_Array[u16_i] > u32_Array[u16_j]) {
			   temp =  u32_Array[u16_i];
			   u32_Array[u16_i] = u32_Array[u16_j];
			   u32_Array[u16_j] = temp;
			}
		}
	}
}

unsigned int GetMedian_UI(unsigned int *u32_Array, unsigned short u16_ArraySize)
{
	BasicInfoCheck_sort(u32_Array, u16_ArraySize);
	return u32_Array[(u16_ArraySize>>1)];
}

unsigned short GetMedian_US(unsigned short *u16_Array, unsigned short u16_ArraySize)
{
	unsigned short temp = 0;
	unsigned short u16_i, u16_j;
	
	for (u16_i = 0; u16_i < u16_ArraySize; ++u16_i) {
		for (u16_j = u16_i+1; u16_j < u16_ArraySize; ++u16_j) {
			if (u16_Array[u16_i] > u16_Array[u16_j]) {
			   temp =  u16_Array[u16_i];
			   u16_Array[u16_i] = u16_Array[u16_j];
			   u16_Array[u16_j] = temp;
			}
		}
	}
	return u16_Array[(u16_ArraySize>>1)];
}

short GetMedian_SS(short *s16_Array, unsigned short u16_ArraySize)
{
	short temp = 0;
	unsigned short u16_i, u16_j;
	
	for (u16_i = 0; u16_i < u16_ArraySize; ++u16_i) {
		for (u16_j = u16_i+1; u16_j < u16_ArraySize; ++u16_j) {
			if (s16_Array[u16_i] > s16_Array[u16_j]) {
			   temp =  s16_Array[u16_i];
			   s16_Array[u16_i] = s16_Array[u16_j];
			   s16_Array[u16_j] = temp;
			}
		}
	}
	return s16_Array[(u16_ArraySize>>1)];
}

_CHECK_REAL_STREM_MV_INFO GetMedian_MV_Info(_CHECK_REAL_STREM_MV_INFO* mv_info_table)
{
	_CHECK_REAL_STREM_MV_INFO Median_MV_Info = {0};
	int temp = 0;
	unsigned short u16_i, u16_j, u16_median_index = CHECK_MV_TIME/2;
	
	for(u16_i = 0; u16_i < CHECK_MV_TIME; ++u16_i) {
		for(u16_j = u16_i+1; u16_j < CHECK_MV_TIME; ++u16_j) {
			if (mv_info_table[u16_i].GMV_1st_vx > mv_info_table[u16_j].GMV_1st_vx) {
			   temp =  mv_info_table[u16_i].GMV_1st_vx;
			   mv_info_table[u16_i].GMV_1st_vx = mv_info_table[u16_j].GMV_1st_vx;
			   mv_info_table[u16_j].GMV_1st_vx = temp;
			}
		}
	}
	Median_MV_Info.GMV_1st_vx = mv_info_table[u16_median_index].GMV_1st_vx;
	
	for(u16_i = 0; u16_i < CHECK_MV_TIME; ++u16_i) {
		for(u16_j = u16_i+1; u16_j < CHECK_MV_TIME; ++u16_j) {
			if (mv_info_table[u16_i].GMV_1st_vy > mv_info_table[u16_j].GMV_1st_vy) {
			   temp =  mv_info_table[u16_i].GMV_1st_vy;
			   mv_info_table[u16_i].GMV_1st_vy = mv_info_table[u16_j].GMV_1st_vy;
			   mv_info_table[u16_j].GMV_1st_vy = temp;
			}
		}
	}
	Median_MV_Info.GMV_1st_vy = mv_info_table[u16_median_index].GMV_1st_vy;
	
	return Median_MV_Info;
}

unsigned char BasicInfoCheck_cal_result(unsigned char SELF_CHECK_TYPE, unsigned char SELF_CHECK_INDEX, unsigned short u16_correct_num, unsigned short u16_total_num)
{
	unsigned char u8_status = SELF_TEST_PROCESS;
	unsigned int debug_log_en = 0;
	
	if(SELF_CHECK_TYPE==SELF_CHECK_TYPE_ENVIRONMENT){
		if(SELF_CHECK_INDEX == ENVIRONMENT_CHECK_PTG_APL){
			if(u16_total_num == NUM_IPPRE_PTG_COLOR_CHECK){
				u8_status = (u16_correct_num==u16_total_num) ? SELF_TEST_PASS : SELF_TEST_FAIL;
			}
		}else if(SELF_CHECK_INDEX==ENVIRONMENT_CHECK_PTG_POS || SELF_CHECK_INDEX==ENVIRONMENT_CHECK_PTG_SQUARE ||
				 SELF_CHECK_INDEX==ENVIRONMENT_CHECK_PTG_MV_INFO || SELF_CHECK_INDEX==ENVIRONMENT_CHECK_DDR_BOUNDARY ||
				 SELF_CHECK_INDEX==ENVIRONMENT_CHECK_RIM_BOUNDARY || SELF_CHECK_INDEX==ENVIRONMENT_CHECK_LBMC ||
				 SELF_CHECK_INDEX==ENVIRONMENT_CHECK_REGION ){
			u8_status = (u16_correct_num==u16_total_num) ? SELF_TEST_PASS : SELF_TEST_FAIL;
		}
	}
	else if(SELF_CHECK_TYPE==SELF_CHECK_TYPE_INTERNAL){
		if(SELF_CHECK_INDEX == PTG_CALIB_APL){
			if(u16_total_num == APL_TOTAL_NUM){
				u8_status = (u16_correct_num==u16_total_num) ? SELF_TEST_PASS : SELF_TEST_FAIL;
			}
		}else if(SELF_CHECK_INDEX == PTG_CALIB_DTL){
			if(u16_total_num == DTL_TOTAL_NUM){
				u8_status = (u16_correct_num==u16_total_num) ? SELF_TEST_PASS : SELF_TEST_FAIL;
			}
		}else if(SELF_CHECK_INDEX == PTG_CALIB_SAD){
			if(u16_total_num == SAD_TOTAL_NUM){
				u8_status = (u16_correct_num >= Get_Basic_Info_Check_Std_Num(u16_total_num)) ? SELF_TEST_PASS : SELF_TEST_FAIL;
			}
		}else if(SELF_CHECK_INDEX == PTG_CALIB_SC || SELF_CHECK_INDEX == PTG_CALIB_LBMC || SELF_CHECK_INDEX == PTG_CALIB_YUV || SELF_CHECK_INDEX == PTG_CALIB_LOGO_DETECT){
			u8_status = (u16_correct_num==u16_total_num) ? SELF_TEST_PASS : SELF_TEST_FAIL;
		}
	}
	else if(SELF_CHECK_TYPE==SELF_CHECK_TYPE_REALSTREAM){
		if(SELF_CHECK_INDEX == REALSTREAM_CALIB_MV_INFO){
			u8_status = (u16_correct_num==u16_total_num) ? SELF_TEST_PASS : SELF_TEST_FAIL;
		}
	}
	
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	if(debug_log_en){
		rtd_pr_memc_crit( "[%s][%d]	status,%d, type,%d, index,%d, OK/total,%d,%d, \n", __FUNCTION__, __LINE__, u8_status, SELF_CHECK_TYPE, SELF_CHECK_INDEX, u16_correct_num, u16_total_num);
	}
	return u8_status;
}

VOID Init_Calib_Result(_Self_Check_Result *Result)
{
	Result->u8_result = SELF_TEST_INIT;
	Result->u16_correct_num = 0;
	Result->u16_total_num = 0;
	Result->u16_time = 0;
	Result->u32_error_stream_id = 0;
	Result->u32_unstable_stream_id = 0;
}

VOID Init_Regression_Result(_CHECK_RESULT_AUTOREGRESSION *Regression_Result)
{
	unsigned char u8_i = 0;
	for(u8_i=0; u8_i<AUTOREGRESSION_TYPE_NUM; u8_i++){
		Init_Calib_Result(&Regression_Result->Result[u8_i]);
	}
}

VOID BasicInfoCheck_Init(void)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	PQL_OUTPUT_RESOLUTION output_Resolution = s_pContext->_external_data._output_resolution;
	const _str_MEMC_buffer_size_table *tmp_MEMC_buffer_size_table = fwif_MEMC_get_MEMC_buffer_size_table((OUTPUT_RESOLUTION)output_Resolution);
	unsigned char u8_i = 0;
	
	g_IPME1_HSize = tmp_MEMC_buffer_size_table->IPME1_HSize;
	g_IPME1_VSize = tmp_MEMC_buffer_size_table->IPME1_VSize;
	g_BLogo_BlkNum = tmp_MEMC_buffer_size_table->BLogo_BlkNum;
	g_BLogo_RowNum = tmp_MEMC_buffer_size_table->BLogo_RowNum;
	g_PLogo_HSize = tmp_MEMC_buffer_size_table->PLogo_HSize;
	g_PLogo_VSize = tmp_MEMC_buffer_size_table->PLogo_VSize;
	
	for(u8_i=0;u8_i<PTG_CALIB_NUM;u8_i++){
		Init_Calib_Result(&PTG_Calib_Result[u8_i]);
	}
	for(u8_i=0;u8_i<REALSTREAM_CALIB_NUM;u8_i++){
		Init_Calib_Result(&RealStream_Calib_Result[u8_i]);
	}
	for(u8_i=0;u8_i<ENVIRONMENT_CHECK_NUM;u8_i++){
		Init_Calib_Result(&Environment_Check_Result[u8_i]);
	}
	for(u8_i=0;u8_i<AUTOREGRESSION_TYPE_NUM;u8_i++){
		Init_Regression_Result(&AutoRegression_Result);
	}
	
	// calculate the cross curve position when checking the ptg position by checkerboard
	IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_RIGHT_DOWN].PTG_pos.u16_x = ((MEMC_PARAM_TABLE.RIM_Param[output_Resolution].RimCtrl_Param.s16_resolution_width>>2)<<2);
	IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_RIGHT_DOWN].PTG_pos.u16_y = (((MEMC_PARAM_TABLE.RIM_Param[output_Resolution].RimCtrl_Param.s16_resolution_height-3)>>2)<<2)+3;
	
	/* 				0~3		4~7		8~11	12~15	16~19(px)	*/
	/* 	0~3(px)		black	white	black	white	black		*/
	/* 	4~7(px)		white	black	white	blac	white		*/
	/* 	8~11(px)	black	white	black	white	black		*/
	/* 	12~15(px)	white	black	white	blac	white		*/
	/* 	16~19(px)	black	white	black	white	black		*/
	// calculate the cross curve color when checking the ptg position by checkerboard
	if(((IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_RIGHT_DOWN].PTG_pos.u16_x>>2)+((IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_RIGHT_DOWN].PTG_pos.u16_y+1)>>2))&0x1){
		IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_RIGHT_DOWN].PTG_color = PURE_WHITE;
	}else {
		IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_RIGHT_DOWN].PTG_color = PURE_BLACK;
	}

	// get framerate info
	if(Get_DISPLAY_REFRESH_RATE() <= 60){
		g_FrameRate_Scale = 1;
	}
	else {
		g_FrameRate_Scale = 2;
	}
	g_APL_CHECK_CNT_TH = g_FrameRate_Scale * 4;
	g_DTL_CHECK_CNT_TH = 1;
	SCALE_SAD_SQUARE_WIDTH = g_IPME1_HSize/2;
	SCALE_SAD_SQUARE_HEIGHT = g_IPME1_VSize;
}

void Get_Internal_Autotest_Result(unsigned short *u16_result)
{
	unsigned char u8_i = 0;
	for(u8_i=0; u8_i<PTG_CALIB_NUM; u8_i++){
		u16_result[3*u8_i] = PTG_Calib_Result[u8_i].u8_result;
		u16_result[3*u8_i+1] = PTG_Calib_Result[u8_i].u16_correct_num;
		u16_result[3*u8_i+2] = PTG_Calib_Result[u8_i].u16_total_num;
	}
}

void Get_RealPattern_Autotest_Result(unsigned short *u16_result)
{
	unsigned char u8_i = 0;
	for(u8_i=0; u8_i<REALSTREAM_CALIB_NUM; u8_i++){
		u16_result[3*u8_i] = RealStream_Calib_Result[u8_i].u8_result;
		u16_result[3*u8_i+1] = RealStream_Calib_Result[u8_i].u16_correct_num;
		u16_result[3*u8_i+2] = RealStream_Calib_Result[u8_i].u16_total_num;
	}
}

void Get_Environment_Check_Result(unsigned short *u16_result)
{
	unsigned char u8_i = 0;
	for(u8_i=0; u8_i<ENVIRONMENT_CHECK_NUM; u8_i++){
		u16_result[3*u8_i] = Environment_Check_Result[u8_i].u8_result;
		u16_result[3*u8_i+1] = Environment_Check_Result[u8_i].u16_correct_num;
		u16_result[3*u8_i+2] = Environment_Check_Result[u8_i].u16_total_num;
	}
}

void AutoRegression_Get_Result_Array(unsigned int *u32_result)
{
	unsigned char u8_i = 0;
	for(u8_i=0; u8_i<AUTOREGRESSION_TYPE_NUM; u8_i++){
		u32_result[6*u8_i] = AutoRegression_Result.Result[u8_i].u8_result;
		u32_result[6*u8_i+1] = AutoRegression_Result.Result[u8_i].u16_correct_num;
		u32_result[6*u8_i+2] = AutoRegression_Result.Result[u8_i].u16_total_num;
		u32_result[6*u8_i+3] = AutoRegression_Result.Result[u8_i].u16_time;
		u32_result[6*u8_i+4] = AutoRegression_Result.Result[u8_i].u32_error_stream_id;
		u32_result[6*u8_i+5] = AutoRegression_Result.Result[u8_i].u32_unstable_stream_id;
	}
}

const _CHECK_RESULT_AUTOREGRESSION* AutoRegression_Get_Result(VOID)
{
	return (const _CHECK_RESULT_AUTOREGRESSION *)&AutoRegression_Result;
}

void AutoRegression_Com_Set_StreamID(unsigned char u8_stream_id)
//set id of regression stream
{
	u8_stream_id = (u8_stream_id<AUTOREGRESSION_ALL_NUM) ? u8_stream_id : 0;
	WriteRegister(COMMUNICATE_REG, COMMUNICATE_STREAMID_START, COMMUNICATE_STREAMID_END, u8_stream_id);
	rtd_pr_memc_debug( "[%s] stream ID,%d\n", __MEMC_GET_BASICINFO_DATA__, u8_stream_id);
}

void AutoRegression_Com_Set_Status(unsigned char u4_status)
//set status for playing regression stream, u4_status defined in REGRESION_COM_STATUS
{
	u4_status = (u4_status<COM_STATUS_NUM) ? u4_status : 0;
	WriteRegister(COMMUNICATE_REG, COMMUNICATE_STATUS_START, COMMUNICATE_STATUS_END, u4_status);
	rtd_pr_memc_debug( "[%s] auto gression status,%d\n", __MEMC_GET_BASICINFO_DATA__, u4_status);
}

void AutoRegression_Show_SC(_AUTOREGRESSION_SINGE_RESULT_SC* SC_info)
{
	unsigned char u8_i = 0;

	rtd_pr_memc_emerg( "[%s][%s][SC] { \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
	rtd_pr_memc_emerg( "[%s]	{ \n", __MEMC_AUTO_REGRESSION__);
	for(u8_i=0; u8_i<FILE_DATA_HEIGHT_SC; u8_i++){
		rtd_pr_memc_emerg( "[%s]		%u, %u, %u, %u, %u, %u, %u, %u, %u, %u,\n", __MEMC_AUTO_REGRESSION__, 
			SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC], SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC+1], SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC+2], SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC+3], SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC+4],
			SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC+5], SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC+6], SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC+7], SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC+8], SC_info->u32_time[u8_i*FILE_DATA_WIDTH_SC+9] );
	}
	rtd_pr_memc_emerg( "[%s]	},\n", __MEMC_AUTO_REGRESSION__);
}

void AutoRegression_Show_GFB(_AUTOREGRESSION_SINGE_RESULT_GFB* GFB_info)
{
	unsigned char u8_i = 0;

	rtd_pr_memc_emerg( "[%s][%s][GFB] { \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
	rtd_pr_memc_emerg( "[%s]	{ \n", __MEMC_AUTO_REGRESSION__);
	for(u8_i=0; u8_i<FILE_DATA_HEIGHT_GFB; u8_i++){
		rtd_pr_memc_emerg( "[%s]		%u, %u, %u, %u, %u, %u, %u, %u, %u, %u,\n", __MEMC_AUTO_REGRESSION__, 
			GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB], GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB+1], GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB+2], GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB+3], GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB+4],
			GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB+5], GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB+6], GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB+7], GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB+8], GFB_info->u14_GFB_lvl_cnt[u8_i*FILE_DATA_WIDTH_GFB+9] );
	}
	rtd_pr_memc_emerg( "[%s]	},\n", __MEMC_AUTO_REGRESSION__);
}

void AutoRegression_Show_LFB(_AUTOREGRESSION_SINGE_RESULT_LFB* LFB_info)
{
	unsigned char u8_i = 0;

	rtd_pr_memc_emerg( "[%s][%s][LFB] { \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
	rtd_pr_memc_emerg( "[%s]	{ \n", __MEMC_AUTO_REGRESSION__);
	for(u8_i=0; u8_i<FILE_DATA_HEIGHT_LFB; u8_i++){
		rtd_pr_memc_emerg( "[%s]		{%u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u},\n", __MEMC_AUTO_REGRESSION__,
			LFB_info->u14_LFB_lvl_cnt[u8_i][0], LFB_info->u14_LFB_lvl_cnt[u8_i][1], LFB_info->u14_LFB_lvl_cnt[u8_i][2],
			LFB_info->u14_LFB_lvl_cnt[u8_i][3], LFB_info->u14_LFB_lvl_cnt[u8_i][4], LFB_info->u14_LFB_lvl_cnt[u8_i][5],
			LFB_info->u14_LFB_lvl_cnt[u8_i][6], LFB_info->u14_LFB_lvl_cnt[u8_i][7], LFB_info->u14_LFB_lvl_cnt[u8_i][8],
			LFB_info->u14_LFB_lvl_cnt[u8_i][9], LFB_info->u14_LFB_lvl_cnt[u8_i][10], LFB_info->u14_LFB_lvl_cnt[u8_i][11],
			LFB_info->u14_LFB_lvl_cnt[u8_i][12], LFB_info->u14_LFB_lvl_cnt[u8_i][13], LFB_info->u14_LFB_lvl_cnt[u8_i][14],
			LFB_info->u14_LFB_lvl_cnt[u8_i][15], LFB_info->u14_LFB_lvl_cnt[u8_i][16], LFB_info->u14_LFB_lvl_cnt[u8_i][17],
			LFB_info->u14_LFB_lvl_cnt[u8_i][18], LFB_info->u14_LFB_lvl_cnt[u8_i][19], LFB_info->u14_LFB_lvl_cnt[u8_i][20] );
	}
	rtd_pr_memc_emerg( "[%s]	},\n", __MEMC_AUTO_REGRESSION__);
}

void AutoRegression_Show_LOGO(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL* LOGO_info)
{
	unsigned char u8_i = 0;

#if IC_SUPPORT_PIXEL_LOGO
	rtd_pr_memc_emerg( "[%s][%s][Pixel Logo] { \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
	rtd_pr_memc_emerg( "[%s]	{ \n", __MEMC_AUTO_REGRESSION__);
	for(u8_i=0; u8_i<FILE_DATA_HEIGHT_LOGO; u8_i++){
		rtd_pr_memc_emerg( "[%s]		{%u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u},\n", __MEMC_AUTO_REGRESSION__,
			LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][0], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][1], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][2],
			LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][3], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][4], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][5],
			LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][6], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][7], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][8],
			LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][9], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][10], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][11],
			LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][12], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][13], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][14],
			LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][15], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][16], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][17],
			LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][18], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][19], LOGO_info->PLOGO.u16_detect_logo_cnt[u8_i][20] );
	}
	rtd_pr_memc_emerg( "[%s]	},\n", __MEMC_AUTO_REGRESSION__);
#endif
	rtd_pr_memc_emerg( "[%s][%s][Block Logo] { \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
	rtd_pr_memc_emerg( "[%s]	{ \n", __MEMC_AUTO_REGRESSION__);
	for(u8_i=0; u8_i<FILE_DATA_HEIGHT_LOGO; u8_i++){
		rtd_pr_memc_emerg( "[%s]		{%u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u, %u},\n", __MEMC_AUTO_REGRESSION__,
			LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][0], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][1], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][2],
			LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][3], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][4], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][5],
			LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][6], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][7], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][8],
			LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][9], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][10], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][11],
			LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][12], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][13], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][14],
			LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][15], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][16], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][17],
			LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][18], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][19], LOGO_info->BLOGO.u16_detect_logo_cnt[u8_i][20] );
	}
	rtd_pr_memc_emerg( "[%s]	},\n", __MEMC_AUTO_REGRESSION__);
}

void AutoRegression_Show_All(_AUTOREGRESSION_SINGLE_RESULT* info)
{
	AutoRegression_Show_SC(&info->SC);
	AutoRegression_Show_GFB(&info->GFB);
	AutoRegression_Show_LFB(&info->LFB);
	AutoRegression_Show_LOGO(&info->LOGO);
}

bool is_Film_info_Match_SC(_AUTOREGRESSION_SINGE_RESULT_SC *golden, _AUTOREGRESSION_SINGE_RESULT_SC *read_data, unsigned char u8_data_len)
{
	unsigned char u8_i = 0, u8_NG_cnt = 0;
	bool u1_result = true;

	for(u8_i=0; u8_i<REGRESSION_SC_MAX_DATA; u8_i++) {
		if(golden->u32_time[u8_i]==END_SC_VALUE && read_data->u32_time[u8_i]!=END_SC_VALUE){
			rtd_pr_memc_emerg( "[%s][%s][FAIL]  data length is not match\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
			return false;
		}
		if(golden->u32_time[u8_i]!=END_SC_VALUE && read_data->u32_time[u8_i]==END_SC_VALUE){
			rtd_pr_memc_emerg( "[%s][%s][FAIL]  data length is not match\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
			return false;
		}
	}

	for(u8_i=0; u8_i<u8_data_len; u8_i++) {
		if(is_SC_Time_Match(golden->u32_time[u8_i], read_data->u32_time[u8_i])==false){
			u8_NG_cnt++;
			if(g_regression_log[AUTOREGRESSION_SC]){
				rtd_pr_memc_emerg( "[%s][%s][NG]	golden,%u, read,%u,\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, golden->u32_time[u8_i], read_data->u32_time[u8_i]);
			}
		}
	}
	
	u1_result = (u8_NG_cnt==0) ? true : false;
	if(u1_result==true){
		rtd_pr_memc_emerg( "[%s][%s][PASS] cnt,%d,%d(ng/total)\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, u8_NG_cnt, u8_data_len);
	}
	else {
		rtd_pr_memc_emerg( "[%s][%s][FAIL] cnt,%d,%d(ng/total)\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, u8_NG_cnt, u8_data_len);
	}
	return u1_result;
}

bool is_Film_info_Match_GFB(_AUTOREGRESSION_SINGE_RESULT_GFB *golden,_AUTOREGRESSION_SINGE_RESULT_GFB *read_data, unsigned char u8_data_len)
{
	unsigned char u8_i = 0, u8_NG_cnt = 0;
	bool u1_result = false;

	for(u8_i=0; u8_i<u8_data_len; u8_i++) {
		if(is_GFB_Cnt_Match(golden ->u14_GFB_lvl_cnt[u8_i], read_data->u14_GFB_lvl_cnt[u8_i])==false) {
			u8_NG_cnt++;
			if(g_regression_log[AUTOREGRESSION_GFB]){
				rtd_pr_memc_emerg( "[%s][%s][NG]	golden,%d, read,%d,\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, golden->u14_GFB_lvl_cnt[u8_i], read_data->u14_GFB_lvl_cnt[u8_i]);
			}
		}
	}

	u1_result = (u8_NG_cnt<=Get_10_percent(u8_data_len)+1) ? true : false;
	if(u1_result){
		rtd_pr_memc_emerg( "[%s][%s][PASS]   cnt,%u,%u(ng/total)\n\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, u8_NG_cnt, u8_data_len);
	}
	else {
		rtd_pr_memc_emerg( "[%s][%s][FAIL]  cnt,%u,%u(ng/total)\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, u8_NG_cnt, u8_data_len);
	}
	return u1_result;
	
}

bool is_Film_info_Match_LFB(_AUTOREGRESSION_SINGE_RESULT_LFB *golden,_AUTOREGRESSION_SINGE_RESULT_LFB *read_data, unsigned char u8_data_len)
{
	unsigned char u8_i = 0, u8_j = 0;
	unsigned int u32_NG_cnt = 0, u32_total_cnt = u8_data_len*RGN21;
	bool u1_result = false;

	for(u8_i=0; u8_i<u8_data_len; u8_i++) {
		for(u8_j=0; u8_j<RGN21; u8_j++) {
			if(is_LFB_Cnt_Match(golden->u14_LFB_lvl_cnt[u8_i][u8_j], read_data->u14_LFB_lvl_cnt[u8_i][u8_j])==false) {
				u32_NG_cnt++;
				if(g_regression_log[AUTOREGRESSION_LFB]){
					rtd_pr_memc_emerg( "[%s][%s][NG]	golden,%u, read,%u,\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, golden->u14_LFB_lvl_cnt[u8_i][u8_j], read_data->u14_LFB_lvl_cnt[u8_i][u8_j]);
				}
			}
		}
	}

	u1_result = (u32_NG_cnt<=Get_10_percent(u32_total_cnt)+1) ? true : false;
	if(u1_result){
		rtd_pr_memc_emerg( "[%s][%s][PASS]   cnt,%u,%u(ng/total)\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, u32_NG_cnt, u32_total_cnt);
	}
	else {
		rtd_pr_memc_emerg( "[%s][%s][FAIL]  cnt,%u,%u(ng/total)\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, u32_NG_cnt, u32_total_cnt);
	}
	return u1_result;
}

bool is_Film_info_Match_Logo(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL *Golden_Logo, _AUTOREGRESSION_SINGE_RESULT_LOGO_ALL* Read_Logo, unsigned char u8_data_len)
{
	unsigned char u8_i = 0, u8_j = 0;
	unsigned int u32_BLogo_NG_cnt = 0, u32_total_cnt = u8_data_len*RGN21;
	bool u1_BLogo_result = false;
	#if IC_SUPPORT_PIXEL_LOGO
	unsigned int u32_PLogo_NG_cnt = 0;
	bool u1_PLogo_result = false;
	#endif

	for(u8_i=0; u8_i<u8_data_len; u8_i++) {
		for(u8_j=0; u8_j<RGN21; u8_j++) {
			#if IC_SUPPORT_PIXEL_LOGO
			if(is_Pixel_Logo_Cnt_Match(Golden_Logo->PLOGO.u16_detect_logo_cnt[u8_i][u8_j], Read_Logo->PLOGO.u16_detect_logo_cnt[u8_i][u8_j])==false){
				u32_PLogo_NG_cnt++;
				if(g_regression_log[AUTOREGRESSION_LOGO]){
					rtd_pr_memc_emerg( "[%s][%s][NG][pixel_logo]  golden,%u, read,%u,\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, Golden_Logo->PLOGO.u16_detect_logo_cnt[u8_i][u8_j], Read_Logo->PLOGO.u16_detect_logo_cnt[u8_i][u8_j]);
				}
			}
			#endif

			if(is_Block_Logo_Cnt_Match(Golden_Logo->BLOGO.u16_detect_logo_cnt[u8_i][u8_j], Read_Logo->BLOGO.u16_detect_logo_cnt[u8_i][u8_j])==false) {
				u32_BLogo_NG_cnt++;
				if(g_regression_log[AUTOREGRESSION_LOGO]){
					rtd_pr_memc_emerg( "[%s][%s][NG][block_logo]  golden,%u, read,%u,\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, Golden_Logo->BLOGO.u16_detect_logo_cnt[u8_i][u8_j], Read_Logo->BLOGO.u16_detect_logo_cnt[u8_i][u8_j]);
				}
			}
		}
	}

	#if IC_SUPPORT_PIXEL_LOGO
	u1_PLogo_result = (u32_PLogo_NG_cnt<=Get_10_percent(u32_total_cnt)+1) ? true : false;
	if(u1_PLogo_result){
		rtd_pr_memc_emerg( "[%s][%s][PASS][PLOGO] \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
	}
	else {
		rtd_pr_memc_emerg( "[%s][%s][FAIL][PLOGO] cnt,%u,%u(ng/total)\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, u32_PLogo_NG_cnt, u32_total_cnt);
	}
	#endif

	u1_BLogo_result = (u32_BLogo_NG_cnt<=Get_10_percent(u32_total_cnt)+1) ? true : false;
	if(u1_BLogo_result){
		rtd_pr_memc_emerg( "[%s][%s][PASS][BLOGO] \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
	}
	else {
		rtd_pr_memc_emerg( "[%s][%s][FAIL][BLOGO] cnt,%u,%u(ng/total)\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, u32_BLogo_NG_cnt, u32_total_cnt);
	}

	#if IC_SUPPORT_PIXEL_LOGO
	return (u1_PLogo_result==true && u1_BLogo_result==true) ? true : false;
	#else
	return (u1_BLogo_result==true) ? true : false;
	#endif
}

bool Get_Single_Film_Auto_Regression_Result_SC(_AUTOREGRESSION_SINGE_RESULT_SC *Read_Data, unsigned char u8_stream_id)
{
	unsigned char u8_i = 0;
	unsigned char u8_Max_data = AUTOREGRESSION_MAX_DATA_LIST[AUTOREGRESSION_SC];

	for(u8_i=0; u8_i<u8_Max_data; u8_i++) {
		if(AR_GOLDEN.Result[u8_stream_id].SC.u32_time[u8_i]==END_SC_VALUE){
			u8_Max_data = u8_i;
			break;
		}
	}
	
	return is_Film_info_Match_SC(&AR_GOLDEN.Result[u8_stream_id].SC, Read_Data, u8_Max_data);;
}

bool Get_Single_Film_Auto_Regression_Result_GFB(_AUTOREGRESSION_SINGE_RESULT_GFB *Read_Data, unsigned char u8_stream_id)
{
	unsigned char u8_i = 0;
	unsigned char u8_Max_data = AUTOREGRESSION_MAX_DATA_LIST[AUTOREGRESSION_GFB];
	
	for(u8_i=0; u8_i<u8_Max_data; u8_i++) {
		if(AR_GOLDEN.Result[u8_stream_id].GFB.u14_GFB_lvl_cnt[u8_i]==END_GFB_VALUE){
			u8_Max_data = u8_i;
			break;
		}
		if(Read_Data->u14_GFB_lvl_cnt[u8_i]==END_GFB_VALUE){
			u8_Max_data = u8_i;
			break;
		}
	}

	return is_Film_info_Match_GFB(&AR_GOLDEN.Result[u8_stream_id].GFB, Read_Data, u8_Max_data);
}

bool Get_Single_Film_Auto_Regression_Result_LFB(_AUTOREGRESSION_SINGE_RESULT_LFB *Read_Data, unsigned char u8_stream_id)
{
	unsigned char u8_i = 0;
	unsigned char u8_Max_data = AUTOREGRESSION_MAX_DATA_LIST[AUTOREGRESSION_LFB];
	
	for(u8_i=0; u8_i<u8_Max_data; u8_i++) {
		if(AR_GOLDEN.Result[u8_stream_id].LFB.u14_LFB_lvl_cnt[u8_i][END_RGN21_INDEX]==END_LFB_VALUE){
			u8_Max_data = u8_i;
			break;
		}
		if(Read_Data->u14_LFB_lvl_cnt[u8_i][END_RGN21_INDEX]==END_LFB_VALUE){
			u8_Max_data = u8_i;
			break;
		}
	}

	return is_Film_info_Match_LFB(&AR_GOLDEN.Result[u8_stream_id].LFB, Read_Data, u8_Max_data);;
}

bool Get_Single_Film_Auto_Regression_Result_Logo(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL *Read_Data, unsigned char u8_stream_id)
{
	unsigned char u8_i = 0;
	unsigned char u8_Max_data = AUTOREGRESSION_MAX_DATA_LIST[AUTOREGRESSION_LOGO];
	
	for(u8_i=0; u8_i<u8_Max_data; u8_i++) {
		if(AR_GOLDEN.Result[u8_stream_id].LOGO.BLOGO.u16_detect_logo_cnt[u8_i][END_RGN21_INDEX]==END_LOGO_VALUE){
			u8_Max_data = u8_i;
			break;
		}
		if(Read_Data->BLOGO.u16_detect_logo_cnt[u8_i][END_RGN21_INDEX]==END_LOGO_VALUE){
			u8_Max_data = u8_i;
			break;
		}
	}

	return is_Film_info_Match_Logo(&AR_GOLDEN.Result[u8_stream_id].LOGO, Read_Data, u8_Max_data);;
}

BOOL BasicInfoCheck_Get_APL(unsigned int *u20_APL, _APL_RGB RGB, BOOL get_from_HW)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	unsigned int u20_read_rAPLi, u20_read_rAPLp, u10_PixelVal_R, u10_PixelVal_G, u10_PixelVal_B;
	bool u1_chg_color = false;
	static unsigned char u8_Set_cnt = 0, u8_check_cnt = 0;
	static unsigned int rAPLi_pre = 0;
	
	StopMove_PTG();
	
	if(get_from_HW){
		ReadRegister(KME_ME1_TOP9_KME_ME1_TOP9_28_reg, 0, 19, &u20_read_rAPLi);
		ReadRegister(KME_ME1_TOP9_KME_ME1_TOP9_A8_reg, 0, 19, &u20_read_rAPLp);
	}else{ //get from FW
		u20_read_rAPLi = s_pContext->_output_read_comreg.u20_me_rAPLi_rb[APL_GET_REGION_ID];
		u20_read_rAPLp = s_pContext->_output_read_comreg.u20_me_rAPLp_rb[APL_GET_REGION_ID];
	}
	
	if(u8_Set_cnt==0) {
		Set_PTG(PTG_GET_APL_DATA);
		u10_PixelVal_R = _MIN_(RGB.u8_r_id*SCALE_APL_COLOR_STEP, 1023);
		u10_PixelVal_G = _MIN_(RGB.u8_g_id*SCALE_APL_COLOR_STEP, 1023);
		u10_PixelVal_B = _MIN_(RGB.u8_b_id*SCALE_APL_COLOR_STEP, 1023);
		WriteRegister(IPPRE_IPPRE_58_reg,  0,  9, u10_PixelVal_R);
		WriteRegister(IPPRE_IPPRE_58_reg, 10, 19, u10_PixelVal_G);
		WriteRegister(IPPRE_IPPRE_58_reg, 20, 29, u10_PixelVal_B);
		u8_check_cnt = 0;
	}else if(u8_Set_cnt>=QUICK_SET_PTG_CNT) {
		if(u20_read_rAPLi==rAPLi_pre && u20_read_rAPLi==u20_read_rAPLp) {
			u8_check_cnt++;
		}else {
			u8_check_cnt = 0;
		}
		if(u8_check_cnt >= g_APL_CHECK_CNT_TH) {
			u1_chg_color = true;
			*u20_APL = u20_read_rAPLi;
		}
	}
	
	rAPLi_pre = u20_read_rAPLi;
	u8_Set_cnt = (u1_chg_color==true) ? 0 : (u8_Set_cnt<127) ? u8_Set_cnt+1 : 0;
	return u1_chg_color;
}

VOID BasicInfoCheck_Show_APL_Info(void)
{
	unsigned char u8_i = 0, u8_tmp = 0;
	unsigned int u1_GetData = 0, u20_APL = 0, u10_PixelVal_R, u10_PixelVal_G, u10_PixelVal_B;
	static bool u1_GetData_pre = false, u1_GetData_twice = false;
	static unsigned int u20_APL_pre = 0, u20_APL_table[APL_TOTAL_NUM] = {0};
	static unsigned short u16_index = 0;
	static _APL_RGB RGB_setting = {CHECK_APL_COLOR_START_ID, CHECK_APL_COLOR_START_ID, CHECK_APL_COLOR_START_ID};
	ReadRegister(SOFTWARE2_SOFTWARE2_05_reg, PTG_CALIB_APL, PTG_CALIB_APL, &u1_GetData);
	
	if(!u1_GetData){ //d814[0]
		if(u1_GetData!=u1_GetData_pre){
			Close_PTG();
			u1_GetData_pre = false;
			RGB_setting.u8_r_id = CHECK_APL_COLOR_START_ID;
			RGB_setting.u8_g_id = CHECK_APL_COLOR_START_ID;
			RGB_setting.u8_b_id = CHECK_APL_COLOR_START_ID;
			u16_index = 0;
			u8_tmp = APL_TOTAL_NUM/(APL_COLOR_NUM*APL_COLOR_NUM);
			rtd_pr_memc_emerg( "[%s]	********** APL GOLDEN TABLE **********\n", __MEMC_GET_BASICINFO_DATA__);
			rtd_pr_memc_emerg( "[%s]	{\n", __MEMC_GET_BASICINFO_DATA__);
			for(u8_i=0; u8_i<APL_COLOR_NUM*APL_COLOR_NUM;u8_i++) {
				rtd_pr_memc_emerg( "[%s]		%u, %u, %u, %u, %u,\n", __MEMC_GET_BASICINFO_DATA__, u20_APL_table[u8_i*u8_tmp], u20_APL_table[u8_i*u8_tmp+1], u20_APL_table[u8_i*u8_tmp+2], u20_APL_table[u8_i*u8_tmp+3], u20_APL_table[u8_i*u8_tmp+4]);
			}
			rtd_pr_memc_emerg( "[%s]	};\n", __MEMC_GET_BASICINFO_DATA__);
		}
		return;
	}
	
	u1_GetData_pre = true;
	if(BasicInfoCheck_Get_APL(&u20_APL, RGB_setting, true)==true){
		if(u20_APL_pre==u20_APL && u1_GetData_twice==true) {
			ReadRegister(IPPRE_IPPRE_58_reg,  0,  9, &u10_PixelVal_R);
			ReadRegister(IPPRE_IPPRE_58_reg, 10, 19, &u10_PixelVal_G);
			ReadRegister(IPPRE_IPPRE_58_reg, 20, 29, &u10_PixelVal_B);
			u20_APL_table[u16_index] = u20_APL;
			rtd_pr_memc_crit( "[%s][GetData] [R,G,B][,%d,%d,%d,] index,%d, rAPL,%d\n", __FUNCTION__, u10_PixelVal_R, u10_PixelVal_G, u10_PixelVal_B, u16_index, u20_APL_table[u16_index]);
			u1_GetData_twice = false;
		}
		else {
			rtd_pr_memc_crit( "[%s][unstable] index,%d, cur_APL,%u, pre_APL,%u\n", __FUNCTION__, u16_index, u20_APL, u20_APL_pre);
			u1_GetData_twice = true;
			u20_APL_pre = u20_APL;
			return;
		}
		//update rgb setting
		u16_index++;
		RGB_setting.u8_r_id++;
		if(RGB_setting.u8_r_id>=APL_COLOR_NUM) {
			RGB_setting.u8_r_id=CHECK_APL_COLOR_START_ID;
			RGB_setting.u8_g_id++;
		}
		if(RGB_setting.u8_g_id>=APL_COLOR_NUM) {
			RGB_setting.u8_g_id=CHECK_APL_COLOR_START_ID;
			RGB_setting.u8_b_id++;
		}
		if(RGB_setting.u8_b_id>=APL_COLOR_NUM) {
			RGB_setting.u8_b_id=CHECK_APL_COLOR_START_ID;
		}
	}
	if(u16_index==APL_TOTAL_NUM){
		u16_index = 0;
		WriteRegister(SOFTWARE2_SOFTWARE2_05_reg, PTG_CALIB_APL, PTG_CALIB_APL, 0);
	}
}

_Self_Check_Result BasicInfoCheck_Check_APL(void)
{
	_Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
	unsigned int u20_APL = 0, u10_PixelVal_R, u10_PixelVal_G, u10_PixelVal_B;
	unsigned short u16_APL_index = 0;
	static bool u1_first_set = true;
	static unsigned short u16_correct_num = 0, u16_total_num = 0, u1_first_set_cnt = 0;
	static unsigned int u20_APL_pre = 0;
	static _APL_RGB RGB_setting = {CHECK_APL_COLOR_START_ID, CHECK_APL_COLOR_START_ID, CHECK_APL_COLOR_START_ID};
	
	if(u1_first_set){
		if(u1_first_set_cnt==0){
			Init_Calib_Result(&Result);
			Close_PTG();
			Set_PTG(PTG_GET_APL_DATA);
			WriteRegister(IPPRE_IPPRE_58_reg,  0, 29, 0);
			RGB_setting.u8_r_id = CHECK_APL_COLOR_START_ID;
			RGB_setting.u8_g_id = CHECK_APL_COLOR_START_ID;
			RGB_setting.u8_b_id = CHECK_APL_COLOR_START_ID;	
			u16_correct_num = 0;
			u16_total_num = 0;
		}
		u1_first_set_cnt++;
		if(u1_first_set_cnt>MAX_SET_PTG_CNT){
			u1_first_set_cnt = 0;
			u1_first_set = false;
		}
		return Result;
	}
	
	if(u16_total_num==APL_TOTAL_NUM){
		Set_PTG(PTG_DEFAULT);
		Close_PTG();
		u1_first_set = true;
		Result.u16_correct_num = u16_correct_num;
		Result.u16_total_num = u16_total_num;
		Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_INTERNAL, PTG_CALIB_APL, Result.u16_correct_num, Result.u16_total_num);
		return Result;
	}
	if(BasicInfoCheck_Get_APL(&u20_APL, RGB_setting, false)==true){
		u16_total_num++;
		ReadRegister(IPPRE_IPPRE_58_reg,  0,  9, &u10_PixelVal_R);
		ReadRegister(IPPRE_IPPRE_58_reg, 10, 19, &u10_PixelVal_G);
		ReadRegister(IPPRE_IPPRE_58_reg, 20, 29, &u10_PixelVal_B);
		u16_APL_index = _MIN_(((u10_PixelVal_R+1)/SCALE_APL_COLOR_STEP) + ((u10_PixelVal_G+1)/SCALE_APL_COLOR_STEP)*APL_COLOR_NUM + ((u10_PixelVal_B+1)/SCALE_APL_COLOR_STEP)*APL_COLOR_NUM*APL_COLOR_NUM, APL_TOTAL_NUM-1);
		
		if(_ABS_DIFF_(u20_APL,APL_GOLDEN[u16_APL_index])<=APL_TOLERANCE){
			u16_correct_num++;
			rtd_pr_memc_crit( "[%s][%s][OK] %d/%d(ok/total) std apl,%u, read apl,%u\n", __MEMC_SELF_CALIB__, __FUNCTION__, u16_correct_num, u16_total_num, APL_GOLDEN[u16_APL_index], u20_APL);
		}
		else if(u20_APL_pre!=u20_APL){
			u16_total_num--;
			Result.u16_correct_num = u16_correct_num;
			Result.u16_total_num = u16_total_num;
			u20_APL_pre=u20_APL;
			rtd_pr_memc_crit("[%s][%s][Double Check] std apl,%u, read apl,%u\n", __MEMC_SELF_CALIB__, __FUNCTION__, APL_GOLDEN[u16_APL_index], u20_APL);
			return Result;
		}
		else {
			rtd_pr_memc_crit("[%s][%s][NG] %d/%d(ok/total) [R,G,B][,%d,%d,%d,] std apl,%u, read apl,%u\n", __MEMC_SELF_CALIB__, __FUNCTION__, u16_correct_num, u16_total_num, u10_PixelVal_R, u10_PixelVal_G, u10_PixelVal_B, APL_GOLDEN[u16_APL_index], u20_APL);
		}
		u20_APL_pre=u20_APL;
		
		//update rgb setting
		RGB_setting.u8_r_id++;
		if(RGB_setting.u8_r_id>=APL_COLOR_NUM) {
			RGB_setting.u8_r_id=CHECK_APL_COLOR_START_ID;
			RGB_setting.u8_g_id++;
		}
		if(RGB_setting.u8_g_id>=APL_COLOR_NUM) {
			RGB_setting.u8_g_id=CHECK_APL_COLOR_START_ID;
			RGB_setting.u8_b_id++;
		}
		if(RGB_setting.u8_b_id>=APL_COLOR_NUM) {
			RGB_setting.u8_b_id=CHECK_APL_COLOR_START_ID;
		}
	}
	Result.u16_correct_num = u16_correct_num;
	Result.u16_total_num = u16_total_num;
	return Result;
}

BOOL BasicInfoCheck_Get_DTL(unsigned int *u25_DTL, _DTL_PTG_Param PTG_Param, BOOL get_from_HW)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	bool u1_chg_set = false;
	unsigned int u25_read_DTL = 0, u8_checkerboard_width = 0, u8_checkerboard_height = 0, u8_checkerboard_color = 0, debug_log_en = 0;
	static unsigned char u8_Set_cnt = 0, u8_check_cnt = 0;
	static unsigned int u25_DTL_pre = 0;
	
	StopMove_PTG();
	if(get_from_HW){
		ReadRegister(KME_ME1_TOP6_KME_ME1_TOP6_D8_reg, 0, 25, &u25_read_DTL);
	}else{ //get from FW
		u25_read_DTL = s_pContext->_output_read_comreg.u25_me_aDTL_rb;
	}
	
	if(u8_Set_cnt==0) {
		Set_PTG(PTG_GET_DTL_DATA);
		u8_checkerboard_width = PTG_Param.u8_checkerboard_width;
		u8_checkerboard_height = PTG_Param.u8_checkerboard_height;
		u8_checkerboard_color = PTG_Param.u10_color;
		Set_Checkerboard_Size(u8_checkerboard_width, u8_checkerboard_height);
		WriteRegister(IPPRE_IPPRE_28_reg, 16, 18, 0x7);//checkerboard rgb weight(7->white)
		WriteRegister(IPPRE_IPPRE_28_reg, 19, 23, u8_checkerboard_color);
	}
	else if(u8_Set_cnt>=QUICK_SET_PTG_CNT) {
		if(u25_read_DTL == u25_DTL_pre){
			u8_check_cnt++;
		}else {
			u8_check_cnt = 0;
		}
		if(u8_check_cnt >= g_DTL_CHECK_CNT_TH) {
			u1_chg_set = true;
			*u25_DTL = u25_read_DTL;
		}
	}
	
	u25_DTL_pre = u25_read_DTL;
	u8_Set_cnt = (u1_chg_set==true) ? 0 : (u8_Set_cnt<127) ? u8_Set_cnt+1 : 0;
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	if(debug_log_en) { 
		rtd_pr_memc_crit( "[%s] %d,  cur_DTL,%d, pre_DTL,%d\n", __FUNCTION__, u8_Set_cnt, u25_read_DTL, u25_DTL_pre);
	}
	return u1_chg_set;
}

VOID BasicInfoCheck_Show_DTL_Info(void)
{
	unsigned char u8_i = 0, u8_tmp = 0;
	unsigned int u1_GetData = 0, u25_DTL = 0;
	_DTL_PTG_Param PTG_Param = {0, 0};
	static bool u1_GetData_pre = false, u1_GetData_twice = false;
	static unsigned int u25_DTL_pre = 0, u25_DTL_table[DTL_TOTAL_NUM] = {0};
	static unsigned short u16_index = 0;
	static unsigned char u8_checkerboard_width_id = CHECK_DTL_CHECKERBOARD_W_START_ID, u8_checkerboard_height_id = CHECK_DTL_CHECKERBOARD_H_START_ID, u8_checkerboard_color_id = CHECK_DTL_CHECKERBOARD_C_START_ID;
	ReadRegister(SOFTWARE2_SOFTWARE2_05_reg, PTG_CALIB_DTL, PTG_CALIB_DTL, &u1_GetData);
	
	if(!u1_GetData){ //d814[1]
		if(u1_GetData!=u1_GetData_pre){
			Close_PTG();
			u1_GetData_pre = false;
			u8_checkerboard_width_id = CHECK_DTL_CHECKERBOARD_W_START_ID;
			u8_checkerboard_height_id = CHECK_DTL_CHECKERBOARD_H_START_ID;
			u8_checkerboard_color_id = CHECK_DTL_CHECKERBOARD_C_START_ID;
			u16_index = 0;
			u8_tmp = DTL_TOTAL_NUM/DTL_SIZE_NUM;
			rtd_pr_memc_emerg( "[%s]	********** DTL GOLDEN TABLE **********\n", __MEMC_GET_BASICINFO_DATA__);
			rtd_pr_memc_emerg( "[%s]	{\n", __MEMC_GET_BASICINFO_DATA__);
			for(u8_i=0; u8_i<DTL_SIZE_NUM;u8_i++) {
				rtd_pr_memc_emerg( "[%s] 	%u, %u, %u, %u, %u, %u,\n", __MEMC_GET_BASICINFO_DATA__, u25_DTL_table[u8_i*u8_tmp], u25_DTL_table[u8_i*u8_tmp+1], 
					u25_DTL_table[u8_i*u8_tmp+2], u25_DTL_table[u8_i*u8_tmp+3], u25_DTL_table[u8_i*u8_tmp+4], u25_DTL_table[u8_i*u8_tmp+5]);
			}
			rtd_pr_memc_emerg( "[%s]	};\n", __MEMC_GET_BASICINFO_DATA__);
		}
		return;
	}
	
	u1_GetData_pre = true;
	PTG_Param.u8_checkerboard_width = (u8_checkerboard_width_id+1)*SCALE_DTL_CHECKERBOARD_SIZE;
	PTG_Param.u8_checkerboard_height = (u8_checkerboard_height_id+1)*SCALE_DTL_CHECKERBOARD_SIZE;
	PTG_Param.u10_color = _MIN_(u8_checkerboard_color_id*SCALE_DTL_CHECKERBOARD_COLOR + OFFSET_DTL_CHECKERBOARD_COLOR, 31);
	if(BasicInfoCheck_Get_DTL(&u25_DTL, PTG_Param, true)==true){
		if(u25_DTL_pre==u25_DTL && u1_GetData_twice==true) {
			u25_DTL_table[u16_index] = u25_DTL;
			rtd_pr_memc_crit( "[%s][GetData] index,%d, w,h,c,%d,%d,%d, DTL,%u\n", __FUNCTION__, u16_index, PTG_Param.u8_checkerboard_width, PTG_Param.u8_checkerboard_height, PTG_Param.u10_color, u25_DTL_table[u16_index]);
			u1_GetData_twice = false;
		}
		else {
			rtd_pr_memc_crit( "[%s][unstable] index,%d, cur_DTL,%u, pre_DTL,%u\n", __FUNCTION__, u16_index, u25_DTL, u25_DTL_pre);
			u1_GetData_twice = true;
			u25_DTL_pre = u25_DTL;
			return;
		}
		u16_index++;
#if PTG_CHECKERBOARD_ALIGN
		u8_checkerboard_width_id++;
		if(u8_checkerboard_width_id>DTL_SIZE_NUM) {
			u8_checkerboard_width_id=CHECK_DTL_CHECKERBOARD_W_START_ID;
			u8_checkerboard_height_id++;
		}
		if(u8_checkerboard_height_id>DTL_SIZE_NUM) {
			u8_checkerboard_height_id=CHECK_DTL_CHECKERBOARD_H_START_ID;
			u8_checkerboard_color_id++;
		}
#else
		u8_checkerboard_width_id++;
		if(u8_checkerboard_width_id>DTL_SIZE_NUM) {
			u8_checkerboard_width_id=CHECK_DTL_CHECKERBOARD_W_START_ID;
			u8_checkerboard_color_id++;
		}
		u8_checkerboard_height_id = u8_checkerboard_width_id;
#endif
		if(u8_checkerboard_color_id>DTL_COLOR_NUM) {
			u8_checkerboard_color_id=CHECK_DTL_CHECKERBOARD_C_START_ID;
		}
	}
	if(u16_index==DTL_TOTAL_NUM){
		u16_index = 0;
		WriteRegister(SOFTWARE2_SOFTWARE2_05_reg, PTG_CALIB_DTL, PTG_CALIB_DTL, 0);
	}
}

_Self_Check_Result BasicInfoCheck_Check_DTL(void)
{
	_Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
	unsigned int u25_DTL = 0, u32_DTL_up = 0, u32_DTL_down = 0;
	_DTL_PTG_Param PTG_Param = {0, 0};
	static bool u1_first_set = true;
	static unsigned int u25_DTL_pre = 0;
	static unsigned short u16_correct_num = 0, u16_total_num = 0, u16_index = 0;
	static unsigned char u8_checkerboard_width_id = CHECK_DTL_CHECKERBOARD_W_START_ID, u8_checkerboard_height_id = CHECK_DTL_CHECKERBOARD_H_START_ID, u8_checkerboard_color_id = CHECK_DTL_CHECKERBOARD_C_START_ID;

	if(u1_first_set){
		Init_Calib_Result(&Result);
		Close_PTG();
		u16_correct_num = 0;
		u16_total_num = 0;
		u8_checkerboard_width_id = CHECK_DTL_CHECKERBOARD_W_START_ID;
		u8_checkerboard_height_id = CHECK_DTL_CHECKERBOARD_H_START_ID;
		u16_index = 0;
		u1_first_set = false;
	}
	if(u16_total_num==DTL_TOTAL_NUM){
		Set_PTG(PTG_DEFAULT);
		Close_PTG();
		u1_first_set = true;
		Result.u16_correct_num = u16_correct_num;
		Result.u16_total_num = u16_total_num;
		Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_INTERNAL, PTG_CALIB_DTL, Result.u16_correct_num, Result.u16_total_num);
		return Result;
	}
	
	PTG_Param.u8_checkerboard_width = (unsigned int)(SCALE_DTL_CHECKERBOARD_SIZE)*(u8_checkerboard_width_id+1);
	PTG_Param.u8_checkerboard_height = (unsigned int)(SCALE_DTL_CHECKERBOARD_SIZE)*(u8_checkerboard_height_id+1);
	PTG_Param.u10_color = _MIN_(u8_checkerboard_color_id*SCALE_DTL_CHECKERBOARD_COLOR + OFFSET_DTL_CHECKERBOARD_COLOR, 31);
	if(BasicInfoCheck_Get_DTL(&u25_DTL, PTG_Param, false)==true){
		u32_DTL_up = (DTL_GOLDEN[u16_index]*148)>>7;
		u32_DTL_down = (DTL_GOLDEN[u16_index]*108)>>7;
		u16_total_num++;
		
		if(u32_DTL_up>u25_DTL && u25_DTL>u32_DTL_down){
			u16_correct_num++;
			rtd_pr_memc_crit("[%s][%s][OK] %d/%d(ok/total) std DTL,%d, read DTL,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, u16_correct_num, u16_total_num, DTL_GOLDEN[u16_index], u25_DTL);
		}
		else if(u25_DTL_pre!=u25_DTL){
			u16_total_num--;
			Result.u16_correct_num = u16_correct_num;
			Result.u16_total_num = u16_total_num;
			u25_DTL_pre=u25_DTL;
			rtd_pr_memc_crit( "[%s][%s][Double Check] std DTL,%d, read DTL,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, DTL_GOLDEN[u16_index], u25_DTL);
			return Result;
		}
		else {
			rtd_pr_memc_crit( "[%s][%s][NG] %d/%d(ok/total) std DTL,%d, range,%d,%d, read DTL,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, u16_correct_num, u16_total_num, DTL_GOLDEN[u16_index], u32_DTL_up, u32_DTL_down, u25_DTL);
		}
		u16_index++;
		u25_DTL_pre=u25_DTL;
#if PTG_CHECKERBOARD_ALIGN
		u8_checkerboard_width_id++;
		if(u8_checkerboard_width_id>DTL_SIZE_NUM) {
			u8_checkerboard_width_id=CHECK_DTL_CHECKERBOARD_W_START_ID;
			u8_checkerboard_height_id++;
		}
		if(u8_checkerboard_height_id>DTL_SIZE_NUM) {
			u8_checkerboard_height_id=CHECK_DTL_CHECKERBOARD_H_START_ID;
			u8_checkerboard_color_id++;
		}
#else
		u8_checkerboard_width_id++;
		if(u8_checkerboard_width_id>DTL_SIZE_NUM) {
			u8_checkerboard_width_id=CHECK_DTL_CHECKERBOARD_W_START_ID;
			u8_checkerboard_color_id++;
		}
		u8_checkerboard_height_id = u8_checkerboard_width_id;
#endif
		if(u8_checkerboard_color_id>DTL_COLOR_NUM) {
			u8_checkerboard_color_id=CHECK_DTL_CHECKERBOARD_C_START_ID;
		}
	}
	Result.u16_correct_num = u16_correct_num;
	Result.u16_total_num = u16_total_num;
	return Result;
}

void Restore_Setting_By_GetSAD(void)
{
	Set_PTG(PTG_DEFAULT);
	WriteRegister(HARDWARE_HARDWARE_00_reg, 0, 0, 1);		 //open the RimCrtl(u1_RimCtrl_en)
	WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 0,  0, 0); //enable force me
	WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 9,  9, 0); //open scene change
	WriteRegister(KME_ME1_TOP1_ME1_SCENE1_12_reg, 0, 10, 0); //horizontal speed
	WriteRegister(KME_ME1_TOP1_ME1_SCENE1_12_reg,11, 20, 0); //vertical speed
}

BOOL BasicInfoCheck_Get_SAD(unsigned int *u31_SAD, _SAD_PTG_Param PTG_Param, BOOL get_from_HW, BOOL u1_chg_index)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	const unsigned char u8_MAX_set_cnt = 30;
	const unsigned char u8_ClearMV_cnt = u8_MAX_set_cnt/2;
	const unsigned short u16_MAX_savedate_cnt = 200;
	const unsigned char u8_check_apl_th = 4;
	static bool u1_check_apl = false, u1_force_get_apl = false;
	static unsigned long long u64_sad_sum = 0;
	static unsigned char u8_setting_cnt = u8_MAX_set_cnt, u8_check_apl_cnt = 0;
	static unsigned short u16_savedata_cnt = u16_MAX_savedate_cnt;
	static unsigned int u32_apli_rgn0_std = 0, u32_apli_rgn7_std = 0, u32_apl_diff_th = 0;
	unsigned int u32_read_SAD=0, debug_log_en=0;
	unsigned int u13_square_w = PTG_Param.u13_square_width;
	unsigned int u13_square_h = PTG_Param.u13_square_height;
	unsigned int u8_checkerboard_w = PTG_Param.u8_checkerboard_width;
	unsigned int u8_checkerboard_h = PTG_Param.u8_checkerboard_height;
	unsigned int u8_speed = PTG_Param.u8_speed;
	#ifndef CONFIG_ARM64
	unsigned long long tmp_u64_sad_sum = 0;
	#endif
	bool u1_chg_sad = false;
	WriteRegister(HARDWARE_HARDWARE_00_reg, 0, 0, 0);	//close the RimCrtl(u1_RimCtrl_en)
	
	if(u1_chg_index==true){
		u1_force_get_apl=true;
		u1_check_apl=false;
		u64_sad_sum = 0;
		u8_setting_cnt = u8_MAX_set_cnt;
		u8_check_apl_cnt = 0;
		u16_savedata_cnt = u16_MAX_savedate_cnt;
		u32_apli_rgn0_std = 0;
		u32_apli_rgn7_std = 0;
		u32_apl_diff_th = 0;
	}
	if(u8_setting_cnt>0) {
		if(u8_setting_cnt==u8_MAX_set_cnt){
			Set_Checkerboard_Size(u8_checkerboard_w, u8_checkerboard_h);
			WriteRegister(IPPRE_IPPRE_28_reg,16,31, SAD_CHECKERBOARD_COLOR); //checkerboard color
			
			WriteRegister(IPPRE_IPPRE_20_reg, 7, 7, 1);		//PTG switch
			WriteRegister(IPPRE_IPPRE_70_reg, 0,31, 0xf); 	//PTG motion sequence(pure video)
			WriteRegister(IPPRE_IPPRE_60_reg,24,28, 4); 	//PTG motion sequence length(pure video)
			WriteRegister(IPPRE_IPPRE_58_reg, 0, 9, SAD_SQUARE_COLOR.u10_r);	//square color
			WriteRegister(IPPRE_IPPRE_58_reg,10,19, SAD_SQUARE_COLOR.u10_g);
			WriteRegister(IPPRE_IPPRE_58_reg,20,29, SAD_SQUARE_COLOR.u10_b);
			WriteRegister(IPPRE_IPPRE_20_reg, 8,10, 5);	//set checkerboard
			WriteRegister(IPPRE_IPPRE_50_reg, 24,31, u8_speed);	//PTG horzontal speed
			WriteRegister(IPPRE_IPPRE_54_reg, 24,31, 0);		//PTG vertical speed
			WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 0,  0, 1);		//enable force me
		}
		// clear the mv
		if(u8_setting_cnt>u8_ClearMV_cnt){
			WriteRegister(IPPRE1_IPPRE1_54_reg, 0,12, 1);	//square width
			WriteRegister(IPPRE1_IPPRE1_54_reg,16,28, 1);	//square height
			WriteRegister(KME_ME1_TOP1_ME1_SCENE1_12_reg, 0, 10, 0);	//horizontal
			WriteRegister(KME_ME1_TOP1_ME1_SCENE1_12_reg,11, 20, 0);		//vertiacl
			WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 9, 9, 1); //open scene change
			WriteRegister(IPPRE_IPPRE_60_reg,29,29, 0);//stop moving the square
			u8_setting_cnt = (u8_setting_cnt>0) ? u8_setting_cnt-1 : 0;
		}
		// get the region0 and region7 APL to prevent getting sad when moving square in boundary
		else if(u1_check_apl==false && (u8_speed==CHECK_SAD_START_SPEED||u1_force_get_apl)){
			WriteRegister(IPPRE1_IPPRE1_54_reg, 0,12, 1);	//square width
			WriteRegister(IPPRE1_IPPRE1_54_reg,16,28, 1);	//square height
			WriteRegister(IPPRE_IPPRE_60_reg,29,29, 0);//stop moving the square
			if(u32_apli_rgn0_std!=s_pContext->_output_read_comreg.u20_me_rAPLi_rb[0] || u32_apli_rgn7_std!=s_pContext->_output_read_comreg.u20_me_rAPLi_rb[7]) {
				u32_apli_rgn0_std = s_pContext->_output_read_comreg.u20_me_rAPLi_rb[0];
				u32_apli_rgn7_std = s_pContext->_output_read_comreg.u20_me_rAPLi_rb[7];
				u8_check_apl_cnt = 0;
			}else {
				u8_check_apl_cnt++;
				if(u8_check_apl_cnt>=u8_check_apl_th){
					u32_apl_diff_th = _MAX_(((u32_apli_rgn0_std+u32_apli_rgn7_std)*52)>>10, SAD_CHECK_MAX_rAPL_DIFF);
					u1_check_apl = true;
					u1_force_get_apl = false;
				}
			}
		}
		else {
			WriteRegister(IPPRE1_IPPRE1_54_reg, 0,12, u13_square_w);	//square width
			WriteRegister(IPPRE1_IPPRE1_54_reg,16,28, u13_square_h);	//square height
			WriteRegister(KME_ME1_TOP1_ME1_SCENE1_12_reg, 0, 10, u8_speed);	//horizontal
			WriteRegister(KME_ME1_TOP1_ME1_SCENE1_12_reg,11, 20, 0);		//vertiacl
			WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 9, 9, 0); //close scene change
			WriteRegister(IPPRE_IPPRE_60_reg,29,29, 1);//start moving the square
			u8_setting_cnt = (u8_setting_cnt>0) ? u8_setting_cnt-1 : 0;
		}
	}
	if((_ABS_DIFF_(s_pContext->_output_read_comreg.u20_me_rAPLi_rb[0], u32_apli_rgn0_std) > u32_apl_diff_th || _ABS_DIFF_(s_pContext->_output_read_comreg.u20_me_rAPLi_rb[7], u32_apli_rgn7_std) > u32_apl_diff_th)&& u8_speed != 0)
	{
		// sad is unstable when moving square in boundary(region 0,7),
		// so system won't save the sad in this case
	}
	else if(u8_setting_cnt==0 && u16_savedata_cnt>0) {
		if(get_from_HW) {
			u32_read_SAD = rtd_inl(KME_ME1_TOP6_KME_ME1_TOP6_D4_reg)&KME_ME1_TOP6_KME_ME1_TOP6_D4_regr_me1_statis_glb_sad_mask;
		}else{ //get from FW
			u32_read_SAD = s_pContext->_output_read_comreg.u30_me_aSAD_rb;
		}
		u64_sad_sum += u32_read_SAD;
		u16_savedata_cnt = (u16_savedata_cnt>0) ? u16_savedata_cnt-1 : 0;
	}
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	if(debug_log_en){
		rtd_pr_memc_emerg( "[%s] cnt,%d,%d,	sad,%u,	apl_check,%d,%u apl_rgn0,%u,%u,	apl_rgn7,%u,%u, speed,%d\n", __FUNCTION__, u8_setting_cnt, u16_savedata_cnt, u32_read_SAD,
			u1_check_apl, u32_apl_diff_th, s_pContext->_output_read_comreg.u20_me_rAPLi_rb[0], u32_apli_rgn0_std, s_pContext->_output_read_comreg.u20_me_rAPLi_rb[7], u32_apli_rgn7_std, u8_speed);
	}
	if(u16_savedata_cnt==0) {
		u1_chg_sad = true;
		u8_setting_cnt = u8_MAX_set_cnt;
		u16_savedata_cnt = u16_MAX_savedate_cnt;
		#ifdef CONFIG_ARM64
		*u31_SAD = u64_sad_sum/u16_MAX_savedate_cnt;
		#else
		tmp_u64_sad_sum=u64_sad_sum;
		do_div(tmp_u64_sad_sum,u16_MAX_savedate_cnt);
		*u31_SAD = tmp_u64_sad_sum;
		#endif
		u64_sad_sum = 0;
		if(u8_speed!=CHECK_SAD_START_SPEED){
			u1_check_apl = false;
			u8_check_apl_cnt = 0;
		}
	}
	return u1_chg_sad;
}

VOID BasicInfoCheck_Show_SAD_Info(void)
{
	static unsigned int u31_SAD_table[SAD_TOTAL_NUM] = {0}, u31_SAD_Median[SAD_MEDIAN_NUM] = {0};
	unsigned int u1_GetData = 0, u31_SAD = 0;
	unsigned char u8_i = 0, u8_tmp = 0;
	bool u1_init_sad_index = false;
	static unsigned char bar_w_id=CHECK_SAD_BAR_W_START_ID, bar_h_id=CHECK_SAD_BAR_H_START_ID, speed_id=CHECK_SAD_SPEED_START_ID, checkerboard_w_id=CHECK_SAD_CHECKERBOARD_W_START_ID, checkerboard_h_id=CHECK_SAD_CHECKERBOARD_H_START_ID, u8_MeanVal_id = 0;
	static unsigned short u16_index = 0;
	static bool u1_GetData_pre = false;
	static unsigned int u31_SAD_pre = 0;
	_SAD_PTG_Param PTG_Param = {0, 0, 0, 0, 0};
	ReadRegister(SOFTWARE2_SOFTWARE2_05_reg, PTG_CALIB_SAD, PTG_CALIB_SAD, &u1_GetData);
	
	if(!u1_GetData){ //d814[2]
		if(u1_GetData!=u1_GetData_pre){
			Restore_Setting_By_GetSAD();
			Close_PTG();//PTG switch
			u1_GetData_pre = false;
			bar_w_id=CHECK_SAD_BAR_W_START_ID;
			bar_h_id=CHECK_SAD_BAR_H_START_ID;
			speed_id=CHECK_SAD_SPEED_START_ID;
			checkerboard_w_id=CHECK_SAD_CHECKERBOARD_W_START_ID;
			checkerboard_h_id=CHECK_SAD_CHECKERBOARD_H_START_ID;
			u16_index = 0;
			u8_tmp = SAD_TOTAL_NUM/(SAD_SPEED_NUM*SAD_SQUARE_SIZE_NUM*SAD_SQUARE_SIZE_NUM);
			rtd_pr_memc_emerg( "[%s]	********** SAD GOLDEN TABLE **********\n", __MEMC_GET_BASICINFO_DATA__);
			rtd_pr_memc_emerg( "[%s]	{\n", __MEMC_GET_BASICINFO_DATA__);
			for(u8_i=0; u8_i<(SAD_SPEED_NUM*SAD_SQUARE_SIZE_NUM*SAD_SQUARE_SIZE_NUM);u8_i++) {
				rtd_pr_memc_emerg( "[%s]		%u, %u, %u, %u, %u, %u, %u, %u, %u,\n", __MEMC_GET_BASICINFO_DATA__, u31_SAD_table[u8_i*u8_tmp], u31_SAD_table[u8_i*u8_tmp+1], u31_SAD_table[u8_i*u8_tmp+2], 
					u31_SAD_table[u8_i*u8_tmp+3], u31_SAD_table[u8_i*u8_tmp+4], u31_SAD_table[u8_i*u8_tmp+5], u31_SAD_table[u8_i*u8_tmp+6], u31_SAD_table[u8_i*u8_tmp+7], u31_SAD_table[u8_i*u8_tmp+8]);
			}
			rtd_pr_memc_emerg( "[%s]	};\n", __MEMC_GET_BASICINFO_DATA__);
		}
		return;
	}
	else {
		if(u1_GetData!=u1_GetData_pre){
			u1_init_sad_index = true;
		}
	}
	
	u1_GetData_pre = true;
	PTG_Param.u13_square_width = (unsigned int)(SCALE_SAD_SQUARE_WIDTH)*bar_w_id;
	PTG_Param.u13_square_height = (unsigned int)(SCALE_SAD_SQUARE_HEIGHT)*bar_h_id;
	PTG_Param.u8_checkerboard_width = (unsigned int)(SCALE_SAD_CHECKERBOARD)*checkerboard_w_id;
	PTG_Param.u8_checkerboard_height = (unsigned int)(SCALE_SAD_CHECKERBOARD)*checkerboard_h_id;
	PTG_Param.u8_speed = (unsigned int)(SCALE_SAD_SPEED)*speed_id;
#ifdef H5C2
	PTG_Param.u8_checkerboard_width = PTG_Param.u8_checkerboard_width>>1;
#endif
	if(BasicInfoCheck_Get_SAD(&u31_SAD, PTG_Param, true, u1_init_sad_index)==true){
		if(_ABS_DIFF_(u31_SAD_pre, u31_SAD)<_MAX_((_MIN_(u31_SAD_pre, u31_SAD)>>4), SAD_CHECK_MIN_SAD)) {
			u31_SAD_Median[u8_MeanVal_id]= ((u31_SAD+u31_SAD_pre)>>1);
			rtd_pr_memc_crit( "[%s][GetMoreData] index,%d,%d, avg_SAD,%u, cur_SAD,%u, pre_SAD,%u\n", __FUNCTION__, u16_index, u8_MeanVal_id, u31_SAD_Median[u8_MeanVal_id], u31_SAD, u31_SAD_pre);
			u31_SAD_pre = u31_SAD;
		}
		else {
			rtd_pr_memc_crit( "[%s][unstable] index,%d,%d, cur_SAD,%u, pre_SAD,%u\n", __FUNCTION__, u16_index, u8_MeanVal_id, u31_SAD, u31_SAD_pre);
			u31_SAD_pre = u31_SAD;
			return;
		}
		
		u8_MeanVal_id++;
		if(u8_MeanVal_id>=SAD_MEDIAN_NUM){
			BasicInfoCheck_sort(u31_SAD_Median, SAD_MEDIAN_NUM);
			u31_SAD_table[u16_index] = u31_SAD_Median[(SAD_MEDIAN_NUM>>1)];
			rtd_pr_memc_crit( "[%s][GetData] index,%d, SAD,%u,     %u,%u,%u,\n", __FUNCTION__, u16_index, u31_SAD_table[u16_index],u31_SAD_Median[0],u31_SAD_Median[1],u31_SAD_Median[2]);
			u8_MeanVal_id=0;
			//update the ptg setting
			u16_index++;
			speed_id++;
			if(speed_id>SAD_SPEED_NUM) {
				speed_id = CHECK_SAD_SPEED_START_ID;
				checkerboard_w_id++;
			}
			if(checkerboard_w_id>=SAD_CHECKERBOARD_SIZE_NUM) {
				checkerboard_w_id = CHECK_SAD_CHECKERBOARD_W_START_ID;
				checkerboard_h_id++;
			}
			if(checkerboard_h_id>=SAD_CHECKERBOARD_SIZE_NUM) {
				checkerboard_h_id = CHECK_SAD_CHECKERBOARD_H_START_ID;
				bar_w_id++;
			}
			if(bar_w_id>SAD_SQUARE_SIZE_NUM) {
				bar_w_id = CHECK_SAD_BAR_W_START_ID;
				bar_h_id++;
			}
			if(bar_h_id>SAD_SQUARE_SIZE_NUM) {
				bar_h_id = CHECK_SAD_BAR_H_START_ID;
			}
		}
	}
	if(u16_index==SAD_TOTAL_NUM){
		u16_index = 0;
		WriteRegister(SOFTWARE2_SOFTWARE2_05_reg, PTG_CALIB_SAD, PTG_CALIB_SAD, 0);
	}
}

void BasicInfoCheck_Single_Check_SAD(void)
{
	_SAD_PTG_Param PTG_Param = {0, 0, 0, 0, 0};
	static bool u1_check_pre = false;
	static unsigned short u16_index_pre = 0xffff;
	static unsigned char bar_w_id = 0, bar_h_id = 0, speed_id = 0, checkerboard_w_id = 0, checkerboard_h_id = 0;
	unsigned int u16_index = 0, u31_SAD = 0, u32_SAD_up = 0, u32_SAD_down = 0, u1_check_single_sad = 0;
	bool u1_chg_index = false;
	ReadRegister(SOFTWARE2_SOFTWARE2_07_reg, 8, 8, &u1_check_single_sad);
	
	if(!u1_check_single_sad){
		if(u1_check_pre==true){
			Restore_Setting_By_GetSAD();
			Close_PTG();
			u1_check_pre = false;
			u16_index_pre = 0xffff;
		}
		return;
	}
	
	u1_check_pre = true;
	ReadRegister(SOFTWARE2_SOFTWARE2_07_reg, 0, 7, &u16_index);
	u16_index = _CLIP_(u16_index, 0, SAD_TOTAL_NUM-1);
	if(u16_index_pre!=u16_index) {
		u1_chg_index = true;
		u16_index_pre = u16_index;
	}
	if(u1_chg_index){
		bar_h_id = CHECK_SAD_BAR_H_START_ID + (u16_index)/(SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_SQUARE_SIZE_NUM);
		bar_w_id = CHECK_SAD_BAR_W_START_ID + (u16_index-(SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_SQUARE_SIZE_NUM)*(bar_h_id-CHECK_SAD_BAR_H_START_ID))/(SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_CHECKERBOARD_SIZE_NUM);
		checkerboard_h_id = CHECK_SAD_CHECKERBOARD_H_START_ID + (u16_index-(SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_SQUARE_SIZE_NUM)*(bar_h_id-CHECK_SAD_BAR_H_START_ID)-(SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_CHECKERBOARD_SIZE_NUM)*(bar_w_id-CHECK_SAD_BAR_W_START_ID))/(SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM);
		checkerboard_w_id = CHECK_SAD_CHECKERBOARD_W_START_ID + (u16_index-(SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_SQUARE_SIZE_NUM)*(bar_h_id-CHECK_SAD_BAR_H_START_ID)-(SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM*SAD_CHECKERBOARD_SIZE_NUM)*(bar_w_id-CHECK_SAD_BAR_W_START_ID)-(SAD_SPEED_NUM*SAD_CHECKERBOARD_SIZE_NUM)*(checkerboard_h_id-CHECK_SAD_CHECKERBOARD_H_START_ID))/(SAD_SPEED_NUM);
		speed_id = CHECK_SAD_SPEED_START_ID + (u16_index-(u16_index/SAD_SPEED_NUM)*SAD_SPEED_NUM);
	}
	PTG_Param.u13_square_width = (unsigned int)(SCALE_SAD_SQUARE_WIDTH)*bar_w_id;
	PTG_Param.u13_square_height = (unsigned int)(SCALE_SAD_SQUARE_HEIGHT)*bar_h_id;
	PTG_Param.u8_checkerboard_width = (unsigned int)(SCALE_SAD_CHECKERBOARD)*checkerboard_w_id;
	PTG_Param.u8_checkerboard_height = (unsigned int)(SCALE_SAD_CHECKERBOARD)*checkerboard_h_id;
	PTG_Param.u8_speed = (unsigned int)(SCALE_SAD_SPEED)*speed_id;
#ifdef H5C2
	PTG_Param.u8_checkerboard_width = PTG_Param.u8_checkerboard_width>>1;
#endif
	if(BasicInfoCheck_Get_SAD(&u31_SAD, PTG_Param, false, u1_chg_index)==true){
		u32_SAD_up = Get_SAD_Up_Boundary(u16_index);
		u32_SAD_down = Get_SAD_Down_Boundary(u16_index);
		rtd_pr_memc_emerg( "[%s][%s] index,%d, std sad,%u, read sad,%u, limit,%u,%u [square w,h][,%d,%d,] [checkerboard w,h][,%d,%d,] [speed][,%d,]\n", __MEMC_SELF_CALIB__, __FUNCTION__, 
			u16_index, SAD_GOLDEN[u16_index], u31_SAD, u32_SAD_up, u32_SAD_down, PTG_Param.u13_square_width, PTG_Param.u13_square_height, PTG_Param.u8_checkerboard_width, PTG_Param.u8_checkerboard_height, PTG_Param.u8_speed);
	}
}

_Self_Check_Result BasicInfoCheck_Check_SAD(void)
{
	_Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
	static bool u1_first_set = true;
	bool u1_init_sad_index = false;
	unsigned int u31_SAD = 0, u32_SAD_up = 0, u32_SAD_down = 0;
	static unsigned char bar_w_id = CHECK_SAD_BAR_W_START_ID, bar_h_id = CHECK_SAD_BAR_H_START_ID, speed_id = CHECK_SAD_SPEED_START_ID, checkerboard_w_id = CHECK_SAD_CHECKERBOARD_W_START_ID, checkerboard_h_id = CHECK_SAD_CHECKERBOARD_H_START_ID;
	static unsigned short u16_index = 0;
	_SAD_PTG_Param PTG_Param = {0, 0, 0, 0, 0};
	static unsigned short u16_correct_num = 0, u16_total_num = 0;
	static unsigned int u31_SAD_pre = 0;
	
	if(u1_first_set){
		Init_Calib_Result(&Result);
		Close_PTG();//PTG switch
		bar_w_id=CHECK_SAD_BAR_W_START_ID;
		bar_h_id=CHECK_SAD_BAR_H_START_ID;
		speed_id=CHECK_SAD_SPEED_START_ID;
		checkerboard_w_id=CHECK_SAD_CHECKERBOARD_W_START_ID;
		checkerboard_h_id=CHECK_SAD_CHECKERBOARD_H_START_ID;
		u16_total_num=0;
		u16_correct_num=0;
		u16_index=0;
		u1_first_set = false;
		u1_init_sad_index = true;
	}
	if(u16_total_num==SAD_TOTAL_NUM){
		Restore_Setting_By_GetSAD();
		Close_PTG();
		u1_first_set = true;
		Result.u16_correct_num = u16_correct_num;
		Result.u16_total_num = u16_total_num;
		Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_INTERNAL, PTG_CALIB_SAD, Result.u16_correct_num, Result.u16_total_num);
		return Result;
	}
	PTG_Param.u13_square_width = (unsigned int)(SCALE_SAD_SQUARE_WIDTH)*bar_w_id;
	PTG_Param.u13_square_height = (unsigned int)(SCALE_SAD_SQUARE_HEIGHT)*bar_h_id;
	PTG_Param.u8_checkerboard_width = (unsigned int)(SCALE_SAD_CHECKERBOARD)*checkerboard_w_id;
	PTG_Param.u8_checkerboard_height = (unsigned int)(SCALE_SAD_CHECKERBOARD)*checkerboard_h_id;
	PTG_Param.u8_speed = (unsigned int)(SCALE_SAD_SPEED)*speed_id;
#ifdef H5C2
	PTG_Param.u8_checkerboard_width = PTG_Param.u8_checkerboard_width>>1;
#endif
	if(BasicInfoCheck_Get_SAD(&u31_SAD, PTG_Param, false, u1_init_sad_index)==true){
		u16_total_num++;
		u32_SAD_up = Get_SAD_Up_Boundary(u16_index);
		u32_SAD_down = Get_SAD_Down_Boundary(u16_index);
		if((u32_SAD_up>=u31_SAD && u31_SAD>=u32_SAD_down) || (u31_SAD<=SAD_CHECK_MIN_SAD && SAD_GOLDEN[u16_index]<=SAD_CHECK_MIN_SAD)){
			u16_correct_num++;
			rtd_pr_memc_crit( "[%s][%s][OK] %d/%d(ok/total) std sad,%u, read sad,%u, limit,%u,%u\n", __MEMC_SELF_CALIB__, __FUNCTION__, u16_correct_num, u16_total_num, SAD_GOLDEN[u16_index], u31_SAD, u32_SAD_up, u32_SAD_down);
		}
		else if(_ABS_DIFF_(u31_SAD_pre, u31_SAD)>(_MIN_(u31_SAD_pre, u31_SAD)>>3)){
			u16_total_num--;
			Result.u16_correct_num = u16_correct_num;
			Result.u16_total_num = u16_total_num;
			rtd_pr_memc_crit( "[%s][%s][Double Check] %d/%d(ok/total) std sad,%u, read cur sad,%u, read pre sad,%u, diff,%u, diff_th,%u\n", __MEMC_SELF_CALIB__, __FUNCTION__, u16_correct_num, u16_total_num, SAD_GOLDEN[u16_index], u31_SAD, u31_SAD_pre, _ABS_DIFF_(u31_SAD_pre, u31_SAD), (_MIN_(u31_SAD_pre, u31_SAD)>>3));
			u31_SAD_pre=u31_SAD;
			return Result;
		}
		else{
			rtd_pr_memc_crit( "[%s][%s][NG] %d/%d(ok/total) [square w,h][,%d,%d,] [checkerboard w,h][,%d,%d,] [speed][,%d,] std sad,%u, read sad,%u, limit,%u,%u\n", __MEMC_SELF_CALIB__, __FUNCTION__, u16_correct_num, u16_total_num, 
				PTG_Param.u13_square_width, PTG_Param.u13_square_height, PTG_Param.u8_checkerboard_width, PTG_Param.u8_checkerboard_height, PTG_Param.u8_speed, SAD_GOLDEN[u16_index], u31_SAD, u32_SAD_up, u32_SAD_down);
		}
		u16_index++;
		u31_SAD_pre=u31_SAD;
		//update the ptg setting
		speed_id++;
		if(speed_id>SAD_SPEED_NUM) {
			speed_id = CHECK_SAD_SPEED_START_ID;
			checkerboard_w_id++;
		}
		if(checkerboard_w_id>=SAD_CHECKERBOARD_SIZE_NUM) {
			checkerboard_w_id = CHECK_SAD_CHECKERBOARD_W_START_ID;
			checkerboard_h_id++;
		}
		if(checkerboard_h_id>=SAD_CHECKERBOARD_SIZE_NUM) {
			checkerboard_h_id = CHECK_SAD_CHECKERBOARD_H_START_ID;
			bar_w_id++;
		}
		if(bar_w_id>SAD_SQUARE_SIZE_NUM) {
			bar_w_id = CHECK_SAD_BAR_W_START_ID;
			bar_h_id++;
		}
		if(bar_h_id>SAD_SQUARE_SIZE_NUM) {
			bar_h_id = CHECK_SAD_BAR_H_START_ID;
		}
	}
	Result.u16_correct_num = u16_correct_num;
	Result.u16_total_num = u16_total_num;
	return Result;
}

VOID BasicInfoCheck_Show_Basic_Info(void)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	unsigned int log_mv, log_dtl, log_sad, log_tc, log_me_cnt, log_ipme_mot, log_blk_logo, log_me_rPRD, log_zmv, log_fb, log_apl, log_yuv_meter, log_sad_info;
	unsigned int max_tc = 0, max_sc = 0, sum_fb_max = 0, sum_fb_cnt = 0, max_rmv=0;
	unsigned long long sum_fb_sum = 0;
	unsigned char u8_i;
	static unsigned int u31_sad_pre = 0;
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 0, 0, &log_mv);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 1, 1, &log_dtl);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 2, 2, &log_sad);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 3, 3, &log_tc);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 4, 4, &log_me_cnt);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 5, 5, &log_ipme_mot);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 6, 6, &log_blk_logo);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 7, 7, &log_me_rPRD);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 8, 8, &log_zmv);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg, 9, 9, &log_fb);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg,10,10, &log_apl);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg,11,11, &log_yuv_meter);
	ReadRegister(SOFTWARE2_SOFTWARE2_06_reg,12,12, &log_sad_info);
	
	if(log_sad_info){
		for(u8_i=0;u8_i<32;u8_i++){
			max_rmv = _MAX_(_ABS_(s_pContext->_output_read_comreg.s10_me_rMV_1st_vy_rb[u8_i]), max_rmv);
			max_rmv = _MAX_(_ABS_(s_pContext->_output_read_comreg.s11_me_rMV_1st_vx_rb[u8_i]), max_rmv);
		}
		rtd_pr_memc_emerg( "[%s] SAD,%u, dtl,%u, apl,%u, max_rmv,%d, gmv,%d\n", __FUNCTION__,
					s_pContext->_output_read_comreg.u30_me_aSAD_rb, s_pContext->_output_read_comreg.u25_me_aDTL_rb,
					s_pContext->_output_read_comreg.u26_me_aAPLi_rb, max_rmv, s_pContext->_output_read_comreg.s11_me_GMV_1st_vx_rb);
	}
	
	if(log_mv) { //d818[0]
		rtd_pr_memc_emerg( "[%s] [1st]mvx,%d, mvy,%d, unconf,%d, gmvcnt,%u, [2nd]mvx,%d, mvy,%d, unconf,%d, gmvcnt,%u\n", __FUNCTION__,
			s_pContext->_output_read_comreg.s11_me_GMV_1st_vx_rb, s_pContext->_output_read_comreg.s10_me_GMV_1st_vy_rb, s_pContext->_output_read_comreg.u12_me_GMV_1st_unconf_rb, s_pContext->_output_read_comreg.u17_me_GMV_1st_cnt_rb,
			s_pContext->_output_read_comreg.s11_me_GMV_2nd_vx_rb, s_pContext->_output_read_comreg.s10_me_GMV_2nd_vy_rb, s_pContext->_output_read_comreg.u12_me_GMV_2nd_unconf_rb, s_pContext->_output_read_comreg.u17_me_GMV_2nd_cnt_rb);
	}
	if(log_dtl) { //d818[1]
		rtd_pr_memc_emerg( "[%s] aDTL,%u, rDTL,%u,\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u25_me_aDTL_rb, s_pContext->_output_read_comreg.u20_me_rDTL_rb[10]);
	}
	if(log_sad) { //d818[2]
		rtd_pr_memc_emerg( "[%s] SAD,%u, SAD_diff,%u,\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u30_me_aSAD_rb, _ABS_DIFF_(u31_sad_pre, s_pContext->_output_read_comreg.u30_me_aSAD_rb));
	}
	if(log_tc) { //d818[3]
		for(u8_i=0;u8_i<32;u8_i++){
			max_tc = (max_tc<s_pContext->_output_read_comreg.u22_me_rTC_rb[u8_i]) ? s_pContext->_output_read_comreg.u22_me_rTC_rb[u8_i] : max_tc;
			max_sc = (max_sc<s_pContext->_output_read_comreg.u22_me_rSC_rb[u8_i]) ? s_pContext->_output_read_comreg.u22_me_rSC_rb[u8_i] : max_sc;
		}
		rtd_pr_memc_emerg( "[%s] tc[max,all],%u,%u, sc[max,all],%u,%u\n", __FUNCTION__,
			max_tc, s_pContext->_output_read_comreg.u27_me_aTC_rb, max_sc, s_pContext->_output_read_comreg.u27_me_aSC_rb);
	}
	if(log_me_cnt) { //d818[4]
		rtd_pr_memc_emerg( "[%s] me_cnt,%u,%u,%u,%u, ,%u,%u,%u,%u\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u17_me_posCnt_0_rb, s_pContext->_output_read_comreg.u17_me_posCnt_1_rb,
			s_pContext->_output_read_comreg.u17_me_posCnt_2_rb, s_pContext->_output_read_comreg.u17_me_posCnt_3_rb,
			s_pContext->_output_read_comreg.u17_me_negCnt_0_rb, s_pContext->_output_read_comreg.u17_me_negCnt_1_rb,
			s_pContext->_output_read_comreg.u17_me_negCnt_2_rb, s_pContext->_output_read_comreg.u17_me_negCnt_3_rb);
	}
	if(log_ipme_mot) { //d818[5]
		rtd_pr_memc_emerg( "[%s] ipme_aMot,%u,%u,%u,%u,%u, 5Mot,%u,%u,%u,%u,%u, 12Mot,%u,%u,%u,%u,%u,%u,%u,%u,%u,%u,%u,%u\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u27_ipme_aMot_rb,
			rtd_inl(KME_IPME_KME_IPME_A4_reg)&KME_IPME_KME_IPME_A4_regr_ipme_fdet_mot_h0_rim_mask,
			rtd_inl(KME_IPME_KME_IPME_AC_reg)&KME_IPME_KME_IPME_AC_regr_ipme_fdet_mot_h1_rim_mask,
			rtd_inl(KME_IPME_KME_IPME_F8_reg)&KME_IPME_KME_IPME_F8_regr_ipme_fdet_mot_v0_rim_mask,
			rtd_inl(KME_IPME_KME_IPME_FC_reg)&KME_IPME_KME_IPME_FC_regr_ipme_fdet_mot_v1_rim_mask,
			s_pContext->_output_read_comreg.u27_ipme_5Mot_rb[0],
			s_pContext->_output_read_comreg.u27_ipme_5Mot_rb[1],
			s_pContext->_output_read_comreg.u27_ipme_5Mot_rb[2],
			s_pContext->_output_read_comreg.u27_ipme_5Mot_rb[3],
			s_pContext->_output_read_comreg.u27_ipme_5Mot_rb[4],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[0],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[1],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[2],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[3],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[4],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[5],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[6],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[7],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[8],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[9],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[10],
			s_pContext->_output_read_comreg.u27_ipme_12Mot_rb[11]);
	}
	#if IC_SUPPORT_PIXEL_LOGO
	if(log_blk_logo) { //d818[6]
		rtd_pr_memc_emerg( "[%s] blk_logo,%u,%u,%u,%u, pxllogo,%u\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u10_blklogo_rgcnt[0], s_pContext->_output_read_comreg.u16_blklogo_dh_clrcnt[0],
			s_pContext->_output_read_comreg.u16_blklogo_dh_clrcnt_bot[0], s_pContext->_output_read_comreg.u16_blklogo_dh_clrcnt_top[0],
			s_pContext->_output_read_comreg.u14_pxllogo_rgcnt[0]);
	}
	else
	if(log_blk_logo) { //d818[6]
		rtd_pr_memc_emerg( "[%s] blk_logo,%u,%u,%u,%u,\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u10_blklogo_rgcnt[0], s_pContext->_output_read_comreg.u16_blklogo_dh_clrcnt[0],
			s_pContext->_output_read_comreg.u16_blklogo_dh_clrcnt_bot[0], s_pContext->_output_read_comreg.u16_blklogo_dh_clrcnt_top[0]);
	}
	#endif
	if(log_me_rPRD) { //d818[7]
		rtd_pr_memc_emerg( "[%s] me_rPRD,%u,%u,%u,%u, rmv,%u,%u,%u\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u13_me_rPRD_rb[0], s_pContext->_output_read_comreg.u12_me_rLFB_rb[0],
			s_pContext->_output_read_comreg.u12_me_rMV_1st_cnt_rb[0], s_pContext->_output_read_comreg.u12_me_rMV_1st_unconf_rb[0],
			s_pContext->_output_read_comreg.u12_me_rMV_2nd_cnt_rb[0], s_pContext->_output_read_comreg.u12_me_rMV_2nd_unconf_rb[0],
			s_pContext->_output_read_comreg.u20_dh_pfvconf[0]);
	}
	if(log_zmv) { //d818[8]
		rtd_pr_memc_emerg( "[%s] zmv,%u,%u,%u,%u, ,%u,%u,%u,%u\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u31_me_ZMV_psad_dc_rb, s_pContext->_output_read_comreg.u31_me_ZMV_psad_ac_rb,
			s_pContext->_output_read_comreg.u20_me_ZMV_DcGreatAc_cnt_rb, s_pContext->_output_read_comreg.u20_me_ZMV_AcGreatDc_cnt_rb,
			s_pContext->_output_read_comreg.u16_mc_Hdtl_cnt, s_pContext->_output_read_comreg.u16_mc_Vdtl_cnt,
			s_pContext->_output_read_comreg.u17_me_ZMV_cnt_rb, s_pContext->_output_read_comreg.u17_me_ZMV_dtl_cnt_rb);
	}
	if(log_fb) { //d818[9]
		for(u8_i=0;u8_i<32;u8_i++){
			sum_fb_max += s_pContext->_output_read_comreg.u8_region_fb_max[u8_i];
			sum_fb_cnt += s_pContext->_output_read_comreg.u12_region_fb_cnt[u8_i];
			sum_fb_sum += s_pContext->_output_read_comreg.u32_region_fb_sum[u8_i];
		}
		rtd_pr_memc_emerg( "[%s] color,%u,%u,%u, fb,%u,%u,%llu\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u16_color_amount_u[0], s_pContext->_output_read_comreg.u16_color_amount_v[0],
			s_pContext->_output_read_comreg.u19_me_statis_glb_prd, sum_fb_max, sum_fb_cnt, sum_fb_sum);
	}
	
	if(log_apl) { //d818[10]
		rtd_pr_memc_emerg( "[%s] apl,%u,%u,  bg,%u,%u,\n", __FUNCTION__,
			s_pContext->_output_read_comreg.dh_bg_apl_seg0_cnt, s_pContext->_output_read_comreg.dh_fg_apl_seg0_cnt,
			s_pContext->_output_read_comreg.me1_gmv_bgcnt, s_pContext->_output_read_comreg.u16_bg_rgn_cnt[0]);
	}
	if(log_yuv_meter) { //d818[11]
		rtd_pr_memc_emerg( "[%s] yuv_meter,%u, histo_meter,%u\n", __FUNCTION__,
			s_pContext->_output_read_comreg.u32_yuv_meter[0], s_pContext->_output_read_comreg.u23_sub_histo_meter[0]);
	}
	u31_sad_pre = s_pContext->_output_read_comreg.u30_me_aSAD_rb;
}

_Self_Check_Result BasicInfoCheck_SceneChange_Calib(const _PARAM_FRC_SceneAnalysis *pParam)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	static _Self_Check_Result Result = {SELF_TEST_INIT, 0, 0};
	_str_scCtrl_table sc_table;
	unsigned int u4_dyn_SAD_Diff_rmv_ratio_th_l=0, u4_dyn_SAD_Diff_rmv_ratio_th_h=0, u32_SAD_avg=0, u32_SAD_th=0, debug_log_en=0;
	static unsigned int u32_rmv_sum = 0;
	static unsigned short u16_rmv_cnt = 0, u16_sad_cnt = 0, u16_set_cnt = 0, u16_lvl_cnt = 0;
	static unsigned long long u64_sad_sum = 0;
	static unsigned char u8_state = 0;
	#ifndef CONFIG_ARM64
	unsigned long long tmp_u64_sad_sum = 0;
	#endif
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	
	if(u8_state==0){
		WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 9, 9, 0); //close scene change
		u32_rmv_sum = 0;
		u16_rmv_cnt = 0;
		u64_sad_sum = 0;
		u16_sad_cnt = 0;
		u16_set_cnt = 0;
		u16_lvl_cnt = 0;
		Result.u8_result = SELF_TEST_PROCESS;
		Result.u16_correct_num = 0;
		Result.u16_total_num = 0;
		u8_state = 1;
	}
	// calibrate the rmv ratio
	else if(u8_state==1) {
		if(u16_set_cnt < MAX_SET_PTG_CNT){
			Set_PTG(PTG_CHECK_SC_RMVRATIO);
			u16_set_cnt++;
		}
		else if(u16_rmv_cnt < MAX_SC_CNT) {
			Set_PTG(PTG_CHECK_SC_RMVRATIO);
			u32_rmv_sum += s_pContext->_output_frc_sceneAnalysis.u12_rmv_avg;
			u16_rmv_cnt++;
		}
		else {
			u8_state = 2;
			u4_dyn_SAD_Diff_rmv_ratio_th_l = (unsigned long long)(u32_rmv_sum)/u16_rmv_cnt*347/s_pContext->_output_frc_sceneAnalysis.u16_rmv_totalNum;
			u4_dyn_SAD_Diff_rmv_ratio_th_h = (unsigned long long)(u32_rmv_sum)/u16_rmv_cnt*447/s_pContext->_output_frc_sceneAnalysis.u16_rmv_totalNum;	
			Result.u16_total_num++;
			if(pParam->u4_dyn_SAD_Diff_rmv_ratio_th_l==u4_dyn_SAD_Diff_rmv_ratio_th_l && pParam->u4_dyn_SAD_Diff_rmv_ratio_th_h==u4_dyn_SAD_Diff_rmv_ratio_th_h) {
				rtd_pr_memc_emerg( "[%s][%s] [check dyn_SAD_Diff_rmv_ratio_th] [PASS]	ratio_th,%d,%d,\n", __MEMC_SELF_CALIB__, __FUNCTION__, u4_dyn_SAD_Diff_rmv_ratio_th_l, u4_dyn_SAD_Diff_rmv_ratio_th_h);
				Result.u16_correct_num++;
			}else{
				rtd_pr_memc_emerg( "[%s][%s] [check dyn_SAD_Diff_rmv_ratio_th] [FAIL]	suggest ratio_th,%d,%d,	original ratio_th,%d,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, u4_dyn_SAD_Diff_rmv_ratio_th_l, u4_dyn_SAD_Diff_rmv_ratio_th_h, pParam->u4_dyn_SAD_Diff_rmv_ratio_th_l, pParam->u4_dyn_SAD_Diff_rmv_ratio_th_h);
			}
			if(debug_log_en) {
				rtd_pr_memc_emerg( "[%s][%s] [check dyn_SAD_Diff_rmv_ratio_th] [debug info]	rmv_sum,%d  rmv_cnt,%d  rmv_total,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, u32_rmv_sum, u16_rmv_cnt, s_pContext->_output_frc_sceneAnalysis.u16_rmv_totalNum);
			}
			u32_rmv_sum = 0;
			u16_rmv_cnt = 0;
			u16_set_cnt = 0;
		}
	}
	// calibrate sc lv2 table(scCtrl_table)
	else if(u8_state==2) {
		if(u16_set_cnt < MAX_SET_PTG_CNT){
			Set_PTG(PTG_CHECK_SC_LV2);
			u16_set_cnt++;
		}
		else if(u16_sad_cnt < MAX_SC_CNT) {
			Set_PTG(PTG_CHECK_SC_LV2);
			u64_sad_sum += s_pContext->_output_read_comreg.u30_me_aSAD_rb;
			u16_sad_cnt++;
			u16_lvl_cnt = (s_pContext->_output_wrt_comreg.u4_sc_table_lvl==2) ? u16_lvl_cnt+1 : u16_lvl_cnt;
		}
		else {
			u8_state = 3;
			sc_table = get_scCtrl_table(2);
			#ifdef CONFIG_ARM64
			u32_SAD_avg = u64_sad_sum/u16_sad_cnt;
			#else
			tmp_u64_sad_sum=u64_sad_sum;
			do_div(tmp_u64_sad_sum,u16_sad_cnt);
			u32_SAD_avg = tmp_u64_sad_sum;
			#endif
			u32_SAD_th = _MIN_(((unsigned long long)u32_SAD_avg)*SADtoSADTH_SCALE_LV2, KME_ME1_TOP1_ME1_SCENE1_07_me1_sc_saddiff_th_mask);
			Result.u16_total_num++;
			if(u32_SAD_th > Get_80_percent(sc_table.me1_sc_saddiff_ctrl.me1_sc_saddiff_th) &&
			   u32_SAD_th < Get_120_percent(sc_table.me1_sc_saddiff_ctrl.me1_sc_saddiff_th) && u16_lvl_cnt > Get_90_percent(MAX_SC_CNT) ){
				rtd_pr_memc_emerg( "[%s][%s] [check sc table lv2] [PASS]	SAD_th,0x%x,\n", __MEMC_SELF_CALIB__, __FUNCTION__, u32_SAD_th);
				Result.u16_correct_num++;
			}else{
				rtd_pr_memc_emerg( "[%s][%s] [check sc table lv2] [FAIL]	suggest SAD_th,0x%x,	original SAD_th,0x%x,	LV_cnt:%d(>%d)\n", __MEMC_SELF_CALIB__, __FUNCTION__, 
					u32_SAD_th, sc_table.me1_sc_saddiff_ctrl.me1_sc_saddiff_th, u16_lvl_cnt, Get_90_percent(MAX_SC_CNT) );
			}
			if(debug_log_en) {
				rtd_pr_memc_emerg( "[%s][%s] [check sc table lv2] [debug info] sad_avg,0x%x, sad_sum,0x%llx, sad_cnt,%u, sad_th,0x%x,\n", __MEMC_SELF_CALIB__, __FUNCTION__, u32_SAD_avg, u64_sad_sum, u16_sad_cnt, u32_SAD_th);
			}
			u64_sad_sum = 0;
			u16_sad_cnt = 0;
			u16_lvl_cnt = 0;
			u16_set_cnt = 0;
		}
	}
	// calibrate sc lv3 table(scCtrl_table)
	else if(u8_state==3) {
		if(u16_set_cnt < MAX_SET_PTG_CNT){
			Set_PTG(PTG_CHECK_SC_LV3);
			u16_set_cnt++;
		}
		else if(u16_sad_cnt < MAX_SC_CNT) {
			WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, 29, 29, 1);//force panning = 1
			WriteRegister(SOFTWARE1_SOFTWARE1_12_reg, 0, 4, 0x11);//force cad22
			Set_PTG(PTG_CHECK_SC_LV3);
			u64_sad_sum += s_pContext->_output_read_comreg.u30_me_aSAD_rb;
			u16_sad_cnt++;
			u16_lvl_cnt = (s_pContext->_output_wrt_comreg.u4_sc_table_lvl==3) ? u16_lvl_cnt+1 : u16_lvl_cnt;
		}
		else {
			WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, 29, 29, 0);//disforce panning
			WriteRegister(SOFTWARE1_SOFTWARE1_12_reg, 0, 4, 0x0);//disforce cad
			u8_state = 4;
			sc_table = get_scCtrl_table(3);
			#ifdef CONFIG_ARM64
			u32_SAD_avg = u64_sad_sum/u16_sad_cnt;
			#else
			tmp_u64_sad_sum=u64_sad_sum;
			do_div(tmp_u64_sad_sum,u16_sad_cnt);
			u32_SAD_avg = tmp_u64_sad_sum;
			#endif
			u32_SAD_th = _MIN_(((unsigned long long)u32_SAD_avg)*SADtoSADTH_SCALE_LV3, KME_ME1_TOP1_ME1_SCENE1_07_me1_sc_saddiff_th_mask);
			Result.u16_total_num++;
			if(u32_SAD_th > Get_80_percent(sc_table.me1_sc_saddiff_ctrl.me1_sc_saddiff_th) &&
			   u32_SAD_th < Get_120_percent(sc_table.me1_sc_saddiff_ctrl.me1_sc_saddiff_th) && u16_lvl_cnt > Get_90_percent(MAX_SC_CNT) ){
				rtd_pr_memc_emerg( "[%s][%s] [check sc table lv3] [PASS]	SAD_th,0x%x,\n", __MEMC_SELF_CALIB__, __FUNCTION__, u32_SAD_th);

				rtd_pr_memc_emerg( "[%s][%s] [check sc table lv3] suggest SAD_th,0x%x,	original SAD_th,0x%x,	LV_cnt:%d(>%d)\n", __MEMC_SELF_CALIB__, __FUNCTION__, 
					u32_SAD_th, sc_table.me1_sc_saddiff_ctrl.me1_sc_saddiff_th, u16_lvl_cnt, Get_90_percent(MAX_SC_CNT));

				Result.u16_correct_num++;
			}else{
				rtd_pr_memc_emerg( "[%s][%s] [check sc table lv3] [FAIL]	suggest SAD_th,0x%x,	original SAD_th,0x%x,	LV_cnt:%d(>%d)\n", __MEMC_SELF_CALIB__, __FUNCTION__, 
					u32_SAD_th, sc_table.me1_sc_saddiff_ctrl.me1_sc_saddiff_th, u16_lvl_cnt, Get_90_percent(MAX_SC_CNT));
			}
			if(debug_log_en) {
				rtd_pr_memc_emerg( "[%s][%s] [check sc table lv3] [debug info] sad_avg,0x%x, sad_sum,0x%llx, sad_cnt,%u, sad_th,0x%x,\n", __MEMC_SELF_CALIB__, __FUNCTION__, u32_SAD_avg, u64_sad_sum, u16_sad_cnt, u32_SAD_th);
			}
			u64_sad_sum = 0;
			u16_sad_cnt = 0;
			u16_lvl_cnt = 0;
			u16_set_cnt = 0;
			Close_PTG();
			StopMove_PTG();
		}
	}else if(u8_state==4) {
		u8_state = 0;
		Set_PTG(PTG_DEFAULT);
		Close_PTG();
		Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_INTERNAL, PTG_CALIB_SC, Result.u16_correct_num, Result.u16_total_num);
		WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 9, 9, 1); //en scene change
	}
	return Result;
}

/**
 * @brief This function check the scene change performance
 * @this functiono can't be interrupted
*/
VOID BasicInfoCheck_SC_Check(void)
{
	unsigned int u3_mode = 0, u8_last_set = 0;
	static unsigned int u8_cnt = 0;
	static unsigned char u3_mode_pre = 0;
	ReadRegister(SOFTWARE3_SOFTWARE3_03_reg, 0, 2, &u3_mode);
	
	if(u3_mode<1 || u3_mode>4){
		// disable ptg if mode=0
		if(u3_mode==0 && u3_mode_pre!=u3_mode){
			Close_PTG();
			u3_mode_pre = u3_mode;
		}
		return;
	}
	
	// stop move ptg when changing the test mode, for testing the sc flag
	if(u3_mode_pre!=u3_mode){
		StopMove_PTG();
	}
	
	u8_cnt = (u8_cnt<199) ? u8_cnt+1 : 0;
	Set_PTG(u3_mode);
	if(u3_mode==1 || u3_mode==2){ //d918[0:2]
		// change the pattern mode(rectangle/circle)
		if(u8_cnt==0){
			ReadRegister(IPPRE_IPPRE_50_reg, 7, 7, &u8_last_set);
			u8_last_set = (u8_last_set==0) ? 1 : 0;
			WriteRegister(IPPRE_IPPRE_50_reg, 7, 7, u8_last_set);
		}
	}
	else if(u3_mode==3 || u3_mode==4){ //d918[0:2]
		// change the background type
		if(u8_cnt==0){
			ReadRegister(IPPRE_IPPRE_20_reg, 5, 6, &u8_last_set);
			u8_last_set = (u8_last_set==2) ? 3 : 2;
			WriteRegister(IPPRE_IPPRE_20_reg, 5, 6, u8_last_set);
		}
	}
	
	u3_mode_pre = u3_mode;
}

/**
 * @brief This function check the ippre ptg checkerboard position
 * @this functiono can't be interrupted
*/
_Self_Check_Result BasicInfoCheck_Verify_IPPRE_PTG_Position(void)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	PQL_OUTPUT_RESOLUTION output_Resolution = s_pContext->_external_data._output_resolution;
	_PTG_RGB RGB_cur = {0, 0, 0};
	static _PTG_RGB RGB_ori = {0, 0, 0};
	static _PTG_POS Curve_Pos = {0, 0};
	static bool u1_first_set = true;
	static unsigned char u8_state = 0;
	static unsigned char u8_set_cnt = 0;
	static _Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
	unsigned int debug_log_en = 0;
	
	if(u1_first_set){
		Set_PTG(PTG_CHECK_CHECKERBOARD_POS);
		Result.u16_correct_num = 0;
		Result.u16_total_num = 0;
		Result.u8_result = SELF_TEST_PROCESS;
		u8_state=0;
		u8_set_cnt=0;
		u1_first_set = false;
	}
	
	//set checkerboard
	if(u8_state==0)	{
		Set_PTG(PTG_CHECK_CHECKERBOARD_POS);
		u8_set_cnt++;
		if(u8_set_cnt>=QUICK_SET_PTG_CNT){
			u8_set_cnt = 0;
			u8_state = 1;
		}
	}
	// set cross curve in left up
	else if(u8_state==1){
		Curve_Pos.u16_x = 0;
		Curve_Pos.u16_y = 0;
		RGB_ori = Get_RGB(Curve_Pos.u16_x, Curve_Pos.u16_y);
		u8_set_cnt++;
		if(u8_set_cnt>=QUICK_SET_PTG_CNT){
			u8_set_cnt = 0;
			u8_state = 2;
		}
	}
	// search left up cross in x direction
	else if(u8_state==2){
		u8_set_cnt++;
		if(u8_set_cnt==1){
			Curve_Pos.u16_x += 1;
			if(Curve_Pos.u16_x>=MEMC_PARAM_TABLE.RIM_Param[output_Resolution].RimCtrl_Param.s16_resolution_width-1){
				u8_set_cnt = 0;
				u8_state = 4;
			}
		}
		
		RGB_cur = Get_RGB(Curve_Pos.u16_x, Curve_Pos.u16_y);
		
		if(u8_set_cnt>=QUICK_SET_PTG_CNT){
			u8_set_cnt = 0;
			if(PTG_Same_Color(RGB_cur, RGB_ori)==false){
				u8_state = 3;
				Curve_Pos.u16_x -= 1;
			}
		}
	}
	// search left up cross in y direction
	else if(u8_state==3){
		u8_set_cnt++;
		if(u8_set_cnt==1){
			Curve_Pos.u16_y += 1;
			if(Curve_Pos.u16_y>=MEMC_PARAM_TABLE.RIM_Param[output_Resolution].RimCtrl_Param.s16_resolution_height-1){
				u8_set_cnt = 0;
				u8_state = 4;
			}
		}
		
		RGB_cur = Get_RGB(Curve_Pos.u16_x, Curve_Pos.u16_y);
		
		if(u8_set_cnt>=QUICK_SET_PTG_CNT){
			u8_set_cnt = 0;
			if(PTG_Same_Color(RGB_cur, RGB_ori)==false){
				u8_state = 4;
				Curve_Pos.u16_y -= 1;
			}
		}
	}
	// check the result by checkboard's color and position
	else if(u8_state==4){
		RGB_cur = Get_RGB(Curve_Pos.u16_x, Curve_Pos.u16_y);
		u8_set_cnt++;
		if(u8_set_cnt>=QUICK_SET_PTG_CNT){
			
			//check checkerboard color
			Result.u16_total_num++;
			if(PTG_Same_Color(RGB_cur, IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_LEFT_UP].PTG_color)==true){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][PTG POS][NG] Read RGB=%d,%d,%d	Std RGB=%d,%d,%d\n", __MEMC_SELF_CALIB__,
					RGB_cur.u10_r, RGB_cur.u10_g, RGB_cur.u10_b, 
					IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_RIGHT_DOWN].PTG_color.u10_r, 
					IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_RIGHT_DOWN].PTG_color.u10_g, 
					IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_RIGHT_DOWN].PTG_color.u10_b);
			}
			//check checkerboard position
			Result.u16_total_num++;
			if(Curve_Pos.u16_x==IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_LEFT_UP].PTG_pos.u16_x && 
				Curve_Pos.u16_y==IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_LEFT_UP].PTG_pos.u16_y){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][PTG POS][NG] Read Position=%d,%d	Std Position=%d,%d\n", __MEMC_SELF_CALIB__,
					Curve_Pos.u16_x, Curve_Pos.u16_y,
					IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_LEFT_UP].PTG_pos.u16_x, 
					IPPRE_PTG_POS_CHECK_TABLE[POS_CHECK_LEFT_UP].PTG_pos.u16_y);
			}
			u8_state = 0;
			Set_PTG(PTG_DEFAULT);
			Close_PTG();
			Close_Cross();
			u1_first_set = true;
			Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_ENVIRONMENT, ENVIRONMENT_CHECK_PTG_POS, Result.u16_correct_num, Result.u16_total_num);
		}
	}
	
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	if(debug_log_en){
		rtd_pr_memc_emerg( "[%s]Pos>> %d, %d		state>>%d\n", __FUNCTION__, Curve_Pos.u16_x, Curve_Pos.u16_y, u8_state);
	}
	return Result;
}

/**
 * @brief This function check the ippre ptg square color and size
 * @this functiono can't be interrupted
*/
_Self_Check_Result BasicInfoCheck_Verify_IPPRE_PTG_Square(void)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	PQL_OUTPUT_RESOLUTION output_Resolution = s_pContext->_external_data._output_resolution;
	_PTG_RGB RGB_cur = {0, 0, 0};
	_PTG_POS Target_Pos = {0, 0};
	static _PTG_RGB RGB_ori = {0, 0, 0};
	static _PTG_POS Curve_Pos = {0, 0};
	static bool u1_first_set = true;
	static unsigned char u8_state = 0;
	static unsigned char u8_set_cnt = 0;
	static _Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
	unsigned int debug_log_en;
	
	if(u1_first_set){
		Set_PTG(PTG_CHECK_SQUARE_SIZE);
		StopMove_PTG();
		u8_set_cnt=0;
		Result.u16_correct_num = 0;
		Result.u16_total_num = 0;
		Result.u8_result = SELF_TEST_PROCESS;
		u1_first_set = false;
	}
	
	// set cross curve in left up
	if(u8_state==0){
		Curve_Pos.u16_x = 0;
		Curve_Pos.u16_y = 0;
		RGB_ori = Get_RGB(Curve_Pos.u16_x, Curve_Pos.u16_y);
		u8_set_cnt++;
		if(u8_set_cnt>=SET_PTG_CNT){
			u8_set_cnt = 0;
			u8_state = 1;
		}
	}
	// search left up cross in x direction
	else if(u8_state==1){
		u8_set_cnt++;
		if(u8_set_cnt==1){
			Curve_Pos.u16_x += 1;
			if(Curve_Pos.u16_x>=MEMC_PARAM_TABLE.RIM_Param[output_Resolution].RimCtrl_Param.s16_resolution_width-1){
				u8_set_cnt = 0;
				u8_state = 3;
			}
		}
		
		RGB_cur = Get_RGB(Curve_Pos.u16_x, Curve_Pos.u16_y);
		
		if(u8_set_cnt>=SET_PTG_CNT){
			u8_set_cnt = 0;
			if(PTG_Same_Color(RGB_cur, RGB_ori)==false){
				u8_state = 2;
				Curve_Pos.u16_x -= 1;
			}
		}
	}
	// search left up cross in y direction
	else if(u8_state==2){
		u8_set_cnt++;
		if(u8_set_cnt==1){
			Curve_Pos.u16_y += 1;
			if(Curve_Pos.u16_y>=MEMC_PARAM_TABLE.RIM_Param[output_Resolution].RimCtrl_Param.s16_resolution_height-1){
				u8_set_cnt = 0;
				u8_state = 3;
			}
		}
		
		RGB_cur = Get_RGB(Curve_Pos.u16_x, Curve_Pos.u16_y);
		
		if(u8_set_cnt>=SET_PTG_CNT){
			u8_set_cnt = 0;
			if(PTG_Same_Color(RGB_cur, RGB_ori)==false){
				u8_state = 3;
				Curve_Pos.u16_y -= 1;
			}
		}
	}
	// check the square the color and size
	else if(u8_state==3){
		u8_set_cnt++;
		RGB_cur = Get_RGB(Curve_Pos.u16_x, Curve_Pos.u16_y);
		if(u8_set_cnt>=SET_PTG_CNT){
			// check square color
			Result.u16_total_num++;
			if(RGB_cur.u10_r == PTG_table[PTG_CHECK_SQUARE_SIZE].u10_bar_color_r && 
			   RGB_cur.u10_g == PTG_table[PTG_CHECK_SQUARE_SIZE].u10_bar_color_g && 
			   RGB_cur.u10_b == PTG_table[PTG_CHECK_SQUARE_SIZE].u10_bar_color_b ){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][PTG SQUARE][NG] Read RGB=%d,%d,%d Std RGB=%d,%d,%d\n", __MEMC_SELF_CALIB__,
					RGB_cur.u10_r, RGB_cur.u10_g, RGB_cur.u10_b, PTG_table[PTG_CHECK_SQUARE_SIZE].u10_bar_color_r, PTG_table[PTG_CHECK_SQUARE_SIZE].u10_bar_color_g, PTG_table[PTG_CHECK_SQUARE_SIZE].u10_bar_color_b);
			}
			// check square size
			Result.u16_total_num++;
			Target_Pos.u16_x = (PTG_table[PTG_CHECK_SQUARE_SIZE].u13_bar_width*MEMC_PARAM_TABLE.RIM_Param[output_Resolution].RimCtrl_Param.u8_scale_H*2)-1;
			Target_Pos.u16_y = (PTG_table[PTG_CHECK_SQUARE_SIZE].u13_bar_height*MEMC_PARAM_TABLE.RIM_Param[output_Resolution].RimCtrl_Param.u8_scale_V)-1;
			if(Curve_Pos.u16_x == Target_Pos.u16_x && Curve_Pos.u16_y == Target_Pos.u16_y){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][PTG SQUARE][NG] Read Position=%d,%d Std Position=%d,%d\n", __MEMC_SELF_CALIB__,
					Curve_Pos.u16_x, Curve_Pos.u16_y, Target_Pos.u16_x, Target_Pos.u16_y);
			}
			
			Set_PTG(PTG_DEFAULT);
			Close_PTG();
			Close_Cross();
			u8_state = 0;
			u1_first_set = true;
			Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_ENVIRONMENT, ENVIRONMENT_CHECK_PTG_SQUARE, Result.u16_correct_num, Result.u16_total_num);
		}
	}
	
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	if(debug_log_en){
		rtd_pr_memc_emerg( "[%s]Pos>> %d, %d		state>>%d\n", __FUNCTION__, Curve_Pos.u16_x, Curve_Pos.u16_y, u8_state);
	}
	return Result;
}

/**
 * @brief This function check the ippre ptg color
 * @this functiono can't be interrupted
*/
_Self_Check_Result BasicInfoCheck_Verify_IPPRE_PTG_Color(void)
{
	_Self_Check_Result Check_Result = {SELF_TEST_PROCESS, 0, 0};
	_PTG_RGB RGB_cur = {0,0,0};
	bool u1_chg_color = false;
	static _PTG_RGB RGB_pre = {0,0,0};
	static bool u1_first_set = true;
	static unsigned char u8_Set_cnt = 0, u8_color_id = 0, u8_correct_num = 0, u8_total_num = 0;
	unsigned int debug_log_en = 0;
	
	if(u1_first_set) {
		Set_PTG(PTG_GET_APL_DATA);
		StopMove_PTG();
		Check_Result.u8_result = SELF_TEST_PROCESS;
		u8_correct_num = 0;
		u8_total_num = 0;
		u1_first_set = false;
	}
	
	// get color in x=100, y=100
	RGB_cur = Get_RGB(100, 100);
	
	// set the ippre ptg color
	if(u8_Set_cnt==0) {
		WriteRegister(IPPRE_IPPRE_58_reg,  0,  9, IPPRE_PTG_COLOR_CHECK[u8_color_id].u10_r);
		WriteRegister(IPPRE_IPPRE_58_reg, 10, 19, IPPRE_PTG_COLOR_CHECK[u8_color_id].u10_g);
		WriteRegister(IPPRE_IPPRE_58_reg, 20, 29, IPPRE_PTG_COLOR_CHECK[u8_color_id].u10_b);
	// current and previous image have the same color
	}else if(u8_Set_cnt>=SET_PTG_CNT){
		u1_chg_color = true;
		u8_total_num++;
		// check the ptg color
		if(RGB_cur.u10_r == IPPRE_PTG_COLOR_CHECK[u8_color_id].u10_r && 
			RGB_cur.u10_g == IPPRE_PTG_COLOR_CHECK[u8_color_id].u10_g && 
			RGB_cur.u10_b == IPPRE_PTG_COLOR_CHECK[u8_color_id].u10_b) {
			u8_correct_num++;
		}else {
			rtd_pr_memc_emerg( "[%s][PTG COLOR][NG] Read RGB=%d,%d,%d	Std RGB=%d,%d,%d\n", __MEMC_SELF_CALIB__,
				RGB_cur.u10_r, RGB_cur.u10_g, RGB_cur.u10_b, IPPRE_PTG_COLOR_CHECK[u8_color_id].u10_r, IPPRE_PTG_COLOR_CHECK[u8_color_id].u10_g, IPPRE_PTG_COLOR_CHECK[u8_color_id].u10_b);
		}
	}
	
	RGB_pre = RGB_cur;
	u8_Set_cnt = (u8_Set_cnt<SET_PTG_CNT) ? u8_Set_cnt+1 : 0;
	if(u1_chg_color) {
		u8_Set_cnt = 0;
		u8_color_id++;
		if(u8_color_id>=NUM_IPPRE_PTG_COLOR_CHECK) {
			u8_color_id = 0;
			u1_first_set = true;
			Check_Result.u16_total_num = u8_total_num;
			Check_Result.u16_correct_num = u8_correct_num;
			Check_Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_ENVIRONMENT, ENVIRONMENT_CHECK_PTG_APL, Check_Result.u16_correct_num, Check_Result.u16_total_num);
			Close_Cross();
			Close_PTG();
		}
	}
	
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	if(debug_log_en){
		rtd_pr_memc_emerg( "[%s][%d]	color id:%d, chg color:%d, OK/total:%d,%d, Result:%d,%d,%d\n", __FUNCTION__, __LINE__, 
			u8_color_id, u1_chg_color, u8_correct_num, u8_total_num, Check_Result.u8_result, Check_Result.u16_correct_num, Check_Result.u16_total_num);
	}
	return Check_Result;
}

/**
 * @brief This function check the rim boundary
 * @this functiono can't be interrupted
*/
_Self_Check_Result BasicInfoCheck_Check_Rim_Boundary(void)
{
	_Self_Check_Result Result = {SELF_TEST_INIT, 0, 0};
	static unsigned char u8_set_ptg_cnt = 0;
	
	Set_PTG(PTG_DEFAULT);
	StopMove_PTG();
	WriteRegister(HARDWARE_HARDWARE_43_reg, 14, 14, 0); //rim pan protect
	
	u8_set_ptg_cnt++;
	if(u8_set_ptg_cnt > MAX_SET_PTG_CNT){
		u8_set_ptg_cnt = 0;
		Close_PTG();
		WriteRegister(HARDWARE_HARDWARE_43_reg, 14, 14, 1); //rim pan protect
		Result = MEMC_Lib_Rim_Check();
	}
	return Result;
}

/**
 * @brief This function check the lbmc
 * @this functiono can't be interrupted
*/
_Self_Check_Result BasicInfoCheck_Check_LBMC_Set(void)
{
	_Self_Check_Result Result = {SELF_TEST_INIT, 0, 0};
	kpost_top_kpost_top_04_RBUS kpost_top_kpost_top_04_reg;
	kpost_top_kpost_top_04_reg.regValue = rtd_inl(KPOST_TOP_KPOST_TOP_04_reg);
	
	Result.u16_total_num++;
	// golden: image v size=1080 -> vtotal_int=860
	if(_ABS_DIFF_(kpost_top_kpost_top_04_reg.post_out_vtotal_int, Get_DISP_ACT_END_VPOS()*VSize2Vtotal_NUMERATOR/VSize2Vtotal_DENOMINATOR)<=MAX_VTOTAL_INT_DIFF){
		Result.u16_correct_num++;
	}
	
	Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_ENVIRONMENT, ENVIRONMENT_CHECK_LBMC, Result.u16_correct_num, Result.u16_total_num);
	return Result;
}

/**
 * @brief This function check the mixmode/logo region set
 * @this functiono can't be interrupted
*/
_Self_Check_Result BasicInfoCheck_Check_Region_Set(void)
{
	_Self_Check_Result Result = {SELF_TEST_INIT, 0, 0};
	kme_ipme_kme_ipme_40_RBUS kme_ipme_kme_ipme_40_reg;
	kme_ipme_kme_ipme_44_RBUS kme_ipme_kme_ipme_44_reg;
	kme_ipme_kme_ipme_48_RBUS kme_ipme_kme_ipme_48_reg;
	kme_ipme_kme_ipme_4c_RBUS kme_ipme_kme_ipme_4c_reg;
	kme_ipme_kme_ipme_50_RBUS kme_ipme_kme_ipme_50_reg;
	kme_ipme_kme_ipme_54_RBUS kme_ipme_kme_ipme_54_reg;
	kme_ipme_kme_ipme_58_RBUS kme_ipme_kme_ipme_58_reg;
	kme_ipme_kme_ipme_5c_RBUS kme_ipme_kme_ipme_5c_reg;
	kme_ipme_kme_ipme_60_RBUS kme_ipme_kme_ipme_60_reg;
	kme_ipme_kme_ipme_64_RBUS kme_ipme_kme_ipme_64_reg;
	kme_ipme_kme_ipme_68_RBUS kme_ipme_kme_ipme_68_reg;
	kme_ipme_kme_ipme_6c_RBUS kme_ipme_kme_ipme_6c_reg;
	kme_ipme_kme_ipme_70_RBUS kme_ipme_kme_ipme_70_reg;
	kme_ipme_kme_ipme_74_RBUS kme_ipme_kme_ipme_74_reg;
	kme_ipme_kme_ipme_78_RBUS kme_ipme_kme_ipme_78_reg;
	kme_ipme_kme_ipme_7c_RBUS kme_ipme_kme_ipme_7c_reg;
	kme_ipme_kme_ipme_80_RBUS kme_ipme_kme_ipme_80_reg;
	kme_ipme1_kme_ipme1_e0_RBUS kme_ipme1_kme_ipme1_e0_reg;
	kme_ipme1_kme_ipme1_e4_RBUS kme_ipme1_kme_ipme1_e4_reg;
	kme_ipme1_kme_ipme1_e8_RBUS kme_ipme1_kme_ipme1_e8_reg;
	kme_ipme1_kme_ipme1_ec_RBUS kme_ipme1_kme_ipme1_ec_reg;
	kme_logo1_kme_logo1_08_RBUS kme_logo1_kme_logo1_08;
	kme_logo1_kme_logo1_0c_RBUS kme_logo1_kme_logo1_0c;
	kme_logo1_kme_logo1_68_RBUS kme_logo1_kme_logo1_68;
	kme_logo1_kme_logo1_6c_RBUS kme_logo1_kme_logo1_6C;
	kme_logo1_kme_logo1_70_RBUS kme_logo1_kme_logo1_70;	
	kme_dehalo2_kme_dehalo2_94_RBUS kme_dehalo2_kme_dehalo2_94;
	kme_dehalo2_kme_dehalo2_98_RBUS kme_dehalo2_kme_dehalo2_98;
	kme_dehalo2_kme_dehalo2_9c_RBUS kme_dehalo2_kme_dehalo2_9c;
	kme_ipme_kme_ipme_40_reg.regValue = rtd_inl(KME_IPME_KME_IPME_40_reg);
	kme_ipme_kme_ipme_44_reg.regValue = rtd_inl(KME_IPME_KME_IPME_44_reg);
	kme_ipme_kme_ipme_48_reg.regValue = rtd_inl(KME_IPME_KME_IPME_48_reg);
	kme_ipme_kme_ipme_4c_reg.regValue = rtd_inl(KME_IPME_KME_IPME_4C_reg);
	kme_ipme_kme_ipme_50_reg.regValue = rtd_inl(KME_IPME_KME_IPME_50_reg);
	kme_ipme_kme_ipme_54_reg.regValue = rtd_inl(KME_IPME_KME_IPME_54_reg);
	kme_ipme_kme_ipme_58_reg.regValue = rtd_inl(KME_IPME_KME_IPME_58_reg);
	kme_ipme_kme_ipme_5c_reg.regValue = rtd_inl(KME_IPME_KME_IPME_5C_reg);
	kme_ipme_kme_ipme_60_reg.regValue = rtd_inl(KME_IPME_KME_IPME_60_reg);
	kme_ipme_kme_ipme_64_reg.regValue = rtd_inl(KME_IPME_KME_IPME_64_reg);
	kme_ipme_kme_ipme_68_reg.regValue = rtd_inl(KME_IPME_KME_IPME_68_reg);
	kme_ipme_kme_ipme_6c_reg.regValue = rtd_inl(KME_IPME_KME_IPME_6C_reg);
	kme_ipme_kme_ipme_70_reg.regValue = rtd_inl(KME_IPME_KME_IPME_70_reg);
	kme_ipme_kme_ipme_74_reg.regValue = rtd_inl(KME_IPME_KME_IPME_74_reg);
	kme_ipme_kme_ipme_78_reg.regValue = rtd_inl(KME_IPME_KME_IPME_78_reg);
	kme_ipme_kme_ipme_7c_reg.regValue = rtd_inl(KME_IPME_KME_IPME_7C_reg);
	kme_ipme_kme_ipme_80_reg.regValue = rtd_inl(KME_IPME_KME_IPME_80_reg);
	kme_ipme1_kme_ipme1_e0_reg.regValue = rtd_inl(KME_IPME1_KME_IPME1_E0_reg);
	kme_ipme1_kme_ipme1_e4_reg.regValue = rtd_inl(KME_IPME1_KME_IPME1_E4_reg);
	kme_ipme1_kme_ipme1_e8_reg.regValue = rtd_inl(KME_IPME1_KME_IPME1_E8_reg);
	kme_ipme1_kme_ipme1_ec_reg.regValue = rtd_inl(KME_IPME1_KME_IPME1_EC_reg);
	kme_logo1_kme_logo1_08.regValue = rtd_inl(KME_LOGO1_KME_LOGO1_08_reg);
	kme_logo1_kme_logo1_0c.regValue = rtd_inl(KME_LOGO1_KME_LOGO1_0C_reg);
	kme_logo1_kme_logo1_68.regValue = rtd_inl(KME_LOGO1_KME_LOGO1_68_reg);
	kme_logo1_kme_logo1_6C.regValue = rtd_inl(KME_LOGO1_KME_LOGO1_6C_reg);
	kme_logo1_kme_logo1_70.regValue = rtd_inl(KME_LOGO1_KME_LOGO1_70_reg);
	kme_dehalo2_kme_dehalo2_94.regValue = rtd_inl(KME_DEHALO2_KME_DEHALO2_94_reg);
	kme_dehalo2_kme_dehalo2_98.regValue = rtd_inl(KME_DEHALO2_KME_DEHALO2_98_reg);
	kme_dehalo2_kme_dehalo2_9c.regValue = rtd_inl(KME_DEHALO2_KME_DEHALO2_9C_reg);
	
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_40_reg.ipme_fmdet_5region1_v0, MixMode_Region_Golden.ipme_fmdet_5region1_v0*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region1_v0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_40_reg.ipme_fmdet_5region1_v0, MixMode_Region_Golden.ipme_fmdet_5region1_v0*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_40_reg.ipme_fmdet_5region1_v1, MixMode_Region_Golden.ipme_fmdet_5region1_v1*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region1_v1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_40_reg.ipme_fmdet_5region1_v1, MixMode_Region_Golden.ipme_fmdet_5region1_v1*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_44_reg.ipme_fmdet_5region2_v0, MixMode_Region_Golden.ipme_fmdet_5region2_v0*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region2_v0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_44_reg.ipme_fmdet_5region2_v0, MixMode_Region_Golden.ipme_fmdet_5region2_v0*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_44_reg.ipme_fmdet_5region2_v1, MixMode_Region_Golden.ipme_fmdet_5region2_v1*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region2_v1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_44_reg.ipme_fmdet_5region2_v1, MixMode_Region_Golden.ipme_fmdet_5region2_v1*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_48_reg.ipme_fmdet_5region3_h0, MixMode_Region_Golden.ipme_fmdet_5region3_h0*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region3_h0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_48_reg.ipme_fmdet_5region3_h0, MixMode_Region_Golden.ipme_fmdet_5region3_h0*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_48_reg.ipme_fmdet_5region3_h1, MixMode_Region_Golden.ipme_fmdet_5region3_h1*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region3_h1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_48_reg.ipme_fmdet_5region3_h1, MixMode_Region_Golden.ipme_fmdet_5region3_h1*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_4c_reg.ipme_fmdet_5region4_h0, MixMode_Region_Golden.ipme_fmdet_5region4_h0*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region4_h0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_4c_reg.ipme_fmdet_5region4_h0, MixMode_Region_Golden.ipme_fmdet_5region4_h0*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_4c_reg.ipme_fmdet_5region4_h1, MixMode_Region_Golden.ipme_fmdet_5region4_h1*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region4_h1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_4c_reg.ipme_fmdet_5region4_h1, MixMode_Region_Golden.ipme_fmdet_5region4_h1*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_50_reg.ipme_fmdet_5region5_h0, MixMode_Region_Golden.ipme_fmdet_5region5_h0*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region5_h0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_50_reg.ipme_fmdet_5region5_h0, MixMode_Region_Golden.ipme_fmdet_5region5_h0*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_50_reg.ipme_fmdet_5region5_h1, MixMode_Region_Golden.ipme_fmdet_5region5_h1*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region5_h1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_50_reg.ipme_fmdet_5region5_h1, MixMode_Region_Golden.ipme_fmdet_5region5_h1*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_54_reg.ipme_fmdet_5region5_v0, MixMode_Region_Golden.ipme_fmdet_5region5_v0*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region5_v0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_54_reg.ipme_fmdet_5region5_v0, MixMode_Region_Golden.ipme_fmdet_5region5_v0*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_54_reg.ipme_fmdet_5region5_v1, MixMode_Region_Golden.ipme_fmdet_5region5_v1*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 5region5_v1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_54_reg.ipme_fmdet_5region5_v1, MixMode_Region_Golden.ipme_fmdet_5region5_v1*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_58_reg.ipme_fmdet_12region_h0, MixMode_Region_Golden.ipme_fmdet_12region_h0*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_h0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_58_reg.ipme_fmdet_12region_h0, MixMode_Region_Golden.ipme_fmdet_12region_h0*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_58_reg.ipme_fmdet_12region_h1, MixMode_Region_Golden.ipme_fmdet_12region_h1*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_h1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_58_reg.ipme_fmdet_12region_h1, MixMode_Region_Golden.ipme_fmdet_12region_h1*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_5c_reg.ipme_fmdet_12region_h2, MixMode_Region_Golden.ipme_fmdet_12region_h2*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_h2 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_5c_reg.ipme_fmdet_12region_h2, MixMode_Region_Golden.ipme_fmdet_12region_h2*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_5c_reg.ipme_fmdet_12region_h3, MixMode_Region_Golden.ipme_fmdet_12region_h3*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_h3 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_5c_reg.ipme_fmdet_12region_h3, MixMode_Region_Golden.ipme_fmdet_12region_h3*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_60_reg.ipme_fmdet_12region_h4, MixMode_Region_Golden.ipme_fmdet_12region_h4*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_h4 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_60_reg.ipme_fmdet_12region_h4, MixMode_Region_Golden.ipme_fmdet_12region_h4*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_60_reg.ipme_fmdet_12region_v0, MixMode_Region_Golden.ipme_fmdet_12region_v0*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_v0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_60_reg.ipme_fmdet_12region_v0, MixMode_Region_Golden.ipme_fmdet_12region_v0*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_64_reg.ipme_fmdet_12region_v1, MixMode_Region_Golden.ipme_fmdet_12region_v1*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_v1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_64_reg.ipme_fmdet_12region_v1, MixMode_Region_Golden.ipme_fmdet_12region_v1*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_64_reg.ipme_fmdet_12region_v2, MixMode_Region_Golden.ipme_fmdet_12region_v2*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_v2 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_64_reg.ipme_fmdet_12region_v2, MixMode_Region_Golden.ipme_fmdet_12region_v2*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_68_reg.ipme_fmdet_12region_v3, MixMode_Region_Golden.ipme_fmdet_12region_v3*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_v3 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_68_reg.ipme_fmdet_12region_v3, MixMode_Region_Golden.ipme_fmdet_12region_v3*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_68_reg.ipme_fmdet_16region_v4, MixMode_Region_Golden.ipme_fmdet_12region_v4*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 12region_v4 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_68_reg.ipme_fmdet_16region_v4, MixMode_Region_Golden.ipme_fmdet_12region_v4*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_e0_reg.ipme_fmdet_9region1_v0, MixMode_Region_Golden.ipme_fmdet_9region1_v0*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_e0_reg.ipme_fmdet_9region1_v0, MixMode_Region_Golden.ipme_fmdet_9region1_v0*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_e0_reg.ipme_fmdet_9region1_v1, MixMode_Region_Golden.ipme_fmdet_9region1_v1*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_e0_reg.ipme_fmdet_9region1_v1, MixMode_Region_Golden.ipme_fmdet_9region1_v1*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_e0_reg.ipme_fmdet_9region1_v2, MixMode_Region_Golden.ipme_fmdet_9region1_v2*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v2 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_e0_reg.ipme_fmdet_9region1_v2, MixMode_Region_Golden.ipme_fmdet_9region1_v2*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_e4_reg.ipme_fmdet_9region1_v3, MixMode_Region_Golden.ipme_fmdet_9region1_v3*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v3 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_e4_reg.ipme_fmdet_9region1_v3, MixMode_Region_Golden.ipme_fmdet_9region1_v3*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_e4_reg.ipme_fmdet_9region1_v4, MixMode_Region_Golden.ipme_fmdet_9region1_v4*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v4 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_e4_reg.ipme_fmdet_9region1_v4, MixMode_Region_Golden.ipme_fmdet_9region1_v4*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_e4_reg.ipme_fmdet_9region1_v5, MixMode_Region_Golden.ipme_fmdet_9region1_v5*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v5 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_e4_reg.ipme_fmdet_9region1_v5, MixMode_Region_Golden.ipme_fmdet_9region1_v5*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_e8_reg.ipme_fmdet_9region1_v6, MixMode_Region_Golden.ipme_fmdet_9region1_v6*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v6 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_e8_reg.ipme_fmdet_9region1_v6, MixMode_Region_Golden.ipme_fmdet_9region1_v6*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_e8_reg.ipme_fmdet_9region1_v7, MixMode_Region_Golden.ipme_fmdet_9region1_v7*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v7 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_e8_reg.ipme_fmdet_9region1_v7, MixMode_Region_Golden.ipme_fmdet_9region1_v7*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_e8_reg.ipme_fmdet_9region1_v8, MixMode_Region_Golden.ipme_fmdet_9region1_v8*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v8 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_e8_reg.ipme_fmdet_9region1_v8, MixMode_Region_Golden.ipme_fmdet_9region1_v8*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme1_kme_ipme1_ec_reg.ipme_fmdet_9region1_v9, MixMode_Region_Golden.ipme_fmdet_9region1_v9*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 9region1_v9 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme1_kme_ipme1_ec_reg.ipme_fmdet_9region1_v9, MixMode_Region_Golden.ipme_fmdet_9region1_v9*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(kme_ipme_kme_ipme_6c_reg.ipme_fmdet_4region1_enable==MixMode_Region_Golden.ipme_fmdet_4region1_enable) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region1_enable read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_6c_reg.ipme_fmdet_4region1_enable, MixMode_Region_Golden.ipme_fmdet_4region1_enable);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_6c_reg.ipme_fmdet_4region1_h0, MixMode_Region_Golden.ipme_fmdet_4region1_h0*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region1_h0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_6c_reg.ipme_fmdet_4region1_h0, MixMode_Region_Golden.ipme_fmdet_4region1_h0*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_6c_reg.ipme_fmdet_4region1_h1, MixMode_Region_Golden.ipme_fmdet_4region1_h1*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region1_h1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_6c_reg.ipme_fmdet_4region1_h1, MixMode_Region_Golden.ipme_fmdet_4region1_h1*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_70_reg.ipme_fmdet_4region1_v0, MixMode_Region_Golden.ipme_fmdet_4region1_v0*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region1_v0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_70_reg.ipme_fmdet_4region1_v0, MixMode_Region_Golden.ipme_fmdet_4region1_v0*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_70_reg.ipme_fmdet_4region1_v1, MixMode_Region_Golden.ipme_fmdet_4region1_v1*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region1_v1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_70_reg.ipme_fmdet_4region1_v1, MixMode_Region_Golden.ipme_fmdet_4region1_v1*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(kme_ipme_kme_ipme_74_reg.ipme_fmdet_4region2_enable==MixMode_Region_Golden.ipme_fmdet_4region2_enable) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region2_enable read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_74_reg.ipme_fmdet_4region2_enable, MixMode_Region_Golden.ipme_fmdet_4region2_enable);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_74_reg.ipme_fmdet_4region2_h0, MixMode_Region_Golden.ipme_fmdet_4region2_h0*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region2_h0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_74_reg.ipme_fmdet_4region2_h0, MixMode_Region_Golden.ipme_fmdet_4region2_h0*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_74_reg.ipme_fmdet_4region2_h1, MixMode_Region_Golden.ipme_fmdet_4region2_h1*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region2_h1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_74_reg.ipme_fmdet_4region2_h1, MixMode_Region_Golden.ipme_fmdet_4region2_h1*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_78_reg.ipme_fmdet_4region2_v0, MixMode_Region_Golden.ipme_fmdet_4region2_v0*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region2_v0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_78_reg.ipme_fmdet_4region2_v0, MixMode_Region_Golden.ipme_fmdet_4region2_v0*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_78_reg.ipme_fmdet_4region2_v1, MixMode_Region_Golden.ipme_fmdet_4region2_v1*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region2_v1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_78_reg.ipme_fmdet_4region2_v1, MixMode_Region_Golden.ipme_fmdet_4region2_v1*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(kme_ipme_kme_ipme_7c_reg.ipme_fmdet_4region3_enable==MixMode_Region_Golden.ipme_fmdet_4region3_enable) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region3_enable read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_7c_reg.ipme_fmdet_4region3_enable, MixMode_Region_Golden.ipme_fmdet_4region3_enable);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_7c_reg.ipme_fmdet_4region3_h0, MixMode_Region_Golden.ipme_fmdet_4region3_h0*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region3_h0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_7c_reg.ipme_fmdet_4region3_h0, MixMode_Region_Golden.ipme_fmdet_4region3_h0*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_7c_reg.ipme_fmdet_4region3_h1, MixMode_Region_Golden.ipme_fmdet_4region3_h1*g_IPME1_HSize/u32IPME1_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region3_h1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_7c_reg.ipme_fmdet_4region3_h1, MixMode_Region_Golden.ipme_fmdet_4region3_h1*g_IPME1_HSize/u32IPME1_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_80_reg.ipme_fmdet_4region3_v0, MixMode_Region_Golden.ipme_fmdet_4region3_v0*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region3_v0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_80_reg.ipme_fmdet_4region3_v0, MixMode_Region_Golden.ipme_fmdet_4region3_v0*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_ipme_kme_ipme_80_reg.ipme_fmdet_4region3_v1, MixMode_Region_Golden.ipme_fmdet_4region3_v1*g_IPME1_VSize/u32IPME1_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] 4region3_v1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_ipme_kme_ipme_80_reg.ipme_fmdet_4region3_v1, MixMode_Region_Golden.ipme_fmdet_4region3_v1*g_IPME1_VSize/u32IPME1_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_08.km_logo_region_blk_x0, Logo_Detect_Region_Golden.region15_x0*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] logo_region_blk_x0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_08.km_logo_region_blk_x0, Logo_Detect_Region_Golden.region15_x0*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_08.km_logo_region_blk_x1, Logo_Detect_Region_Golden.region15_x1*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] logo_region_blk_x1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_08.km_logo_region_blk_x1, Logo_Detect_Region_Golden.region15_x1*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_08.km_logo_region_blk_x2, Logo_Detect_Region_Golden.region15_x2*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] logo_region_blk_x2 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_08.km_logo_region_blk_x2, Logo_Detect_Region_Golden.region15_x2*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_08.km_logo_region_blk_x3, Logo_Detect_Region_Golden.region15_x3*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] logo_region_blk_x3 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_08.km_logo_region_blk_x3, Logo_Detect_Region_Golden.region15_x3*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_0c.km_logo_region_blk_y0, Logo_Detect_Region_Golden.region15_y0*g_BLogo_RowNum/u32BLogo_Golden_RowNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] logo_region_blk_y0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_0c.km_logo_region_blk_y0, Logo_Detect_Region_Golden.region15_y0*g_BLogo_RowNum/u32BLogo_Golden_RowNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_0c.km_logo_region_blk_y1, Logo_Detect_Region_Golden.region15_y1*g_BLogo_RowNum/u32BLogo_Golden_RowNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] logo_region_blk_y1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_0c.km_logo_region_blk_y1, Logo_Detect_Region_Golden.region15_y1*g_BLogo_RowNum/u32BLogo_Golden_RowNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_68.km_logo_pxldfth_pxl_x0, PixLogo_Detect_Region_Golden.region15_x0*g_PLogo_HSize/u32PLogo_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] km_logo_pxldfth_pxl_x0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_68.km_logo_pxldfth_pxl_x0, PixLogo_Detect_Region_Golden.region15_x0*g_PLogo_HSize/u32PLogo_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_68.km_logo_pxldfth_pxl_x1, PixLogo_Detect_Region_Golden.region15_x1*g_PLogo_HSize/u32PLogo_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] km_logo_pxldfth_pxl_x1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_68.km_logo_pxldfth_pxl_x1, PixLogo_Detect_Region_Golden.region15_x1*g_PLogo_HSize/u32PLogo_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_6C.km_logo_pxldfth_pxl_x2, PixLogo_Detect_Region_Golden.region15_x2*g_PLogo_HSize/u32PLogo_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] km_logo_pxldfth_pxl_x2 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_6C.km_logo_pxldfth_pxl_x2, PixLogo_Detect_Region_Golden.region15_x2*g_PLogo_HSize/u32PLogo_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_6C.km_logo_pxldfth_pxl_x3, PixLogo_Detect_Region_Golden.region15_x3*g_PLogo_HSize/u32PLogo_Golden_HSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] km_logo_pxldfth_pxl_x3 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_6C.km_logo_pxldfth_pxl_x3, PixLogo_Detect_Region_Golden.region15_x3*g_PLogo_HSize/u32PLogo_Golden_HSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_70.km_logo_pxldfth_pxl_y0, PixLogo_Detect_Region_Golden.region15_y0*g_PLogo_VSize/u32PLogo_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] km_logo_pxldfth_pxl_y0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_70.km_logo_pxldfth_pxl_y0, PixLogo_Detect_Region_Golden.region15_y0*g_PLogo_VSize/u32PLogo_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_logo1_kme_logo1_70.km_logo_pxldfth_pxl_y1, PixLogo_Detect_Region_Golden.region15_y1*g_PLogo_VSize/u32PLogo_Golden_VSize) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] km_logo_pxldfth_pxl_y1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_logo1_kme_logo1_70.km_logo_pxldfth_pxl_y1, PixLogo_Detect_Region_Golden.region15_y1*g_PLogo_VSize/u32PLogo_Golden_VSize);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_94.dh_logo_rgn_v0, Dehalo_Logo_Region_Golden.dh_logo_rgn_v0*g_BLogo_RowNum/u32BLogo_Golden_RowNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_v0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_94.dh_logo_rgn_v0, Dehalo_Logo_Region_Golden.dh_logo_rgn_v0*g_BLogo_RowNum/u32BLogo_Golden_RowNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_94.dh_logo_rgn_v1, Dehalo_Logo_Region_Golden.dh_logo_rgn_v1*g_BLogo_RowNum/u32BLogo_Golden_RowNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_v1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_94.dh_logo_rgn_v1, Dehalo_Logo_Region_Golden.dh_logo_rgn_v1*g_BLogo_RowNum/u32BLogo_Golden_RowNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_94.dh_logo_rgn_v2, Dehalo_Logo_Region_Golden.dh_logo_rgn_v2*g_BLogo_RowNum/u32BLogo_Golden_RowNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_v2 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_94.dh_logo_rgn_v2, Dehalo_Logo_Region_Golden.dh_logo_rgn_v2*g_BLogo_RowNum/u32BLogo_Golden_RowNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_94.dh_logo_rgn_v3, Dehalo_Logo_Region_Golden.dh_logo_rgn_v3*g_BLogo_RowNum/u32BLogo_Golden_RowNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_v3 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_94.dh_logo_rgn_v3, Dehalo_Logo_Region_Golden.dh_logo_rgn_v3*g_BLogo_RowNum/u32BLogo_Golden_RowNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_98.dh_logo_rgn_h0, Dehalo_Logo_Region_Golden.dh_logo_rgn_h0*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_h0 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_98.dh_logo_rgn_h0, Dehalo_Logo_Region_Golden.dh_logo_rgn_h0*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_98.dh_logo_rgn_h1, Dehalo_Logo_Region_Golden.dh_logo_rgn_h1*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_h1 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_98.dh_logo_rgn_h1, Dehalo_Logo_Region_Golden.dh_logo_rgn_h1*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_98.dh_logo_rgn_h2, Dehalo_Logo_Region_Golden.dh_logo_rgn_h2*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_h2 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_98.dh_logo_rgn_h2, Dehalo_Logo_Region_Golden.dh_logo_rgn_h2*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_98.dh_logo_rgn_h3, Dehalo_Logo_Region_Golden.dh_logo_rgn_h3*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_h3 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_98.dh_logo_rgn_h3, Dehalo_Logo_Region_Golden.dh_logo_rgn_h3*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_9c.dh_logo_rgn_h4, Dehalo_Logo_Region_Golden.dh_logo_rgn_h4*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_h4 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_9c.dh_logo_rgn_h4, Dehalo_Logo_Region_Golden.dh_logo_rgn_h4*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u16_total_num++;
	if(_ABS_DIFF_(kme_dehalo2_kme_dehalo2_9c.dh_logo_rgn_h5, Dehalo_Logo_Region_Golden.dh_logo_rgn_h5*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum) <= REGION_CHECK_MAX_DIFF) {
		Result.u16_correct_num++;
	}else {
		rtd_pr_memc_emerg( "[%s][%s][NG] dh_logo_rgn_h5 read,%d, golden,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, kme_dehalo2_kme_dehalo2_9c.dh_logo_rgn_h5, Dehalo_Logo_Region_Golden.dh_logo_rgn_h5*g_BLogo_BlkNum/u32BLogo_Golden_BlkNum);
	}
	Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_ENVIRONMENT, ENVIRONMENT_CHECK_REGION, Result.u16_correct_num, Result.u16_total_num);
	return Result;
}

/**
 * @brief This function check the DDR boundary
 * @this functiono can't be interrupted
*/
_Self_Check_Result BasicInfoCheck_Check_DDR_Boundary(void)
{
	_Self_Check_Result Result = {SELF_TEST_INIT, 0, 0};
	static unsigned char u8_set_ptg_cnt = 0;
	Set_PTG(PTG_DEFAULT);
	StopMove_PTG();
	
	u8_set_ptg_cnt++;
	if(u8_set_ptg_cnt > MAX_SET_PTG_CNT){
		u8_set_ptg_cnt = 0;
		Close_PTG();
		Result = MEMC_Lib_DDR_Boundary_Check();
	}
	return Result;
}

/**
 * @brief This function check the IPPRE PTG mv info
 * @this function can't be interrupted
*/
_Self_Check_Result BasicInfoCheck_Check_IPPRE_MV_Info(void)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	static _Self_Check_Result Result = {SELF_TEST_INIT, 0, 0};
	static unsigned char u8_state = 0, u8_set_ptg_cnt = 0;
	static unsigned short u16_check_val_cnt = 0;
	static unsigned short s11_gmv_mvx_static[CHECK_VAL_CNT] = {0};
	static unsigned short s10_gmv_mvy_static[CHECK_VAL_CNT] = {0};
	static unsigned int u17_gmv_cnt_static[CHECK_VAL_CNT] = {0};
	static unsigned int u12_gmv_unconf_static[CHECK_VAL_CNT] = {0};
	static signed short s11_rmv_mvx_static[32][CHECK_VAL_CNT] = {0};
	static signed short s10_rmv_mvy_static[32][CHECK_VAL_CNT] = {0};
	static unsigned short u12_rmv_cnt_static[32][CHECK_VAL_CNT] = {0};
	static unsigned short u12_rmv_unconf_static[32][CHECK_VAL_CNT] = {0};
	unsigned int debug_log_en = 0;
	unsigned char u8_i = 0;
	signed short s11_gmv_mvx, s10_gmv_mvy, s11_rmv_mvx, s10_rmv_mvy, s11_gmv_mvx_median, s10_gmv_mvy_median, s11_rmv_mvx_median, s10_rmv_mvy_median;
	unsigned short u17_gmv_cnt, u12_gmv_unconf, u17_gmv_cnt_median, u12_gmv_unconf_median;
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);

	// set undo mask to integrate mv, let most of mv have same value
	WriteRegister(KME_ALGO_ME1_MEDFLT_CTRL_00_reg, 18, 18, 0);
	
	// initial
	if(u8_state==0){
		u8_state = 1;
		u8_set_ptg_cnt = 0;
		u16_check_val_cnt = 0;
		Init_Calib_Result(&Result);
		WriteRegister(KME_ALGO_ME1_MEDFLT_CTRL_00_reg, 18, 18, 0);
		WriteRegister(IPPRE_IPPRE_20_reg, 8, 11, 6);
	}
	// set still ptg
	else if(u8_state==1){
		Set_PTG(PTG_MVINFO_STILL);
		u8_set_ptg_cnt++;
		if(u8_set_ptg_cnt > SET_PTG_CNT){
			u8_set_ptg_cnt = 0;
			u8_state = 2;
		}
	}
	// check mv info with still ptg
	else if(u8_state==2){
		u8_state = 3;
		Result.u16_total_num++;
		s11_gmv_mvx = s_pContext->_output_read_comreg.s11_me_GMV_1st_vx_rb;
		if(s11_gmv_mvx==PTG_MV_Info_Golden[CHECK_MVINFO_STILL].s11_gmv_x){
			Result.u16_correct_num++;
		}else {
			rtd_pr_memc_emerg( "[%s][%s][check still ptg][NG] gmv_mvx	read,%d, golden,%d, speed(v,h)=(0,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s11_gmv_mvx, PTG_MV_Info_Golden[CHECK_MVINFO_STILL].s11_gmv_x);
		}
		Result.u16_total_num++;
		s10_gmv_mvy = s_pContext->_output_read_comreg.s10_me_GMV_1st_vy_rb;
		if(s10_gmv_mvy==PTG_MV_Info_Golden[CHECK_MVINFO_STILL].s10_gmv_y){
			Result.u16_correct_num++;
		}else {
			rtd_pr_memc_emerg( "[%s][%s][check still ptg][NG] gmv_mvy	read,%d, golden,%d, speed(v,h)=(0,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s10_gmv_mvy, PTG_MV_Info_Golden[CHECK_MVINFO_STILL].s10_gmv_y);
		}
		Result.u16_total_num++;
		u17_gmv_cnt = s_pContext->_output_read_comreg.u17_me_GMV_1st_cnt_rb;
		if(_ABS_DIFF_(u17_gmv_cnt, PTG_MV_Info_Golden[CHECK_MVINFO_STILL].u17_gmv_cnt)<=MV_CNT_CHECK_MAX_DIFF){
			Result.u16_correct_num++;
		}else {
			rtd_pr_memc_emerg( "[%s][%s][check still ptg][NG] gmv_cnt	read,%d, golden,%d, speed(v,h)=(0,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, u17_gmv_cnt, PTG_MV_Info_Golden[CHECK_MVINFO_STILL].u17_gmv_cnt);
		}
		Result.u16_total_num++;
		u12_gmv_unconf = s_pContext->_output_read_comreg.u12_me_GMV_1st_unconf_rb;
		if(u12_gmv_unconf==PTG_MV_Info_Golden[CHECK_MVINFO_STILL].u12_gmv_unconf){
			Result.u16_correct_num++;
		}else {
			rtd_pr_memc_emerg( "[%s][%s][check still ptg][NG] gmv_unconf	read,%d, golden,%d, speed(v,h)=(0,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, u12_gmv_unconf, PTG_MV_Info_Golden[CHECK_MVINFO_STILL].u12_gmv_unconf);
		}
		for(u8_i=0; u8_i<32; u8_i++){
			Result.u16_total_num++;
			s11_rmv_mvx = s_pContext->_output_read_comreg.s11_me_rMV_1st_vx_rb[u8_i];
			if(s11_rmv_mvx==PTG_MV_Info_Golden[CHECK_MVINFO_STILL].s11_rmv_x){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][%s][check still ptg][NG] rmv_mvx	read,%d, golden,%d, region,%d, speed(v,h)=(0,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s11_rmv_mvx, PTG_MV_Info_Golden[CHECK_MVINFO_STILL].s11_rmv_x, u8_i);
			}
		}
		for(u8_i=0; u8_i<32; u8_i++){
			Result.u16_total_num++;
			s10_rmv_mvy = s_pContext->_output_read_comreg.s10_me_rMV_1st_vy_rb[u8_i];
			if(s10_rmv_mvy==PTG_MV_Info_Golden[CHECK_MVINFO_STILL].s10_rmv_y){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][%s][check still ptg][NG] rmv_mvy	read,%d, golden,%d, region,%d, speed(v,h)=(0,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s10_rmv_mvy, PTG_MV_Info_Golden[CHECK_MVINFO_STILL].s10_rmv_y, u8_i);
			}
		}
	}
	// set horizontal moving ptg
	else if(u8_state==3){ 
		Set_PTG(PTG_MVINFO_H_MOVE);
		u8_set_ptg_cnt++;
		if(u8_set_ptg_cnt <= QUICK_SET_PTG_CNT){
			StopMove_PTG();
		}
		if(u8_set_ptg_cnt > MAX_SET_PTG_CNT){
			u8_set_ptg_cnt = 0;
			u16_check_val_cnt = 0;
			u8_state = 4;
		}
	}
	// check mv info with horizontal moving ptg
	else if(u8_state==4){
		u16_check_val_cnt++;
		if(u16_check_val_cnt < CHECK_VAL_CNT){
			s11_gmv_mvx_static[u16_check_val_cnt] = s_pContext->_output_read_comreg.s11_me_GMV_1st_vx_rb;
			s10_gmv_mvy_static[u16_check_val_cnt] = s_pContext->_output_read_comreg.s10_me_GMV_1st_vy_rb;
			u17_gmv_cnt_static[u16_check_val_cnt] = s_pContext->_output_read_comreg.u17_me_GMV_1st_cnt_rb;
			u12_gmv_unconf_static[u16_check_val_cnt] = s_pContext->_output_read_comreg.u12_me_GMV_1st_unconf_rb;
			for(u8_i=0; u8_i<32; u8_i++){
				s11_rmv_mvx_static[u8_i][u16_check_val_cnt] = s_pContext->_output_read_comreg.s11_me_rMV_1st_vx_rb[u8_i];
				s10_rmv_mvy_static[u8_i][u16_check_val_cnt] = s_pContext->_output_read_comreg.s10_me_rMV_1st_vy_rb[u8_i];
				u12_rmv_cnt_static[u8_i][u16_check_val_cnt] = s_pContext->_output_read_comreg.u12_me_rMV_1st_cnt_rb[u8_i];
				u12_rmv_unconf_static[u8_i][u16_check_val_cnt] = s_pContext->_output_read_comreg.u12_me_rMV_1st_unconf_rb[u8_i];
			}
		}else{
			u8_state = 5;
			Result.u16_total_num++;
			s11_gmv_mvx_median = GetMedian_SS(s11_gmv_mvx_static, CHECK_VAL_CNT);
			if(_ABS_DIFF_(s11_gmv_mvx_median, PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].s11_gmv_x) <= MV_CHECK_MAX_DIFF){	
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][%s][check horizontal moving ptg][NG] gmv_mvx	read,%d, golden,%d, speed(v,h)=(16,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s11_gmv_mvx_median, PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].s11_gmv_x);
			}
			Result.u16_total_num++;
			s10_gmv_mvy_median = GetMedian_SS(s10_gmv_mvy_static, CHECK_VAL_CNT);
			if(s10_gmv_mvy_median == PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].s10_gmv_y){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][%s][check horizontal moving ptg][NG] gmv_mvy read,%d, golden,%d, speed(v,h)=(16,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s10_gmv_mvy_median, PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].s10_gmv_y);
			}
			Result.u16_total_num++;
			u17_gmv_cnt_median = GetMedian_UI(u17_gmv_cnt_static, CHECK_VAL_CNT);
			if(_ABS_DIFF_(u17_gmv_cnt_median, PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].u17_gmv_cnt)<=MV_CNT_CHECK_MAX_DIFF){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][%s][check horizontal moving ptg][NG] gmv_cnt read,%d, golden,%d, speed(v,h)=(16,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, u17_gmv_cnt_median, PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].u17_gmv_cnt);
			}
			Result.u16_total_num++;
			u12_gmv_unconf_median = GetMedian_UI(u12_gmv_unconf_static, CHECK_VAL_CNT);
			if(u12_gmv_unconf_median == PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].u12_gmv_unconf){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][%s][check horizontal moving ptg][NG] gmv_unconf read,%d, golden,%d, speed(v,h)=(16,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, u12_gmv_unconf_median, PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].u12_gmv_unconf);
			}
			for(u8_i=0; u8_i<32; u8_i++){
				Result.u16_total_num++;
				s11_rmv_mvx_median = GetMedian_SS(s11_rmv_mvx_static[u8_i], CHECK_VAL_CNT);
				if(_ABS_DIFF_(s11_rmv_mvx_median, PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].s11_rmv_x) <= MV_CHECK_MAX_DIFF){
					Result.u16_correct_num++;
				}else {
					rtd_pr_memc_emerg( "[%s][%s][check horizontal moving ptg][NG] rmv_mvx	read,%d, golden,%d, region,%d, speed(v,h)=(16,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s11_rmv_mvx_median, PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].s11_rmv_x, u8_i);
				}
			}
			for(u8_i=0; u8_i<32; u8_i++){
				Result.u16_total_num++;
				s10_rmv_mvy_median = GetMedian_SS(s10_rmv_mvy_static[u8_i], CHECK_VAL_CNT);
				if(s10_rmv_mvy_median == PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].s10_rmv_y){
					Result.u16_correct_num++;
				}else {
					rtd_pr_memc_emerg( "[%s][%s][check horizontal moving ptg][NG] rmv_mvy	read,%d, golden,%d, region,%d, speed(v,h)=(16,0)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s10_rmv_mvy_median, PTG_MV_Info_Golden[CHECK_MVINFO_H_MOVE].s10_rmv_y, u8_i);
				}
			}
		}
	}
	// set vertical moving ptg
	else if(u8_state==5){
		Set_PTG(PTG_MVINFO_V_MOVE); 
		u8_set_ptg_cnt++;
		if(u8_set_ptg_cnt <= QUICK_SET_PTG_CNT){
			StopMove_PTG();
		}
		if(u8_set_ptg_cnt > MAX_SET_PTG_CNT){
			u8_set_ptg_cnt = 0;
			u16_check_val_cnt = 0;
			u8_state = 6;
		}
	}
	// check mv info with vertical moving ptg
	else if(u8_state==6){
		u16_check_val_cnt++;
		if(u16_check_val_cnt < CHECK_VAL_CNT){
			s11_gmv_mvx_static[u16_check_val_cnt] = s_pContext->_output_read_comreg.s11_me_GMV_1st_vx_rb;
			s10_gmv_mvy_static[u16_check_val_cnt] = s_pContext->_output_read_comreg.s10_me_GMV_1st_vy_rb;
			u17_gmv_cnt_static[u16_check_val_cnt] = s_pContext->_output_read_comreg.u17_me_GMV_1st_cnt_rb;
			u12_gmv_unconf_static[u16_check_val_cnt] = s_pContext->_output_read_comreg.u12_me_GMV_1st_unconf_rb;
			for(u8_i=0; u8_i<32; u8_i++){
				s11_rmv_mvx_static[u8_i][u16_check_val_cnt] = s_pContext->_output_read_comreg.s11_me_rMV_1st_vx_rb[u8_i];
				s10_rmv_mvy_static[u8_i][u16_check_val_cnt] = s_pContext->_output_read_comreg.s10_me_rMV_1st_vy_rb[u8_i];
				u12_rmv_cnt_static[u8_i][u16_check_val_cnt] = s_pContext->_output_read_comreg.u12_me_rMV_1st_cnt_rb[u8_i];
				u12_rmv_unconf_static[u8_i][u16_check_val_cnt] = s_pContext->_output_read_comreg.u12_me_rMV_1st_unconf_rb[u8_i];
			}
		}else{
			u8_state = 7;
			Result.u16_total_num++;
			s11_gmv_mvx_median = GetMedian_SS(s11_gmv_mvx_static, CHECK_VAL_CNT);
			if(s11_gmv_mvx_median == PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].s11_gmv_x){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][%s][check vertical moving ptg][NG] gmv_mvx	read,%d, golden,%d, speed(v,h)=(0,16)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s11_gmv_mvx_median, PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].s11_gmv_x);
			}
			Result.u16_total_num++;
			s10_gmv_mvy_median = GetMedian_SS(s10_gmv_mvy_static, CHECK_VAL_CNT);
			if(_ABS_DIFF_(s10_gmv_mvy_median, PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].s10_gmv_y) <= MV_CHECK_MAX_DIFF){
				Result.u16_correct_num++;
			}else { 
				rtd_pr_memc_emerg( "[%s][%s][check vertical moving ptg][NG] gmv_mvy read,%d, golden,%d, speed(v,h)=(0,16)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s10_gmv_mvy_median, PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].s10_gmv_y);
			}
			Result.u16_total_num++;
 			u17_gmv_cnt_median = GetMedian_UI(u17_gmv_cnt_static, CHECK_VAL_CNT);
			if(_ABS_DIFF_(u17_gmv_cnt_median, PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].u17_gmv_cnt)<=MV_CNT_CHECK_MAX_DIFF){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][%s][check vertical moving ptg][NG] gmv_cnt read,%d, golden,%d, speed(v,h)=(0,16)\n", __MEMC_SELF_CALIB__, __FUNCTION__, u17_gmv_cnt_median, PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].u17_gmv_cnt);
			}
			Result.u16_total_num++;
			u12_gmv_unconf_median = GetMedian_UI(u12_gmv_unconf_static, CHECK_VAL_CNT);
			if(u12_gmv_unconf_median == PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].u12_gmv_unconf){
				Result.u16_correct_num++;
			}else {
				rtd_pr_memc_emerg( "[%s][%s][check vertical moving ptg][NG] gmv_unconf read,%d, golden,%d, speed(v,h)=(0,16)\n", __MEMC_SELF_CALIB__, __FUNCTION__, u12_gmv_unconf_median, PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].u12_gmv_unconf);
			}
			for(u8_i=0; u8_i<32; u8_i++){
				Result.u16_total_num++;
				s11_rmv_mvx_median = GetMedian_SS(s11_rmv_mvx_static[u8_i], CHECK_VAL_CNT);
				if(s11_rmv_mvx_median == PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].s11_rmv_x){
					Result.u16_correct_num++;
				}else {
					rtd_pr_memc_emerg( "[%s][%s][check vertical moving ptg][NG] rmv_mvx	read,%d, golden,%d, region,%d, speed(v,h)=(0,16)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s11_rmv_mvx_median, PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].s11_rmv_x, u8_i);
				}
			}
			for(u8_i=0; u8_i<32; u8_i++){
				Result.u16_total_num++;
				s10_rmv_mvy_median = GetMedian_SS(s10_rmv_mvy_static[u8_i], CHECK_VAL_CNT);
				if(_ABS_DIFF_(s10_rmv_mvy_median, PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].s10_rmv_y) <= MV_CHECK_MAX_DIFF){
					Result.u16_correct_num++;
				}else {
					rtd_pr_memc_emerg( "[%s][%s][check vertical moving ptg][NG] rmv_mvy	read,%d, golden,%d, region,%d, speed(v,h)=(0,16)\n", __MEMC_SELF_CALIB__, __FUNCTION__, s10_rmv_mvy_median, PTG_MV_Info_Golden[CHECK_MVINFO_V_MOVE].s10_rmv_y, u8_i);
				}
			}
		}
	}
	else if(u8_state==7){
		u8_state = 0;
		WriteRegister(KME_ALGO_ME1_MEDFLT_CTRL_00_reg, 18, 18, 1);
		Close_PTG();
		WriteRegister(KME_ALGO_ME1_MEDFLT_CTRL_00_reg, 18, 18, 1);
		WriteRegister(IPPRE_IPPRE_20_reg, 8, 11, 7);
		Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_ENVIRONMENT, ENVIRONMENT_CHECK_PTG_MV_INFO, Result.u16_correct_num, Result.u16_total_num);
	}
	
	if(debug_log_en){
		rtd_pr_memc_emerg( "[%s] state,%d\n", __MEMC_SELF_CALIB__, u8_state);
	}
	return Result;
}

/**
 * @brief This function check the lbmc mode by high speed v panning ptg
*/
_Self_Check_Result BasicInfoCheck_Check_LBMC_mode(void)
{
	static _Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
#ifdef BUILD_QUICK_SHOW
	return Result;
#endif
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	static bool u1_first_set = true;
	static unsigned char u8_state = 0, u8_set_ptg_cnt = 0, u8_check_lbmc_id = 0;
	static unsigned short u16_index = 0;
	static unsigned short u16_lbmc_cnt[_LBMC_BAND_NUM_][_MC_LBMC_MODE_NUM_]={{0}};
	static unsigned short u16_lbmc_cnt_pre[_LBMC_BAND_NUM_][_MC_LBMC_MODE_NUM_]={{0}};
	unsigned short u16_golden_up = 0, u16_golden_down = 0, u16_stable_val = 0;
	unsigned char u8_i = 0, u8_j = 0;
	unsigned char lf_lbmcMode = s_pContext->_output_mc_lbmcswitch.u8_lf_lbmcMode;
	unsigned char hf_lbmcMode = s_pContext->_output_mc_lbmcswitch.u8_hf_lbmcMode;
	unsigned int debug_log_en = 0;
	bool u1_check_en = true, u1_correct_result = true;
	signed short s10_gmv_mvy_max = 0, s10_gmv_mvy_min = 0, s10_gmv_mvy_gloden = 0;
	signed short s10_gmv_mvy = s_pContext->_output_read_comreg.s10_me_GMV_1st_vy_rb;
	ippre_ippre_54_RBUS ippre_ippre_54;
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	
	if(u1_first_set){
		u8_state = 0;
		u8_check_lbmc_id = 0;
		u8_set_ptg_cnt = 0;
		Result.u16_correct_num = 0;
		Result.u16_total_num = 0;
		Result.u8_result = SELF_TEST_PROCESS;
		u1_first_set = false;
	}
	
	// initial setting
	if(u8_state==0){
		//Set_PTG(PTG_CHECK_LBMC_1+u8_check_lbmc_id);
		StopMove_PTG();
		u8_set_ptg_cnt++;
		if(u8_set_ptg_cnt>SET_PTG_CNT*2){
			u8_set_ptg_cnt = 0;
			u16_index = 0;
			u8_state = 1;
			for(u8_i=0; u8_i<_LBMC_BAND_NUM_; u8_i++){
				for(u8_j=0; u8_j<_MC_LBMC_MODE_NUM_; u8_j++){
					u16_lbmc_cnt[u8_i][u8_j]=0;
				}
			}
		}
	}
	// apply PTG setting
	else if(u8_state==1){
		Set_PTG(PTG_CHECK_LBMC_1+u8_check_lbmc_id);
		u8_set_ptg_cnt++;
		if(u8_set_ptg_cnt>MAX_SET_PTG_CNT){
			u8_set_ptg_cnt = 0;
			u8_state = 2;
		}
	}
	// check gmv
	else if(u8_state==2){
		ippre_ippre_54.regValue = rtd_inl(IPPRE_IPPRE_54_reg);
		s10_gmv_mvy_gloden = (ippre_ippre_54.speed_v_cadence==0) ? 0 :
							 (ippre_ippre_54.speed_v_cadence<128) ? ippre_ippre_54.speed_v_cadence : 128-ippre_ippre_54.speed_v_cadence;
		s10_gmv_mvy_max = (s10_gmv_mvy_gloden>255-LBMC_GMV_DIFF) ? 255 : s10_gmv_mvy_gloden + LBMC_GMV_DIFF;
		s10_gmv_mvy_min = (s10_gmv_mvy_gloden<-255+LBMC_GMV_DIFF) ? -255 : s10_gmv_mvy_gloden - LBMC_GMV_DIFF;
		if(s10_gmv_mvy_max>=s10_gmv_mvy && s10_gmv_mvy>=s10_gmv_mvy_min){
			u8_state = 3;
		}else{
			u8_state = 0;
			rtd_pr_memc_crit( "[%s][%s][reset ptg] read gmv_mvy,%d, golden gmv_mvy,%d,\n", __MEMC_SELF_CALIB__, __FUNCTION__, s10_gmv_mvy, s10_gmv_mvy_gloden);
		}
	}
	// get the lbmc mode
	else if(u8_state==3){
		u16_index++;
		lf_lbmcMode = (lf_lbmcMode>=_MC_LBMC_MODE_NUM_) ? _MC_NORMAL_ : lf_lbmcMode;
		hf_lbmcMode = (hf_lbmcMode>=_MC_LBMC_MODE_NUM_) ? _MC_NORMAL_ : hf_lbmcMode;
		u16_lbmc_cnt[_LBMC_LF_][lf_lbmcMode]++;
		u16_lbmc_cnt[_LBMC_HF_][hf_lbmcMode]++;
		if(u16_index >= MAX_LBMC_CNT*g_FrameRate_Scale){
			u8_state = 4;
		}
	}
	// check the result
	else if(u8_state==4){//u16_golden_up
		for(u8_i=0; u8_i<_LBMC_BAND_NUM_; u8_i++){
			for(u8_j=0; u8_j<_MC_LBMC_MODE_NUM_; u8_j++){
				
				u16_golden_up = g_FrameRate_Scale * (LBMC_CNT_GOLDEN[u8_check_lbmc_id][u8_i][u8_j]+LBMC_CHECK_MAX_DIFF);
				u16_golden_down = (LBMC_CNT_GOLDEN[u8_check_lbmc_id][u8_i][u8_j]<LBMC_CHECK_MAX_DIFF) ? 0 : g_FrameRate_Scale * (LBMC_CNT_GOLDEN[u8_check_lbmc_id][u8_i][u8_j]-LBMC_CHECK_MAX_DIFF);
				u16_stable_val = g_FrameRate_Scale * LBMC_CHECK_MAX_DIFF;
				if(u16_golden_up>=u16_lbmc_cnt[u8_i][u8_j] && u16_lbmc_cnt[u8_i][u8_j]>=u16_golden_down){
					rtd_pr_memc_crit( "[%s][%s][OK] lbmc_id,%d, lf/h,%d, lbmc_mode,%d, val,%d, limit,%d,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, 
						u8_check_lbmc_id, u8_i, u8_j, u16_lbmc_cnt[u8_i][u8_j], u16_golden_up, u16_golden_down);
				}
				else if(_ABS_DIFF_(u16_lbmc_cnt[0][0], u16_lbmc_cnt_pre[0][0])>u16_stable_val || _ABS_DIFF_(u16_lbmc_cnt[1][0], u16_lbmc_cnt_pre[1][0])>u16_stable_val || 
						_ABS_DIFF_(u16_lbmc_cnt[0][1], u16_lbmc_cnt_pre[0][1])>u16_stable_val || _ABS_DIFF_(u16_lbmc_cnt[1][1], u16_lbmc_cnt_pre[1][1])>u16_stable_val || 
						_ABS_DIFF_(u16_lbmc_cnt[0][2], u16_lbmc_cnt_pre[0][2])>u16_stable_val || _ABS_DIFF_(u16_lbmc_cnt[1][2], u16_lbmc_cnt_pre[1][2])>u16_stable_val ){
					u1_check_en = false;
					rtd_pr_memc_crit( "[%s][%s][Double Check] cur read,%d,%d,%d,%d,%d,%d, pre read,%d,%d,%d,%d,%d,%d, stable_val,%d,\n", __MEMC_SELF_CALIB__, __FUNCTION__, 
						u16_lbmc_cnt[0][0], u16_lbmc_cnt[0][1], u16_lbmc_cnt[0][2], u16_lbmc_cnt[1][0], u16_lbmc_cnt[1][1], u16_lbmc_cnt[1][2], 
						u16_lbmc_cnt_pre[0][0], u16_lbmc_cnt_pre[0][1], u16_lbmc_cnt_pre[0][2], u16_lbmc_cnt_pre[1][0], u16_lbmc_cnt_pre[1][1], u16_lbmc_cnt_pre[1][2], u16_stable_val);
					memcpy(u16_lbmc_cnt_pre, u16_lbmc_cnt, sizeof(u16_lbmc_cnt_pre));
				}
				else {
					u1_correct_result = false;
					rtd_pr_memc_crit( "[%s][%s][NG] lbmc_id,%d, lf/h,%d, lbmc_mode,%d, val,%d, limit,%d,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, 
						u8_check_lbmc_id, u8_i, u8_j, u16_lbmc_cnt[u8_i][u8_j], u16_golden_up, u16_golden_down);
				}
			}
		}
		if(debug_log_en){
			rtd_pr_memc_emerg( "[%s][%s] bmc_id,%d, check,%d,%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, u8_check_lbmc_id, u1_check_en, u1_correct_result);
		}
		if(u1_check_en){
			if(u8_check_lbmc_id+1>=LBMC_MAX_TEST_ID){
				u8_state = 5;
				u8_check_lbmc_id = 0;
			}
			else {
				u8_state = 0;
				u8_check_lbmc_id++;
			}
			Result.u16_total_num++;
			if(u1_correct_result){
				Result.u16_correct_num++;
			}
		}else {
			u8_state = 0;
		}
	}
	// output the result
	else if(u8_state==5){
		Set_PTG(PTG_DEFAULT);
		Close_PTG();
		Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_INTERNAL, PTG_CALIB_LBMC, Result.u16_correct_num, Result.u16_total_num);
		u1_first_set = true;
	}
	return Result;
}
/**
 * @brief This function check the YUV histogram
*/
_Self_Check_Result BasicInfoCheck_Check_YUV_Hist(void)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	PQL_OUTPUT_RESOLUTION output_Resolution = s_pContext->_external_data._output_resolution;
	static _Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
	static unsigned char u8_set_ptg_cnt = 0;
	static unsigned int yuv_mode_backup = 0;
	static bool set_yuv_mode = false;
	unsigned int u32_sum = 0, Resolution_Width = MEMC_PARAM_TABLE.RIM_Param[output_Resolution].RimCtrl_Param.s16_resolution_width;
	unsigned char u8_i = 0;
	
	WriteRegister(KMC_METER_TOP_KMC_METER_TOP_00_reg, 0,1,0x0); //set Y mode
	Set_PTG(PTG_DEFAULT);
	StopMove_PTG();
	// set yuv mode for calibration
	if(set_yuv_mode==false){
		ReadRegister(SOFTWARE2_SOFTWARE2_09_reg, 25, 26, &yuv_mode_backup);
		WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, 25, 26, YUV_HIST_CALIB);
		set_yuv_mode = true;
	}
	// set yuv search range
	WriteRegister(KMC_METER_TOP_KMC_METER_TOP_00_reg,  2, 14, Resolution_Width-YUV_HIST_SEARCH_WDITH);
	WriteRegister(KMC_METER_TOP_KMC_METER_TOP_00_reg, 16, 28, Resolution_Width-1); 
	
	u8_set_ptg_cnt++;
	if(u8_set_ptg_cnt > SET_PTG_CNT){
		Init_Calib_Result(&Result);
		u8_set_ptg_cnt = 0;
	
		for(u8_i=0; u8_i<32; u8_i++) {
			u32_sum += s_pContext->_output_read_comreg.u32_yuv_meter[u8_i];
		}
		Result.u16_total_num++;
		if(_ABS_DIFF_(u32_sum, YUV_HIST_GOLDEN) <= YUV_HIST_GOLDEN/100){
			Result.u16_correct_num++;
			rtd_pr_memc_emerg( "[%s][%s][OK] read>>%d, gloden>>%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, u32_sum, YUV_HIST_GOLDEN);
		}
		else {
			rtd_pr_memc_emerg( "[%s][%s][NG] suggest_gain>>%d, suggest_shift>>%d, read>>%d, gloden>>%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, (YUV_HIST_GOLDEN<<SUGGEST_OFFSET)/u32_sum, SUGGEST_OFFSET, u32_sum, YUV_HIST_GOLDEN);
		}
		Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_INTERNAL, PTG_CALIB_YUV, Result.u16_correct_num, Result.u16_total_num);
		Close_PTG();
		// resume yuv mode
		WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, 25, 26, yuv_mode_backup);
		set_yuv_mode = false;
	}
	return Result;
}

/**
 * @brief This function check the logo detect
*/
_Self_Check_Result BasicInfoCheck_AutoCalib_LogoDetect(void)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	const unsigned char logo_detect_th_shift = 10;
	const unsigned char logo_detect_th_step = 50;
	static _Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
	static bool u1_first_set = true, u1_tune_setting = false;
	static unsigned char u8_state = 0, u8_set_ptg_cnt = 0, u8_set_threshold_cnt = 0;
	static unsigned short u16_get_logo_cnt = 0;
	static unsigned int u32_sum_blklogo = 0, logo_detect_th_ori[LOGO_DETECT_EDGE_NUM] = {0}, logo_detect_th_gain = 1024;
	static unsigned int u32_last6_gain[6] = {0}, u32_last6_avg_blklogocnt[6]={0};
	unsigned int debug_log_en = 0, Setting_Backup[8] = {0}, logo_detect_th_adjust[LOGO_DETECT_EDGE_NUM] = {0};
	unsigned char u8_i = 0;
	unsigned short u16_avg_blklogo = 0;
	bool u1_TradeOff_BetweenTwoGain = false;
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	
	if(u1_first_set){
		u8_state = 0;
		u8_set_ptg_cnt = 0;
		u8_set_threshold_cnt = 0;
		u16_get_logo_cnt = 0;
		u32_sum_blklogo = 0;
		Result.u16_correct_num = 0;
		Result.u16_total_num = 0;
		Result.u8_result = SELF_TEST_PROCESS;
		u1_tune_setting = false;
		u1_first_set = false;
	}
	
	// backup the logo setting
	if(u8_state == 0){
		ReadRegister(SOFTWARE_SOFTWARE_47_reg, 0, 0, &Setting_Backup[0]);
		ReadRegister(SOFTWARE_SOFTWARE_47_reg, 3, 3, &Setting_Backup[1]);
		ReadRegister(SOFTWARE_SOFTWARE_47_reg, 4, 4, &Setting_Backup[2]);
		ReadRegister(SOFTWARE_SOFTWARE_47_reg, 5, 5, &Setting_Backup[3]);
		ReadRegister(SOFTWARE_SOFTWARE_47_reg, 6, 6, &Setting_Backup[4]);
		ReadRegister(SOFTWARE_SOFTWARE_47_reg, 7, 7, &Setting_Backup[5]);
		ReadRegister(SOFTWARE_SOFTWARE_47_reg, 8, 8, &Setting_Backup[6]);
		ReadRegister(SOFTWARE_SOFTWARE_47_reg, 9, 9, &Setting_Backup[7]);
		ReadRegister(KME_LOGO0_KME_LOGO0_64_reg,  0,  7, &logo_detect_th_ori[LOGO_DETECT_EDGE_HORIZONTAL]);
		ReadRegister(KME_LOGO0_KME_LOGO0_64_reg,  8, 15, &logo_detect_th_ori[LOGO_DETECT_EDGE_P45]);
		ReadRegister(KME_LOGO0_KME_LOGO0_64_reg, 16, 23, &logo_detect_th_ori[LOGO_DETECT_EDGE_VERTICAL]);
		ReadRegister(KME_LOGO0_KME_LOGO0_64_reg, 24, 31, &logo_detect_th_ori[LOGO_DETECT_EDGE_N45]);
		u8_state = 1;
	}
	// set the ptg
	else if(u8_state == 1){
		Set_PTG(PTG_LOGO_DETECT);
		u8_set_ptg_cnt++;
		if(u8_set_ptg_cnt > SET_PTG_CNT){
			u8_state = 2;
			u8_set_ptg_cnt=0;
		}
	}
	// set the logo detect threshold
	else if(u8_state == 2){
		u8_set_threshold_cnt++;
		if(u8_set_threshold_cnt==1) {
			// adjust the logo detect threshold
			for(u8_i=0; u8_i<LOGO_DETECT_EDGE_NUM; u8_i++){
				logo_detect_th_adjust[u8_i] = (logo_detect_th_ori[u8_i]*logo_detect_th_gain)>>logo_detect_th_shift;
			}
			// set the logo detect threshold
			WriteRegister(KME_LOGO0_KME_LOGO0_64_reg,  0,  7, logo_detect_th_adjust[LOGO_DETECT_EDGE_HORIZONTAL]);
			WriteRegister(KME_LOGO0_KME_LOGO0_64_reg,  8, 15, logo_detect_th_adjust[LOGO_DETECT_EDGE_P45]);
			WriteRegister(KME_LOGO0_KME_LOGO0_64_reg, 16, 23, logo_detect_th_adjust[LOGO_DETECT_EDGE_VERTICAL]);
			WriteRegister(KME_LOGO0_KME_LOGO0_64_reg, 24, 31, logo_detect_th_adjust[LOGO_DETECT_EDGE_N45]);
			if(debug_log_en){
				rtd_pr_memc_emerg( "[%s] threshold Hor,%d, P45,%d, Ver,%d, N45,%d\n", __FUNCTION__, 
					logo_detect_th_adjust[LOGO_DETECT_EDGE_HORIZONTAL], logo_detect_th_adjust[LOGO_DETECT_EDGE_P45],	logo_detect_th_adjust[LOGO_DETECT_EDGE_VERTICAL], logo_detect_th_adjust[LOGO_DETECT_EDGE_N45]);
			}
		}else if(u8_set_threshold_cnt>LOGO_DETECT_SET_CNT){
			u8_state = 3;
			u16_get_logo_cnt = 0;
			u32_sum_blklogo = 0;
			u8_set_threshold_cnt = 0;
		}
	}
	// get the logo cnt
	else if(u8_state == 3){
		if(u16_get_logo_cnt<LOGO_DETECT_GET_TIME) {
			u16_get_logo_cnt++;
			for(u8_i=0; u8_i<LOGO_RG_32; u8_i++){
				u32_sum_blklogo += s_pContext->_output_read_comreg.u10_blklogo_rgcnt[u8_i];
			}
		}else {
			u8_state = 4;
			u16_get_logo_cnt = 0;
		}
		if(debug_log_en){
			rtd_pr_memc_crit( "[%s] %d, %d\n", __FUNCTION__, s_pContext->_output_read_comreg.u10_blklogo_rgcnt[0], s_pContext->_output_read_comreg.u10_blklogo_rgcnt[11]);
		}
	}
	// check the result
	else if(u8_state==4){
		u16_avg_blklogo = u32_sum_blklogo/LOGO_DETECT_GET_TIME;
		for(u8_i=5; u8_i>0; u8_i--){
			u32_last6_gain[u8_i] = u32_last6_gain[u8_i-1];
			u32_last6_avg_blklogocnt[u8_i] = u32_last6_avg_blklogocnt[u8_i-1];
		}
		u32_last6_gain[0] = logo_detect_th_gain;
		u32_last6_avg_blklogocnt[0] = u16_avg_blklogo;
		
		if(_ABS_DIFF_(u16_avg_blklogo, LOGO_DETECT_BLKLOGO_GOLDEN) <= LOGO_DETECT_BLKLOGO_TOLERANCE){
			u8_state=5;
		}else{
			u1_TradeOff_BetweenTwoGain = (u32_last6_gain[0]==u32_last6_gain[2] && u32_last6_gain[2]==u32_last6_gain[4] &&
										u32_last6_gain[1]==u32_last6_gain[3] && u32_last6_gain[3]==u32_last6_gain[5] ) ? true : false;
			if(u1_TradeOff_BetweenTwoGain){
				u8_state=5;
				logo_detect_th_gain = (_ABS_DIFF_(u32_last6_avg_blklogocnt[0]+u32_last6_avg_blklogocnt[2]+u32_last6_avg_blklogocnt[4], 3*LOGO_DETECT_BLKLOGO_GOLDEN) < 
										_ABS_DIFF_(u32_last6_avg_blklogocnt[1]+u32_last6_avg_blklogocnt[3]+u32_last6_avg_blklogocnt[5], 3*LOGO_DETECT_BLKLOGO_GOLDEN) ) ? u32_last6_gain[0] : u32_last6_gain[1];
			}
			else {
				u8_state=2;
				u1_tune_setting = true;
				if(u16_avg_blklogo>LOGO_DETECT_BLKLOGO_GOLDEN){
					logo_detect_th_gain = (logo_detect_th_gain+logo_detect_th_step<=5120) ? (logo_detect_th_gain+logo_detect_th_step) : 5120;
				}else{
					logo_detect_th_gain = (logo_detect_th_gain>=logo_detect_th_step) ? (logo_detect_th_gain-logo_detect_th_step) : 0;
				}
			}
		}
		if(debug_log_en){
			rtd_pr_memc_emerg( "[%s] avg,%d gain,%d, u1_TradeOff_BetweenTwoGain,%d\n", __FUNCTION__, u16_avg_blklogo, logo_detect_th_gain, u1_TradeOff_BetweenTwoGain);
		}
	}
	else if(u8_state==5){
		Result.u16_total_num++;
		if(u1_tune_setting==false || 
			(logo_detect_th_adjust[LOGO_DETECT_EDGE_HORIZONTAL]==logo_detect_th_ori[LOGO_DETECT_EDGE_HORIZONTAL] && logo_detect_th_adjust[LOGO_DETECT_EDGE_P45]==logo_detect_th_ori[LOGO_DETECT_EDGE_HORIZONTAL] &&
			 logo_detect_th_adjust[LOGO_DETECT_EDGE_VERTICAL]==logo_detect_th_ori[LOGO_DETECT_EDGE_VERTICAL] && logo_detect_th_adjust[LOGO_DETECT_EDGE_N45]==logo_detect_th_ori[LOGO_DETECT_EDGE_N45] )){
			Result.u16_correct_num++;
			rtd_pr_memc_emerg( "************************************************\n");
			rtd_pr_memc_emerg( "[Logo Detect Threshold calib][PASS]\n");
			rtd_pr_memc_emerg( "************************************************\n");
		}else{
			for(u8_i=0; u8_i<LOGO_DETECT_EDGE_NUM; u8_i++){
				logo_detect_th_adjust[u8_i] = (logo_detect_th_ori[u8_i]*logo_detect_th_gain)>>logo_detect_th_shift;
			}
			rtd_pr_memc_emerg( "************************************************\n");
			rtd_pr_memc_emerg( "[%s][Logo Detect Threshold calib][FAIL]\n", __MEMC_SELF_CALIB__);
			rtd_pr_memc_emerg( "[%s]suggest value(%s[0:7]):   0x%x\n", __MEMC_SELF_CALIB__, KME_LOGO0_KME_LOGO0_64_reg_addr, logo_detect_th_adjust[LOGO_DETECT_EDGE_HORIZONTAL]);
			rtd_pr_memc_emerg( "[%s]suggest value(%s[8:15]):  0x%x\n", __MEMC_SELF_CALIB__, KME_LOGO0_KME_LOGO0_64_reg_addr, logo_detect_th_adjust[LOGO_DETECT_EDGE_P45]);
			rtd_pr_memc_emerg( "[%s]suggest value(%s[16:23]): 0x%x\n", __MEMC_SELF_CALIB__, KME_LOGO0_KME_LOGO0_64_reg_addr, logo_detect_th_adjust[LOGO_DETECT_EDGE_VERTICAL]);
			rtd_pr_memc_emerg( "[%s]suggest value(%s[24:31]): 0x%x\n", __MEMC_SELF_CALIB__, KME_LOGO0_KME_LOGO0_64_reg_addr, logo_detect_th_adjust[LOGO_DETECT_EDGE_N45]);
			rtd_pr_memc_emerg( "************************************************\n");
		}
		
		u8_state = 0;
		u1_first_set = true;
		// restore the setting
		Set_PTG(PTG_DEFAULT);
		Close_PTG();
		WriteRegister(SOFTWARE_SOFTWARE_47_reg, 0, 0, Setting_Backup[0]);
		WriteRegister(SOFTWARE_SOFTWARE_47_reg, 3, 3, Setting_Backup[1]);
		WriteRegister(SOFTWARE_SOFTWARE_47_reg, 4, 4, Setting_Backup[2]);
		WriteRegister(SOFTWARE_SOFTWARE_47_reg, 5, 5, Setting_Backup[3]);
		WriteRegister(SOFTWARE_SOFTWARE_47_reg, 6, 6, Setting_Backup[4]);
		WriteRegister(SOFTWARE_SOFTWARE_47_reg, 7, 7, Setting_Backup[5]);
		WriteRegister(SOFTWARE_SOFTWARE_47_reg, 8, 8, Setting_Backup[6]);
		WriteRegister(SOFTWARE_SOFTWARE_47_reg, 9, 9, Setting_Backup[7]);
		Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_INTERNAL, PTG_CALIB_LOGO_DETECT, Result.u16_correct_num, Result.u16_total_num);
	}
	if(debug_log_en){//d820[29]
		rtd_pr_memc_err( "[%s] u8_state,%d	avg,%d gain,%d, th,%d\n", __FUNCTION__, u8_state, u16_avg_blklogo, logo_detect_th_gain, logo_detect_th_adjust[LOGO_DETECT_EDGE_HORIZONTAL]);
	}
	return Result;
}

/**
 * @brief This function check the mv info
 * @this function can't be interrupted
*/
_Self_Check_Result BasicInfoCheck_MV_Info(void)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	_Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
	static unsigned char u8_state = 0;
	static unsigned short u16_index = 0;
	static _CHECK_REAL_STREM_MV_INFO mv_info_table[CHECK_MV_TIME] = {0};
	_CHECK_REAL_STREM_MV_INFO mv_info_median = {0};
	unsigned int debug_log_en = 0;
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);

	if(u8_state==0){
		u8_state = 1;
		u16_index = 0;
		memset(&mv_info_table, 0, sizeof(_CHECK_REAL_STREM_MV_INFO)*CHECK_MV_TIME);
	}
	else if(u8_state==1){
		if(u16_index<CHECK_MV_TIME){
			mv_info_table[u16_index].GMV_1st_vx = s_pContext->_output_read_comreg.s11_me_GMV_1st_vx_rb;
			mv_info_table[u16_index].GMV_1st_vy = s_pContext->_output_read_comreg.s10_me_GMV_1st_vy_rb;
			u16_index++;
		}else{
			u16_index = 0;
			u8_state = 2;
		}
	}
	else if(u8_state==2){
		u8_state = 0;
		mv_info_median = GetMedian_MV_Info(mv_info_table);

		// check gmv vx
		Result.u16_total_num++;
		if(_ABS_DIFF_(mv_info_median.GMV_1st_vx, RealStrem_MV_Info_Golden.GMV_1st_vx)<=MV_TOLERANCE){
			Result.u16_correct_num++;
			rtd_pr_memc_emerg( "[%s][%s][GMV_1st_vx][OK] read>>%d, gloden>>%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, mv_info_median.GMV_1st_vx, RealStrem_MV_Info_Golden.GMV_1st_vx);
		}else{
			if(mv_info_median.GMV_1st_vx==0){
				rtd_pr_memc_emerg( "[%s][%s][GMV_1st_vx][NG] read>>%d, gloden>>%d. gmv_x is 0, please check it.\n", __MEMC_SELF_CALIB__, __FUNCTION__, mv_info_median.GMV_1st_vx, RealStrem_MV_Info_Golden.GMV_1st_vx);
			}else{
				rtd_pr_memc_emerg( "[%s][%s][GMV_1st_vx][NG] suggest_gain>>%d, suggest_shift>>%d, read>>%d, gloden>>%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, (RealStrem_MV_Info_Golden.GMV_1st_vx<<SUGGEST_OFFSET)/mv_info_median.GMV_1st_vx, SUGGEST_OFFSET, mv_info_median.GMV_1st_vx, RealStrem_MV_Info_Golden.GMV_1st_vx);
			}
		}

		// check gmv vy
		Result.u16_total_num++;
		if(_ABS_DIFF_(mv_info_median.GMV_1st_vy, RealStrem_MV_Info_Golden.GMV_1st_vy)<=MV_TOLERANCE){
			Result.u16_correct_num++;
			rtd_pr_memc_emerg( "[%s][%s][GMV_1st_vy][OK] read>>%d, gloden>>%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, mv_info_median.GMV_1st_vy, RealStrem_MV_Info_Golden.GMV_1st_vy);
		}else{
			if(mv_info_median.GMV_1st_vy==0){
				rtd_pr_memc_emerg( "[%s][%s][GMV_1st_vy][NG] read>>%d, gloden>>%d. gmv_y is 0, please check it.\n", __MEMC_SELF_CALIB__, __FUNCTION__, mv_info_median.GMV_1st_vy, RealStrem_MV_Info_Golden.GMV_1st_vy);
			}else{
				rtd_pr_memc_emerg( "[%s][%s][GMV_1st_vy][NG] suggest_gain>>%d, suggest_shift>>%d, read>>%d, gloden>>%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, (RealStrem_MV_Info_Golden.GMV_1st_vy<<SUGGEST_OFFSET)/mv_info_median.GMV_1st_vy, SUGGEST_OFFSET, mv_info_median.GMV_1st_vy, RealStrem_MV_Info_Golden.GMV_1st_vy);
			}
		}

		Result.u8_result = BasicInfoCheck_cal_result(SELF_CHECK_TYPE_REALSTREAM, REALSTREAM_CALIB_MV_INFO, Result.u16_correct_num, Result.u16_total_num);
		WriteRegister(SOFTWARE2_SOFTWARE2_10_reg, REALSTREAM_CALIB_MV_INFO, REALSTREAM_CALIB_MV_INFO, 0);
	}
	if(debug_log_en){
		rtd_pr_memc_emerg( "[%s] state,%d, u16_index,%d\n",  __FUNCTION__, u8_state, u16_index);
	}
	return Result;
}

/**
 * @brief This function calibrate the BadRegionSAD threshold of FB which affected the global fb lvl
 * @BadRegionSAD low:  SOFTWARE_SOFTWARE_18_reg
 * @BadRegionSAD mid:  SOFTWARE_SOFTWARE_19_reg
 * @BadRegionSAD high: SOFTWARE_SOFTWARE_20_reg
 * @BadRegionSAD threshold be used in FBTCCurve_ME
*/
_Self_Check_Result BasicInfoCheck_BadRegion_Calib(void)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	_Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
	short s9_cnt_diff = 0;
	int s32_adjust_steps = 0;
	unsigned int debug_log_en = 0;
	static BOOL u1_first_set = true, u1_check_result = true;
	static unsigned short u16_index = 0;
	static unsigned char u2_calib_id = 0; //u2_calib_id=0: tuning low threshold; u2_calib_id=1: tuning mid threshold; u2_calib_id=2: tuning high threshold;
	static unsigned char u8_state = 0, u8_Max_BadRegion_cnt = 0;
	static unsigned int u32_th_l = 0, u32_th_m = 0, u32_th_h = 0, u32_th_l_adjust = 0, u32_th_m_adjust = 0, u32_th_h_adjust = 0;
	unsigned char u8_BadRegion_cnt = s_pContext->_output_fblevelctrl.u8_BadRegion_cnt;
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 29, 29, &debug_log_en);
	
	if(u1_first_set){
		u2_calib_id = 0;
		u16_index = 0;
		u8_state = 0;
		u8_Max_BadRegion_cnt = 0;
		Result.u16_correct_num = 0;
		Result.u16_total_num = 0;
		Result.u8_result = SELF_TEST_PROCESS;
		u1_first_set = false;
		u1_check_result = true;
	}
	
	if(u1_check_result){
		u16_index++;
		u8_Max_BadRegion_cnt = _MAX_(u8_Max_BadRegion_cnt, u8_BadRegion_cnt);
		if(u16_index > g_FrameRate_Scale * MAX_FB_BADREGION_CNT){
			u1_check_result=false;
			if(u8_Max_BadRegion_cnt<FB_BADREGION_MAX_CNT_GOLDEN[FB_BADREGION_CNT_ALL_THRESH]){
				Result.u16_correct_num++;
				Result.u16_total_num++;
				Result.u8_result = SELF_TEST_PASS;
				u1_first_set = true;
				rtd_pr_memc_emerg( "************************************************\n");
				rtd_pr_memc_emerg( "[FB BadRegion calib][PASS]\n");
				rtd_pr_memc_emerg( "************************************************\n");
				return Result;
			}else{
				u8_state = 0;
			}
		}
	}
	else {
		// read original threshold
		if(u8_state == 0){
			ReadRegister(SOFTWARE_SOFTWARE_18_reg, 0, 31, &u32_th_l);
			ReadRegister(SOFTWARE_SOFTWARE_19_reg, 0, 31, &u32_th_m);
			ReadRegister(SOFTWARE_SOFTWARE_20_reg, 0, 31, &u32_th_h);
			u32_th_l_adjust = u32_th_l;
			u32_th_m_adjust = u32_th_m;
			u32_th_h_adjust = u32_th_h;
			u8_state = 1;
		}
		// set the tuning threshold
		// if tuning the low threshold, set mid&high threshold = 0xffffffff. Therefore bad region cnt only be affected by low threshold
		else if(u8_state == 1) {
			u8_Max_BadRegion_cnt = 0;
			u16_index = 0;
			u8_state = 2;
			if(u2_calib_id==0){
				WriteRegister(SOFTWARE_SOFTWARE_18_reg, 0, 31, u32_th_l_adjust);
				WriteRegister(SOFTWARE_SOFTWARE_19_reg, 0, 31, 0xFFFFFFFF);
				WriteRegister(SOFTWARE_SOFTWARE_20_reg, 0, 31, 0xFFFFFFFF);
			}
			else if(u2_calib_id==1){
				WriteRegister(SOFTWARE_SOFTWARE_18_reg, 0, 31, 0xFFFFFFFF);
				WriteRegister(SOFTWARE_SOFTWARE_19_reg, 0, 31, u32_th_m_adjust);
				WriteRegister(SOFTWARE_SOFTWARE_20_reg, 0, 31, 0xFFFFFFFF);
			}
			else if(u2_calib_id==2){
				WriteRegister(SOFTWARE_SOFTWARE_18_reg, 0, 31, 0xFFFFFFFF);
				WriteRegister(SOFTWARE_SOFTWARE_19_reg, 0, 31, 0xFFFFFFFF);
				WriteRegister(SOFTWARE_SOFTWARE_20_reg, 0, 31, u32_th_h_adjust);
			}
			else if(u2_calib_id==3){
				WriteRegister(SOFTWARE_SOFTWARE_18_reg, 0, 31, u32_th_l_adjust);
				WriteRegister(SOFTWARE_SOFTWARE_19_reg, 0, 31, u32_th_m_adjust);
				WriteRegister(SOFTWARE_SOFTWARE_20_reg, 0, 31, u32_th_h_adjust);
			}	
		}
		// record the max bad region cnt in real pattern
		else if(u8_state == 2) {
			u16_index++;
			u8_Max_BadRegion_cnt = _MAX_(u8_Max_BadRegion_cnt, u8_BadRegion_cnt);
			if(u16_index > g_FrameRate_Scale * MAX_FB_BADREGION_CNT){
				u8_state = 3;
			}
		}
		// check the max bad region cnt and adjust the BadRegionSAD threshold
		else if(u8_state == 3) {
			u8_state = 1;
			// max bad region cnt meet the standard value
			if(_ABS_DIFF_(FB_BADREGION_MAX_CNT_GOLDEN[u2_calib_id], u8_Max_BadRegion_cnt) <= FB_BADREGION_CNT_MAX_DIFF){
				rtd_pr_memc_emerg( "[%s][%s] calib id(%d) finish. read_cnt>>%d, std_cnt>>%d\n", __MEMC_SELF_CALIB__, __FUNCTION__, u2_calib_id, FB_BADREGION_MAX_CNT_GOLDEN[u2_calib_id], u8_Max_BadRegion_cnt);
				u2_calib_id++;
				if(u2_calib_id==1){
					u32_th_m_adjust = 2 * u32_th_l_adjust;
				}else if(u2_calib_id==2){
					u32_th_h_adjust = 5 * u32_th_l_adjust;
				}
				if(u2_calib_id>=FB_BADREGION_CNT_NUM) {
					u2_calib_id = 0;
					u8_state = 4;
					rtd_pr_memc_emerg( "************************************************\n");
					rtd_pr_memc_emerg( "[%s][FB BadRegion calib][FAIL]\n", __MEMC_SELF_CALIB__);
					rtd_pr_memc_emerg( "[%s]suggest value(%s): 0x%x\n", __MEMC_SELF_CALIB__, SOFTWARE_SOFTWARE_18_reg_addr, u32_th_l_adjust);
					rtd_pr_memc_emerg( "[%s]suggest value(%s): 0x%x\n", __MEMC_SELF_CALIB__, SOFTWARE_SOFTWARE_19_reg_addr, u32_th_m_adjust);
					rtd_pr_memc_emerg( "[%s]suggest value(%s): 0x%x\n", __MEMC_SELF_CALIB__, SOFTWARE_SOFTWARE_20_reg_addr, u32_th_h_adjust);
					rtd_pr_memc_emerg( "************************************************\n");
				}
			}
			// max bad region cnt can't meet the standard value. therefore adjust the threshold
			else {
				s9_cnt_diff = (((short)u8_Max_BadRegion_cnt) - FB_BADREGION_MAX_CNT_GOLDEN[u2_calib_id]);
				if(_ABS_(s9_cnt_diff)>=10){
					s32_adjust_steps = 4096 * s9_cnt_diff;
				}else if(_ABS_(s9_cnt_diff)>=5){
					s32_adjust_steps = 2048 * s9_cnt_diff;
				}else if(_ABS_(s9_cnt_diff)>=3){
					s32_adjust_steps = 1024 * s9_cnt_diff;
				}else{
					s32_adjust_steps = 512 * s9_cnt_diff;
				}
				if(u2_calib_id==0){
					u32_th_l_adjust = (s32_adjust_steps<0 && (_ABS_(s32_adjust_steps)>=u32_th_l_adjust)) ? 0 : u32_th_l_adjust+s32_adjust_steps;
				}else if(u2_calib_id==1){
					u32_th_m_adjust = (s32_adjust_steps<0 && (_ABS_(s32_adjust_steps*2)>=u32_th_m_adjust)) ? 0 : u32_th_m_adjust+s32_adjust_steps*2;
				}else if(u2_calib_id==2){
					u32_th_h_adjust = (s32_adjust_steps<0 && (_ABS_(s32_adjust_steps*4)>=u32_th_h_adjust)) ? 0 : u32_th_h_adjust+s32_adjust_steps*4;
				}else if(u2_calib_id==3){
					u32_th_l_adjust = (s32_adjust_steps<0 && (_ABS_(s32_adjust_steps)>=u32_th_l_adjust)) ? 0 : u32_th_l_adjust+s32_adjust_steps;
					u32_th_m_adjust = (s32_adjust_steps<0 && (_ABS_(s32_adjust_steps*2)>=u32_th_m_adjust)) ? 0 : u32_th_m_adjust+s32_adjust_steps*2;
					u32_th_h_adjust = (s32_adjust_steps<0 && (_ABS_(s32_adjust_steps*4)>=u32_th_h_adjust)) ? 0 : u32_th_h_adjust+s32_adjust_steps*4;
				}
				rtd_pr_memc_emerg( "[%s][%s] adjust threshold.  bad_reg_cnt>>[,%d,]  calib id>>[,%d,]  tuning th>>[,0x%x,0x%x,0x%x,]  step>>[,%d,]\n", __MEMC_SELF_CALIB__, __FUNCTION__, 
						u8_Max_BadRegion_cnt, u2_calib_id, u32_th_l_adjust, u32_th_m_adjust, u32_th_h_adjust, s32_adjust_steps);
			}
		}else if(u8_state==4){
			Result.u16_correct_num++;
			Result.u16_total_num++;
			Result.u8_result = SELF_TEST_FAIL;
			u1_first_set = true;
		}
	}
	
	if(debug_log_en){
		rtd_pr_memc_emerg( "[%s][%s] %d,%d, bad_reg_cnt,%d,%d, calib_id,%d, th,0x%x,0x%x,0x%x, adjust_th,0x%x,0x%x,0x%x, step,%d,\n", __MEMC_SELF_CALIB__, __FUNCTION__, 
			u8_state, u16_index, u8_Max_BadRegion_cnt, u8_BadRegion_cnt, 
			u2_calib_id, rtd_inl(SOFTWARE_SOFTWARE_18_reg), rtd_inl(SOFTWARE_SOFTWARE_19_reg), rtd_inl(SOFTWARE_SOFTWARE_20_reg),
			u32_th_l_adjust, u32_th_m_adjust, u32_th_h_adjust, s32_adjust_steps);
	}
	return Result;
}

bool AutoRegression_Get_SC_once(_AUTOREGRESSION_SINGE_RESULT_SC *sc_info, unsigned char u8_stream_len)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	static unsigned char u8_sc_id = 0;
	static bool u1_has_record_data = false, u1_SC_pre = false;
	unsigned int u32_RB_sc = 0;
	unsigned char u8_i = 0;
	bool u1_result = false, u1_record_sc_info = false, u1_SC_on = false;
	
	ReadRegister(KME_ME1_TOP1_ME1_WLC1_00_reg, 0, 5, &u32_RB_sc);
	
	if(g_usb_play){
		// start play stream
		if(g_usb_play_chg==USB_START_PLAY){
			u8_sc_id = 0;
			memset(sc_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_SC));
			u1_has_record_data = false;
		}

		u1_SC_on = (u32_RB_sc==0) ? false : true;

		// sc flag on
		if(u1_SC_on == true && u1_SC_pre == false){
			// record the time when sc flag is on
			if(u8_sc_id==0){
				if(g_stream_play_time >= FIRST_RECORD_TIME) {
					u1_record_sc_info = true;
				}
			}
			else {
				// record data when SC interval is greater than 200ms
				if(g_stream_play_time-sc_info->u32_time[u8_sc_id-1] >= MAX_INTERVAL_TIME){
					u1_record_sc_info = true;
				}
			}
		}
		if(u1_record_sc_info==true && u8_sc_id<REGRESSION_SC_MAX_DATA){
			sc_info->u32_time[u8_sc_id] = g_stream_play_time;
			if(g_regression_log[AUTOREGRESSION_SC]) {
				rtd_pr_memc_emerg("[%s][%s] SC on, sc_cnt,%d, time_sc(ms),%u, sc,%u,%u\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, u8_sc_id, sc_info->u32_time[u8_sc_id], s_pContext->_output_read_comreg.u30_me_aSAD_rb, (rtd_inl(KME_ME1_TOP1_ME1_SCENE1_07_reg)&KME_ME1_TOP1_ME1_SCENE1_07_me1_sc_saddiff_th_mask));
			}
			u8_sc_id++;
		}
	}

	// record data
	if((g_stream_play_time>=u8_stream_len*1000 || g_usb_play_chg==USB_FINISH_PLAY) && u1_has_record_data==false){

		for(u8_i=0;u8_i<REGRESSION_SC_MAX_DATA;u8_i++){
			if(_ABS_DIFF_(g_stream_play_time, sc_info->u32_time[u8_i])<SC_LAST_RECORD_TIME && sc_info->u32_time[u8_i]!=0){
				if(g_regression_log[AUTOREGRESSION_SC]){
					rtd_pr_memc_emerg("[%s][%s][remove] id,%d, time(ms),%u,%u\n", __MEMC_AUTO_REGRESSION__, __FUNCTION__,u8_sc_id, sc_info->u32_time[u8_i], g_stream_play_time);
				}
				sc_info->u32_time[u8_i] = 0;
			}
		}
		for(u8_i=0;u8_i<REGRESSION_SC_MAX_DATA;u8_i++){
			if(sc_info->u32_time[u8_i] == 0){
				sc_info->u32_time[u8_i] = END_SC_VALUE;
				break;
			}
		}
		u1_result = true;
		u1_has_record_data = true;
	}

	u1_SC_pre = u1_SC_on;
	return u1_result;
}

bool AutoRegression_Get_global_FB_once(_AUTOREGRESSION_SINGE_RESULT_GFB *gfb_info_lpf, unsigned char u8_stream_len)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	static _AUTOREGRESSION_SINGE_RESULT_GFB gfb_info_tmp = {0};
	static unsigned char u8_fb_id = 0, data_cnt=0;
	static unsigned int GFB_info_sum = 0;
	static bool u1_has_record_data = false;
	unsigned short u16_lpf_sum = 0;
	unsigned char u8_i = 0, u8_data_len = 0;
	bool u1_result = false;

	if(g_usb_play){
		// start play stream
		if(g_usb_play_chg==USB_START_PLAY){
			u8_fb_id=0;
			data_cnt = 0;
			GFB_info_sum = 0;
			u1_has_record_data = false;
			memset(&gfb_info_tmp, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_GFB));
		}

		if(g_stream_play_time>FIRST_SAVE_DATA_TIME){
			// save data in tmp tank each second
			if(g_stream_play_time>u8_fb_id*1000+1000+FIRST_SAVE_DATA_TIME){
				data_cnt = (data_cnt==0) ? 1 : data_cnt;
				gfb_info_tmp.u14_GFB_lvl_cnt[u8_fb_id] = GFB_info_sum*DATA_FRT/data_cnt;//max:(255*120)*DATA_FRT/120=15300
				u8_fb_id = (u8_fb_id<REGRESSION_FB_MAX_DATA-1) ? u8_fb_id+1 : REGRESSION_FB_MAX_DATA-1;
				GFB_info_sum = 0;
				data_cnt = 0;
			}

			// add up the data from each frame
			data_cnt++;
			GFB_info_sum += s_pContext->_output_wrt_comreg.u8_FB_lvl;
		}
	}

	// record data
	if((g_stream_play_time>=u8_stream_len*1000 || g_usb_play_chg==USB_FINISH_PLAY) && u1_has_record_data==false){

		// get data by low pass filter
		u8_data_len = (u8_fb_id+2<REGRESSION_LPF_WIDTH) ? 0 : u8_fb_id+2-REGRESSION_LPF_WIDTH;

		memset(gfb_info_lpf, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_GFB));
		for(u8_i=0; u8_i<u8_data_len; u8_i++){
			if(u8_i==0){
				u16_lpf_sum = 3*gfb_info_tmp.u14_GFB_lvl_cnt[u8_i] + gfb_info_tmp.u14_GFB_lvl_cnt[u8_i+1];
			}
			else if(u8_i==REGRESSION_FB_MAX_DATA-1){
				u16_lpf_sum = 3*gfb_info_tmp.u14_GFB_lvl_cnt[u8_i] + gfb_info_tmp.u14_GFB_lvl_cnt[u8_i-1];
			}
			else{
				u16_lpf_sum = gfb_info_tmp.u14_GFB_lvl_cnt[u8_i-1] + 2*gfb_info_tmp.u14_GFB_lvl_cnt[u8_i] + gfb_info_tmp.u14_GFB_lvl_cnt[u8_i+1] ;
			}
			gfb_info_lpf->u14_GFB_lvl_cnt[u8_i] = u16_lpf_sum>>2;
		}
		gfb_info_lpf->u14_GFB_lvl_cnt[u8_data_len] = END_GFB_VALUE;

		u1_result = true;
		u1_has_record_data = true;
	}

	return u1_result;
}

bool AutoRegression_Get_local_FB_once(_AUTOREGRESSION_SINGE_RESULT_LFB *lfb_info_lpf, unsigned char u8_stream_len)
{
	static _AUTOREGRESSION_SINGE_RESULT_LFB lfb_info_tmp = {0};
	static unsigned char u8_fb_id = 0, data_cnt=0;
	static unsigned int LFB_info_sum[RGN21]={0};
	static bool u1_has_record_data = false;
	unsigned short u16_index = 0, u8_Rgn21_LFB[RGN21]={0};
	bool u1_result = false;
	unsigned int u32_val = 0, u16_lpf_sum = 0;
	unsigned char u8_i = 0, u8_j = 0, u8_data_len = 0, u8_Rgn32_LFB[32]={0};

	if(g_usb_play){
		// get the 32 region local fallback
		for(u8_i=0; u8_i<8; u8_i++){
			ReadRegister(KMC_BI_bi_fb_00_reg + u8_i*4, 0, 31, &u32_val);
			u8_Rgn32_LFB[u8_i*4] = u32_val & 0xff;
			u8_Rgn32_LFB[u8_i*4+1] = (u32_val>>8) & 0xff;
			u8_Rgn32_LFB[u8_i*4+2] = (u32_val>>16) & 0xff;
			u8_Rgn32_LFB[u8_i*4+3] = (u32_val>>24) & 0xff;
		}
		// get the 21 region local fallback from 32 region local fallback
		for(u8_i=0; u8_i<3; u8_i++){
			for(u8_j=0; u8_j<7; u8_j++){
				u16_index = (u8_i*8) + u8_j;
				u8_Rgn21_LFB[u8_i*7+u8_j] = u8_Rgn32_LFB[u16_index] + u8_Rgn32_LFB[u16_index+1] + u8_Rgn32_LFB[u16_index+8] + u8_Rgn32_LFB[u16_index+9];
				u8_Rgn21_LFB[u8_i*7+u8_j] >>= 2;//max:255
			}
		}
		
		// start play stream
		if(g_usb_play_chg==USB_START_PLAY){
			u8_fb_id = 0;
			data_cnt = 0;
			u1_has_record_data = false;
			memset(&LFB_info_sum, 0, sizeof(unsigned int)*RGN21);
			memset(&lfb_info_tmp, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LFB));
		}

		if(g_stream_play_time>FIRST_SAVE_DATA_TIME){
			// save data in tmp tank each second
			if(g_stream_play_time>u8_fb_id*1000+1000+FIRST_SAVE_DATA_TIME){
				data_cnt = (data_cnt==0) ? 1 : data_cnt;
				for(u8_i=0; u8_i<RGN21; u8_i++){
					lfb_info_tmp.u14_LFB_lvl_cnt[u8_fb_id][u8_i] = LFB_info_sum[u8_i]*DATA_FRT/data_cnt;//max:(255*120)*DATA_FRT/120=15300
				}
				u8_fb_id = (u8_fb_id<REGRESSION_FB_MAX_DATA-1) ? u8_fb_id+1 : REGRESSION_FB_MAX_DATA-1;
				memset(&LFB_info_sum, 0, sizeof(unsigned int)*RGN21);
				data_cnt = 0;
			}

			// add up the data from each frame
			data_cnt++;
			for(u8_i=0; u8_i<RGN21; u8_i++){
				LFB_info_sum[u8_i] += u8_Rgn21_LFB[u8_i];
			}
		}
	}

	// record data
	if((g_stream_play_time>=u8_stream_len*1000 || g_usb_play_chg==USB_FINISH_PLAY) && u1_has_record_data==false){

		// get data by low pass filter
		u8_data_len = (u8_fb_id+2<REGRESSION_LPF_WIDTH) ? 0 : u8_fb_id+2-REGRESSION_LPF_WIDTH;
		memset(lfb_info_lpf, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LFB));
		for(u8_i=0; u8_i<u8_data_len; u8_i++){
			for(u8_j=0; u8_j<RGN21; u8_j++){
				//optimize cal lpf
				if(u8_i==0){
					u16_lpf_sum = 3*lfb_info_tmp.u14_LFB_lvl_cnt[u8_i][u8_j] + lfb_info_tmp.u14_LFB_lvl_cnt[u8_i+1][u8_j] ;
				}
				else if(u8_i==REGRESSION_FB_MAX_DATA-1){
					u16_lpf_sum = 3*lfb_info_tmp.u14_LFB_lvl_cnt[u8_i][u8_j] + lfb_info_tmp.u14_LFB_lvl_cnt[u8_i-1][u8_j] ;
				}
				else{
					u16_lpf_sum = lfb_info_tmp.u14_LFB_lvl_cnt[u8_i-1][u8_j] + 2*lfb_info_tmp.u14_LFB_lvl_cnt[u8_i][u8_j] + lfb_info_tmp.u14_LFB_lvl_cnt[u8_i+1][u8_j];
				}
				lfb_info_lpf->u14_LFB_lvl_cnt[u8_i][u8_j] = u16_lpf_sum >> 2;
			}
		}
		lfb_info_lpf->u14_LFB_lvl_cnt[u8_data_len][END_RGN21_INDEX] = END_LFB_VALUE;
		u1_result = true;
		u1_has_record_data = true;
	}

	return u1_result;
}

bool AutoRegression_Get_logo_once(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL *Logo_info_lpf, unsigned char u8_stream_len)
{
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	static _AUTOREGRESSION_SINGE_RESULT_LOGO_ALL Logo_info_tmp;
	static unsigned char u8_logo_id = 0, data_cnt=0;
	static unsigned int BlkLogo_info_sum[RGN21]={0};
	static bool u1_has_record_data = false;
	unsigned short u16_index = 0, u16_Rgn21_BlkLogo[RGN21]={0};
	#if IC_SUPPORT_PIXEL_LOGO
	static unsigned int PixLogo_info_sum[RGN21]={0};
	unsigned short u16_Rgn21_PixLogo[RGN21]={0};
	#endif
	bool u1_result = false;
	unsigned int u18_lpf_sum = 0;
	unsigned char u8_i = 0, u8_j = 0, u8_data_len = 0;

	if(g_usb_play){
		// get the 21 region logo from 32 region local fallback
		for(u8_i=0; u8_i<3; u8_i++){
			for(u8_j=0; u8_j<7; u8_j++){
				u16_index = (u8_i*8) + u8_j;
#if IC_K8LP
				u16_Rgn21_BlkLogo[u8_i*7+u8_j] = (s_pContext->_output_read_comreg.u10_blklogo_rgcnt[u16_index] + s_pContext->_output_read_comreg.u10_blklogo_rgcnt[u16_index+1] + 
												  s_pContext->_output_read_comreg.u10_blklogo_rgcnt[u16_index+8] + s_pContext->_output_read_comreg.u10_blklogo_rgcnt[u16_index+9])>>2;//max:1023(0x3ff)
				#if IC_SUPPORT_PIXEL_LOGO
				u16_Rgn21_PixLogo[u8_i*7+u8_j] = (s_pContext->_output_read_comreg.u14_pxllogo_rgcnt[u16_index] + s_pContext->_output_read_comreg.u14_pxllogo_rgcnt[u16_index+1] + 
												  s_pContext->_output_read_comreg.u14_pxllogo_rgcnt[u16_index+8] + s_pContext->_output_read_comreg.u14_pxllogo_rgcnt[u16_index+9])>>6;//max:1023(0x3ff)
				#endif
#else
				u16_Rgn21_BlkLogo[u8_i*7+u8_j] = (s_pContext->_output_read_comreg.u10_dh_blklogo_idx0_cnt[u16_index] + s_pContext->_output_read_comreg.u10_dh_blklogo_idx0_cnt[u16_index+1] + 
												  s_pContext->_output_read_comreg.u10_dh_blklogo_idx0_cnt[u16_index+8] + s_pContext->_output_read_comreg.u10_dh_blklogo_idx0_cnt[u16_index+9])>>2;//max:1023(0x3ff)
				#if IC_SUPPORT_PIXEL_LOGO
				u16_Rgn21_PixLogo[u8_i*7+u8_j] = (s_pContext->_output_read_comreg.u14_pxllogo_rgcnt[u16_index] + s_pContext->_output_read_comreg.u14_pxllogo_rgcnt[u16_index+1] + 
												  s_pContext->_output_read_comreg.u14_pxllogo_rgcnt[u16_index+8] + s_pContext->_output_read_comreg.u14_pxllogo_rgcnt[u16_index+9])>>6;//max:1023(0x3ff)
				#endif
#endif
			}
		}

		// start play stream
		if(g_usb_play_chg==USB_START_PLAY){
			u8_logo_id = 0;
			data_cnt = 0;
			u1_has_record_data = false;
			memset(&Logo_info_tmp, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL));
			memset(&BlkLogo_info_sum, 0, sizeof(unsigned int)*RGN21);
			#if IC_SUPPORT_PIXEL_LOGO
			memset(&PixLogo_info_sum, 0, sizeof(unsigned int)*RGN21);
			#endif
		}

		if(g_stream_play_time>FIRST_SAVE_DATA_TIME){
			// save data in tmp tank each second
			if(g_stream_play_time>u8_logo_id*1000+1000+FIRST_SAVE_DATA_TIME){
				data_cnt = (data_cnt==0) ? 1 : data_cnt;
				for(u8_i=0; u8_i<RGN21; u8_i++){
					#if IC_SUPPORT_PIXEL_LOGO
					Logo_info_tmp.PLOGO.u16_detect_logo_cnt[u8_logo_id][u8_i] = PixLogo_info_sum[u8_i]*DATA_FRT/data_cnt;//max:(1023*120)*DATA_FRT/120=61380
					#endif
					Logo_info_tmp.BLOGO.u16_detect_logo_cnt[u8_logo_id][u8_i] = BlkLogo_info_sum[u8_i]*DATA_FRT/data_cnt;//max:(1023*120)*DATA_FRT/120=61380
				}
				u8_logo_id = (u8_logo_id<REGRESSION_LOGO_MAX_DATA-1) ? u8_logo_id+1 : REGRESSION_LOGO_MAX_DATA-1;
				#if IC_SUPPORT_PIXEL_LOGO
				memset(&PixLogo_info_sum, 0, sizeof(unsigned int)*RGN21);
				#endif
				memset(&BlkLogo_info_sum, 0, sizeof(unsigned int)*RGN21);
				data_cnt = 0;
			}

			// add up the data from each frame
			data_cnt++;
			for(u8_i=0; u8_i<RGN21; u8_i++){
				#if IC_SUPPORT_PIXEL_LOGO
				PixLogo_info_sum[u8_i] += u16_Rgn21_PixLogo[u8_i];
				#endif
				BlkLogo_info_sum[u8_i] += u16_Rgn21_BlkLogo[u8_i];
			}
		}
	}

	// record data
	if((g_stream_play_time>=u8_stream_len*1000 || g_usb_play_chg==USB_FINISH_PLAY)&& u1_has_record_data==false){

		// get data by low pass filter
		u8_data_len = (u8_logo_id+2<REGRESSION_LPF_WIDTH) ? 0 : u8_logo_id+2-REGRESSION_LPF_WIDTH;
	
		memset(Logo_info_lpf, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL));
		for(u8_i=0; u8_i<u8_data_len; u8_i++){
			for(u8_j=0; u8_j<RGN21; u8_j++){

				if(u8_i==0){
					u18_lpf_sum = 3*Logo_info_tmp.BLOGO.u16_detect_logo_cnt[u8_i][u8_j] + Logo_info_tmp.BLOGO.u16_detect_logo_cnt[u8_i+1][u8_j] ;
				}
				else if(u8_i==REGRESSION_LOGO_MAX_DATA-1){
					u18_lpf_sum = 3*Logo_info_tmp.BLOGO.u16_detect_logo_cnt[u8_i][u8_j] + Logo_info_tmp.BLOGO.u16_detect_logo_cnt[u8_i-1][u8_j] ;
				}
				else{
					u18_lpf_sum = Logo_info_tmp.BLOGO.u16_detect_logo_cnt[u8_i-1][u8_j] + 2*Logo_info_tmp.BLOGO.u16_detect_logo_cnt[u8_i][u8_j] + Logo_info_tmp.BLOGO.u16_detect_logo_cnt[u8_i+1][u8_j];
				}
				Logo_info_lpf->BLOGO.u16_detect_logo_cnt[u8_i][u8_j] = u18_lpf_sum>>2;

				#if IC_SUPPORT_PIXEL_LOGO
				if(u8_i==0){
					u18_lpf_sum = 3*Logo_info_tmp.PLOGO.u16_detect_logo_cnt[u8_i][u8_j] + Logo_info_tmp.PLOGO.u16_detect_logo_cnt[u8_i+1][u8_j] ;
				}
				else if(u8_i==REGRESSION_LOGO_MAX_DATA-1){
					u18_lpf_sum = 3*Logo_info_tmp.PLOGO.u16_detect_logo_cnt[u8_i][u8_j] + Logo_info_tmp.PLOGO.u16_detect_logo_cnt[u8_i-1][u8_j] ;
				}
				else{
					u18_lpf_sum = Logo_info_tmp.PLOGO.u16_detect_logo_cnt[u8_i-1][u8_j] + 2*Logo_info_tmp.PLOGO.u16_detect_logo_cnt[u8_i][u8_j] + Logo_info_tmp.PLOGO.u16_detect_logo_cnt[u8_i+1][u8_j];
				}
				Logo_info_lpf->PLOGO.u16_detect_logo_cnt[u8_i][u8_j] = u18_lpf_sum>>2;
				#endif
			}
		}
		Logo_info_lpf->BLOGO.u16_detect_logo_cnt[u8_data_len][END_RGN21_INDEX] = END_LOGO_VALUE;
		#if IC_SUPPORT_PIXEL_LOGO
		Logo_info_lpf->PLOGO.u16_detect_logo_cnt[u8_data_len][END_RGN21_INDEX] = END_LOGO_VALUE;
		#endif

		u1_result = true;
		u1_has_record_data = true;
	}

	return u1_result;
}

_Self_Check_Result AutoRegression_Get_Stable_SC(_AUTOREGRESSION_SINGE_RESULT_SC *sc_info, unsigned char u8_stream_len, bool u1_reset)
{
	static _Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
#ifdef BUILD_QUICK_SHOW
	return Result;
#endif
	static _AUTOREGRESSION_SINGE_RESULT_SC sc_raw_info = {{0}};
	static _AUTOREGRESSION_SINGE_RESULT_SC golden_info = {{0}};
	static _AUTOREGRESSION_SINGE_RESULT_SC first_info = {{0}};
	static _AUTOREGRESSION_SINGE_RESULT_SC second_info = {{0}};
	static unsigned char  u8_state=0, NG_times = 0;
	unsigned char u8_i = 0, u8_data_len = 0;
	bool u1_get_stable_data = false;

	if(g_regression_reset || u1_reset){
		u8_state=0;
	}

	// initial
	if(u8_state==0) {
		NG_times = 0;
		memset(&sc_raw_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_SC));
		memset(&golden_info, 100, sizeof(_AUTOREGRESSION_SINGE_RESULT_SC));
		memset(&first_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_SC));
		memset(&second_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_SC));
		Init_Calib_Result(&Result);
		u8_state = 1;
	}

	// play the stream and record the sc information
	if(u8_state==1) {
		Result.u8_result = SELF_TEST_PROCESS;

		if(AutoRegression_Get_SC_once(&sc_raw_info, u8_stream_len)){

			for(u8_i=0; u8_i<REGRESSION_SC_MAX_DATA; u8_i++){
				if(sc_raw_info.u32_time[u8_i] == END_SC_VALUE){
					u8_data_len = u8_i;
					break;
				}
			}

			// check whether system get the stable data
			Result.u16_total_num++;
			u1_get_stable_data = is_Film_info_Match_SC(&golden_info, &sc_raw_info, u8_data_len) ? true : false;
			Result.u16_correct_num = (u1_get_stable_data) ? Result.u16_correct_num+1 : 0;

			if(g_regression_log[AUTOREGRESSION_SC]){
				AutoRegression_Show_SC(&sc_raw_info);
			}

			//save the data
			if(u1_get_stable_data){
				if(Result.u16_correct_num==1){
					memcpy(&first_info, &sc_raw_info, sizeof(_AUTOREGRESSION_SINGE_RESULT_SC));
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] PASS !!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
				else if(Result.u16_correct_num==2){
					memcpy(&second_info, &sc_raw_info, sizeof(_AUTOREGRESSION_SINGE_RESULT_SC));
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] PASS !!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
				else if(Result.u16_correct_num==3){
					// init avg data
					memset(sc_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_SC));
					// save the avg logo data
					for(u8_i=0;u8_i<u8_data_len;u8_i++){
						sc_info->u32_time[u8_i]=(sc_raw_info.u32_time[u8_i]+first_info.u32_time[u8_i]+second_info.u32_time[u8_i])/3;
					}
					sc_info->u32_time[u8_data_len] = END_SC_VALUE;

					AutoRegression_Show_SC(sc_info);

					u8_state = 0;
					Result.u8_result = SELF_TEST_PASS;
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number[%d] Get golden success!!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}	
			}
			else {
				if(NG_times>=5){
					u8_state = 0;
					Result.u8_result = SELF_TEST_FAIL;
					rtd_pr_memc_emerg("[%s] This pattern is not stable !!! \n", __FUNCTION__);
				}
				else{
					u8_state = 1;
					NG_times++;
					memcpy(&golden_info, &sc_raw_info, sizeof(_AUTOREGRESSION_SINGE_RESULT_SC));

					// won't print info at first time
					if(NG_times==1 && Result.u16_total_num==1){
						rtd_pr_memc_emerg("[%s][%s] First time to get the data !!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
					}else{
						rtd_pr_memc_emerg("[%s][%s] Current run time[%d] NG times[%d] !!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, NG_times);
					}
				}
			}
			
		}
	}

	if(g_regression_log[AUTOREGRESSION_SC]){
		rtd_pr_memc_crit("[%s] state,%d, continue_correct_time,%d, run_time,%d, info,%d\n", __FUNCTION__, 
			u8_state, Result.u16_correct_num , Result.u16_total_num, sc_raw_info.u32_time[0]);
	}	
	
	return Result;
}

_Self_Check_Result AutoRegression_Get_Stable_global_FB(_AUTOREGRESSION_SINGE_RESULT_GFB *gfb_info, unsigned char u8_stream_len, bool u1_reset)
{
	static _Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
#ifdef BUILD_QUICK_SHOW
	return Result;
#endif
	const _PQLCONTEXT *s_pContext = GetPQLContext();
	static _AUTOREGRESSION_SINGE_RESULT_GFB gfb_info_lpf;
	static _AUTOREGRESSION_SINGE_RESULT_GFB gfb_golden_info;
	static _AUTOREGRESSION_SINGE_RESULT_GFB first_info;
	static _AUTOREGRESSION_SINGE_RESULT_GFB second_info;
	static unsigned char u8_state = 0, NG_times = 0;
	bool u1_get_stable_data = false;
	unsigned char u8_i = 0;

	if(g_regression_reset || u1_reset){
		u8_state=0;
	}

	// initial
	if(u8_state==0) {
		AutoRegression_SetupEnvironment();
		NG_times = 0;
		memset(&gfb_golden_info, 100, sizeof(_AUTOREGRESSION_SINGE_RESULT_GFB));
		memset(&first_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_GFB));
		memset(&second_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_GFB));
		Init_Calib_Result(&Result);
		u8_state = 1;
	}
	// play the stream and record the global fb information
	if(u8_state==1) {
		Result.u8_result = SELF_TEST_PROCESS;

		if(AutoRegression_Get_global_FB_once(&gfb_info_lpf, u8_stream_len)){
			// check whether system get the stable data
			Result.u16_total_num++;
			u1_get_stable_data = is_Film_info_Match_GFB(&gfb_golden_info, &gfb_info_lpf, u8_stream_len);
			Result.u16_correct_num = (u1_get_stable_data) ? Result.u16_correct_num+1 : 0;

			if(g_regression_log[AUTOREGRESSION_GFB]){
				AutoRegression_Show_GFB(&gfb_info_lpf);
			}

			//save the data
			if(u1_get_stable_data){
				if(Result.u16_correct_num==1){
					memcpy(&first_info, &gfb_info_lpf, sizeof(_AUTOREGRESSION_SINGE_RESULT_GFB));
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] PASS !!! \n",__MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
				else if(Result.u16_correct_num==2){
					memcpy(&second_info, &gfb_info_lpf, sizeof(_AUTOREGRESSION_SINGE_RESULT_GFB));
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] PASS !!! \n",__MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
				else if(Result.u16_correct_num==3){
					// init avg data
					memset(gfb_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_GFB));
					// save the avg logo data
					for(u8_i=0; u8_i<u8_stream_len; u8_i++){
						gfb_info->u14_GFB_lvl_cnt[u8_i]=(first_info.u14_GFB_lvl_cnt[u8_i]+second_info.u14_GFB_lvl_cnt[u8_i]+gfb_info_lpf.u14_GFB_lvl_cnt[u8_i])/3;
					}

					AutoRegression_Show_GFB(gfb_info);

					u8_state = 0;
					Result.u8_result = SELF_TEST_PASS;
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] Get golden success !!! \n",__MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
			}
			else { //u1_Get_Regression_Result==false
				if(NG_times>=5) {
					u8_state = 0;
					Result.u8_result = SELF_TEST_FAIL;
					rtd_pr_memc_emerg( "[%s] This pattern is not stable !!! \n", __FUNCTION__);
				}
				else{
					u8_state=1;
					NG_times++;
					memcpy(&gfb_golden_info,&gfb_info_lpf,sizeof(_AUTOREGRESSION_SINGE_RESULT_GFB));

					// won't print info at first time
					if(NG_times==1 && Result.u16_total_num==1){
						rtd_pr_memc_emerg("[%s][%s] First time to get the data !!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
					}else{
						rtd_pr_memc_emerg("[%s][%s] Current run time[%d] NG times[%d] !!! \n",__MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, NG_times);
					}
				}
			}
		}
	}

	if(g_regression_log[AUTOREGRESSION_GFB]){
		rtd_pr_memc_crit("[%s] state,%d, continue_correct_time,%d, run_time,%d, info,%d,%d\n", __FUNCTION__, 
			u8_state, Result.u16_correct_num , Result.u16_total_num, gfb_info_lpf.u14_GFB_lvl_cnt[0], s_pContext->_output_wrt_comreg.u8_FB_lvl);
	}	

	return Result;
}

_Self_Check_Result AutoRegression_Get_Stable_local_FB(_AUTOREGRESSION_SINGE_RESULT_LFB *lfb_info, unsigned char u8_stream_len, bool u1_reset)
{
	static _Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
#ifdef BUILD_QUICK_SHOW
	return Result;
#endif
	static _AUTOREGRESSION_SINGE_RESULT_LFB lfb_info_lpf;
	static _AUTOREGRESSION_SINGE_RESULT_LFB lfb_golden_info;
	static _AUTOREGRESSION_SINGE_RESULT_LFB first_info; 
	static _AUTOREGRESSION_SINGE_RESULT_LFB second_info;
	static unsigned char u8_state = 0, NG_times = 0;
	bool u1_get_stable_data = false;
	unsigned char u8_i = 0, u8_j = 0;

	if(g_regression_reset || u1_reset){
		u8_state=0;
	}

	// initial
	if(u8_state==0) {
		NG_times = 0;
		memset(&lfb_golden_info, 100, sizeof(_AUTOREGRESSION_SINGE_RESULT_LFB));
		memset(&first_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LFB));
		memset(&second_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LFB));
		Init_Calib_Result(&Result);
		u8_state = 1;
	}
	// play the stream and record the local fb information
	if(u8_state==1) {
		Result.u8_result = SELF_TEST_PROCESS;

		if(AutoRegression_Get_local_FB_once(&lfb_info_lpf, u8_stream_len)){

			// check whether system get the stable data
			Result.u16_total_num++;
			u1_get_stable_data = is_Film_info_Match_LFB(&lfb_golden_info, &lfb_info_lpf, u8_stream_len);
			Result.u16_correct_num = (u1_get_stable_data) ? Result.u16_correct_num+1 : 0;

			if(g_regression_log[AUTOREGRESSION_LFB]){
				AutoRegression_Show_LFB(&lfb_info_lpf);
			}

			//save the data
			if(u1_get_stable_data){
				if(Result.u16_correct_num==1){
					memcpy(&first_info,&lfb_info_lpf,sizeof(_AUTOREGRESSION_SINGE_RESULT_LFB));
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] PASS !!! \n",__MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
				else if(Result.u16_correct_num==2){
					memcpy(&second_info,&lfb_info_lpf,sizeof(_AUTOREGRESSION_SINGE_RESULT_LFB));
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] PASS !!! \n",__MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
				else if(Result.u16_correct_num==3){
					// init avg data
					memset(lfb_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LFB));
					// save the avg logo data
					for(u8_i=0; u8_i<u8_stream_len; u8_i++){
						for(u8_j=0;u8_j<RGN21;u8_j++){
							lfb_info->u14_LFB_lvl_cnt[u8_i][u8_j]=(first_info.u14_LFB_lvl_cnt[u8_i][u8_j]+second_info.u14_LFB_lvl_cnt[u8_i][u8_j]+lfb_info_lpf.u14_LFB_lvl_cnt[u8_i][u8_j])/3;
						}
					}

					AutoRegression_Show_LFB(lfb_info);

					u8_state = 0;
					Result.u8_result = SELF_TEST_PASS;
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] Get golden success !!! \n",__MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num,Result.u16_correct_num);
				}
			}
			else { 
				if(NG_times>=5) {
					u8_state = 0;
					Result.u8_result = SELF_TEST_FAIL;
					rtd_pr_memc_emerg("[%s] This pattern is not stable !!! \n", __FUNCTION__);
				}
				else{
					u8_state=1;
					NG_times++;
					memcpy(&lfb_golden_info, &lfb_info_lpf, sizeof(_AUTOREGRESSION_SINGE_RESULT_LFB));

					// won't print info at first time
					if(NG_times==1 && Result.u16_total_num==1){
						rtd_pr_memc_emerg("[%s][%s] First time to get the data !!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
					}else{
						rtd_pr_memc_emerg("[%s][%s] Current run time[%d] NG times[%d] !!! \n",__MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, NG_times);
					}
				}
			}
		}
	}

	if(g_regression_log[AUTOREGRESSION_LFB]){
		rtd_pr_memc_crit("[%s] state,%d, continue_correct_time,%d, run_time,%d, info,%d\n", __FUNCTION__, 
			u8_state, Result.u16_correct_num , Result.u16_total_num, lfb_info_lpf.u14_LFB_lvl_cnt[0][0]);
	}	
	
	return Result;
}

_Self_Check_Result AutoRegression_Get_Stable_logo(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL *Logo_info, unsigned char u8_stream_len, bool u1_reset)
{
	static _Self_Check_Result Result = {SELF_TEST_PROCESS, 0, 0};
#ifdef BUILD_QUICK_SHOW
	return Result;
#endif
	static _AUTOREGRESSION_SINGE_RESULT_LOGO_ALL Logo_info_lpf;
	static _AUTOREGRESSION_SINGE_RESULT_LOGO_ALL Logo_first_info;
	static _AUTOREGRESSION_SINGE_RESULT_LOGO_ALL Logo_second_info;
	static _AUTOREGRESSION_SINGE_RESULT_LOGO_ALL Logo_golden_info;
	static unsigned char u8_state = 0, NG_times = 0;
	bool u1_get_stable_data = false;
	unsigned char u8_i = 0, u8_j = 0;

	if(g_regression_reset || u1_reset){
		u8_state=0;
	}

	// initial
	if(u8_state==0) {
		NG_times = 0;
		memset(&Logo_golden_info, 100, sizeof(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL));
		memset(&Logo_first_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL));
		memset(&Logo_second_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL));
		Init_Calib_Result(&Result);
		u8_state = 1;
	}
	// play the stream and record the logo information
	if(u8_state==1) {
		Result.u8_result = SELF_TEST_PROCESS;

		if(AutoRegression_Get_logo_once(&Logo_info_lpf, u8_stream_len)){

			// check whether system get the stable data
			Result.u16_total_num++;
			u1_get_stable_data = is_Film_info_Match_Logo(&Logo_golden_info, &Logo_info_lpf, u8_stream_len);
			Result.u16_correct_num = (u1_get_stable_data) ? Result.u16_correct_num+1 : 0;

			if(g_regression_log[AUTOREGRESSION_LOGO]){
				AutoRegression_Show_LOGO(&Logo_info_lpf);
			}

			//save the data
			if(u1_get_stable_data){
				if(Result.u16_correct_num==1){
					memcpy(&Logo_first_info, &Logo_info_lpf, sizeof(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL));
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] PASS!!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
				else if(Result.u16_correct_num==2){
					memcpy(&Logo_second_info, &Logo_info_lpf, sizeof(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL));
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] PASS!!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
				else if(Result.u16_correct_num==3){
					// init avg data
					memset(Logo_info, 0, sizeof(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL));
					// save the avg logo data
					for(u8_i=0; u8_i<u8_stream_len; u8_i++){
						for(u8_j=0;u8_j<RGN21;u8_j++){
							#if IC_SUPPORT_PIXEL_LOGO
							Logo_info->PLOGO.u16_detect_logo_cnt[u8_i][u8_j]=(Logo_first_info.PLOGO.u16_detect_logo_cnt[u8_i][u8_j]+Logo_second_info.PLOGO.u16_detect_logo_cnt[u8_i][u8_j]+Logo_info_lpf.PLOGO.u16_detect_logo_cnt[u8_i][u8_j])/3;
							#endif
							Logo_info->BLOGO.u16_detect_logo_cnt[u8_i][u8_j]=(Logo_first_info.BLOGO.u16_detect_logo_cnt[u8_i][u8_j]+Logo_second_info.BLOGO.u16_detect_logo_cnt[u8_i][u8_j]+Logo_info_lpf.BLOGO.u16_detect_logo_cnt[u8_i][u8_j])/3;
						}
					}

					AutoRegression_Show_LOGO(Logo_info);

					u8_state = 0;
					Result.u8_result = SELF_TEST_PASS;
					rtd_pr_memc_emerg("[%s][%s] Current run time[%d] Continue correct number [%d] Get golden success!!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, Result.u16_correct_num);
				}
			}
			else {
				if(NG_times>=5){
					u8_state=0;
					Result.u8_result = SELF_TEST_FAIL;
					rtd_pr_memc_emerg( "[%s] This pattern is not stable !!! \n", __FUNCTION__);
				}
				else{
					u8_state=1;
					NG_times++;
					memcpy(&Logo_golden_info, &Logo_info_lpf, sizeof(_AUTOREGRESSION_SINGE_RESULT_LOGO_ALL));

					// won't print info at first time
					if(NG_times==1 && Result.u16_total_num==1){
						rtd_pr_memc_emerg("[%s][%s] First time to get the data !!! \n", __MEMC_AUTO_REGRESSION__, __FUNCTION__);
					}else{
						rtd_pr_memc_emerg("[%s][%s] Current run time[%d] NG times[%d] !!! \n",__MEMC_AUTO_REGRESSION__, __FUNCTION__, Result.u16_total_num, NG_times);
					}
				}	
			}
		}
	}

	if(g_regression_log[AUTOREGRESSION_LOGO]){
		rtd_pr_memc_crit("[%s] state,%d, continue_correct_time,%d, run_time,%d,\n", __FUNCTION__, 
			u8_state, Result.u16_correct_num , Result.u16_total_num);
	}
	return Result;
}

unsigned char AutoRegression_Com_Get_StreamLen(void)
{
	unsigned int Reg_val = 0;
	unsigned char u8_stream_len = 0;

	ReadRegister(COMMUNICATE_REG, COMMUNICATE_STREAMLEN_START, COMMUNICATE_STREAMLEN_END, &Reg_val);
	if(Reg_val>MAX_STREAM_LEN){
		u8_stream_len = MAX_STREAM_LEN;
	}else if(Reg_val==0){
		u8_stream_len = MIN_STREAM_LEN;
	}else{
		u8_stream_len = Reg_val;
	}

	return u8_stream_len;
}

#if SAVE_GOLDEN_FILE
#ifndef BUILD_QUICK_SHOW
void AutoRegressoin_SaveGolden_StreamID(struct file* filp, unsigned char u8_stream_id, unsigned long long outfileOffset)
{
	char result_string[16] = {0}, data_string[4] = {0};

	memset(&result_string, 0, sizeof(result_string));
	memset(&data_string, 0, sizeof(data_string));
	
	strcat(result_string, "//stream: ");
	UnsignedValue_To_Char(u8_stream_id , data_string);
	strcat(result_string, data_string);
	strcat(result_string, "\n");
	memc_file_write(filp, outfileOffset, (unsigned char*) result_string, strlen(result_string));
}

void AutoRegressoin_SaveGolden_SC(struct file* filp, _AUTOREGRESSION_SINGE_RESULT_SC* Data, unsigned long long outfileOffset)
{
	unsigned char u8_line = 0;
	char data_string[255] = "";

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\t//SC\n\t{");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
	
	// write SC data
	for(u8_line=0; u8_line<FILE_DATA_HEIGHT_SC; u8_line++){
		memset(&data_string, 0, sizeof(data_string));
		Convert_SC_Regression_To_Char(Data, data_string, u8_line);
		memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
	}

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\n\t},\n");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
}

void AutoRegressoin_SaveGolden_GFB(struct file* filp, _AUTOREGRESSION_SINGE_RESULT_GFB* Data, unsigned long long outfileOffset)
{
	unsigned char u8_line = 0;
	char data_string[255] = "";

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\t//GFB\n\t{");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));

	// write GFB data
	for(u8_line=0; u8_line<FILE_DATA_HEIGHT_GFB; u8_line++){
		memset(&data_string, 0, sizeof(data_string));
		Convert_GFB_Regression_To_Char(Data, data_string, u8_line);
		memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
	}

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\n\t},\n");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
	//rtd_pr_memc_notice("[%s] Regression gold data finish gfb\n", __MEMC_AUTO_REGRESSION__);
}

void AutoRegressoin_SaveGolden_LFB(struct file* filp, _AUTOREGRESSION_SINGE_RESULT_LFB* Data, unsigned long long outfileOffset)
{
	unsigned char u8_line = 0;
	char data_string[255] = "";

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\t//LFB\n\t{{");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));

	// write LFB data
	for(u8_line=0; u8_line<FILE_DATA_HEIGHT_LFB; u8_line++){
		memset(&data_string, 0, sizeof(data_string));
		Convert_LFB_Regression_To_Char(Data, data_string, u8_line);
		memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
		if(Data->u14_LFB_lvl_cnt[u8_line][END_RGN21_INDEX]==END_LFB_VALUE){
			break;
		}
	}

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\n\t},},\n");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
	//rtd_pr_memc_notice("[%s] Regression gold data finish lfb\n", __MEMC_AUTO_REGRESSION__);
}

void AutoRegressoin_SaveGolden_LOGO(struct file* filp, _AUTOREGRESSION_SINGE_RESULT_LOGO_ALL* Data, unsigned long long outfileOffset)
{
	unsigned char u8_line = 0;
	char data_string[255] = "";
	
#if IC_SUPPORT_PIXEL_LOGO
	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\t//Pixel LOGO\n\t{{{");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));

	// write pixel LOGO data
	for(u8_line=0; u8_line<FILE_DATA_HEIGHT_LOGO; u8_line++){
		memset(&data_string, 0, sizeof(data_string));
		Convert_Logo_Regression_To_Char(&Data->PLOGO , data_string, u8_line);
		memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
		if(Data->PLOGO.u16_detect_logo_cnt[u8_line][END_RGN21_INDEX]==END_LOGO_VALUE){
			break;
		}
	}

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\n\t},},\n");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\t//Block LOGO\n\t{{");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));

	// write block LOGO data
	for(u8_line=0; u8_line<FILE_DATA_HEIGHT_LOGO; u8_line++){
		memset(&data_string, 0, sizeof(data_string));
		Convert_Logo_Regression_To_Char(&Data->BLOGO , data_string, u8_line);
		memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
		if(Data->BLOGO.u16_detect_logo_cnt[u8_line][END_RGN21_INDEX]==END_LOGO_VALUE){
			break;
		}
	}

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\n\t},},},\n");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
#else

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\t//Block LOGO\n\t{{{");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));

	// write block LOGO data
	for(u8_line=0; u8_line<FILE_DATA_HEIGHT_LOGO; u8_line++){
		memset(&data_string, 0, sizeof(data_string));
		Convert_Logo_Regression_To_Char(&Data->BLOGO , data_string, u8_line);
		memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
		if(Data->BLOGO.u16_detect_logo_cnt[u8_line][END_RGN21_INDEX]==END_LOGO_VALUE){
			break;
		}
	}

	memset(&data_string, 0, sizeof(data_string));
	strcat(data_string, "\n\t},},},\n");
	memc_file_write(filp, outfileOffset, (unsigned char*) data_string, strlen(data_string));
#endif //IC_SUPPORT_PIXEL_LOGO
}
#endif

bool AutoRegressoin_SaveGoldenFile(char* FileName, _AUTOREGRESSION_SINGLE_RESULT *Result, unsigned char u8_stream_id)
{
#ifdef BUILD_QUICK_SHOW
	return false;
#else
	struct file* filp = NULL;
	unsigned long outfileOffset = 0;

	filp = memc_file_open(FileName, O_RDWR | O_CREAT | O_LARGEFILE | O_APPEND, 0777);//| O_LARGEFILE

	if(filp!=NULL){

		// write stream id
		AutoRegressoin_SaveGolden_StreamID(filp, u8_stream_id, outfileOffset);

		// regression data
		memc_file_write(filp, outfileOffset, "{\n", sizeof(char)*2);
		AutoRegressoin_SaveGolden_SC(filp, &Result->SC, outfileOffset);
		AutoRegressoin_SaveGolden_GFB(filp, &Result->GFB, outfileOffset);
		AutoRegressoin_SaveGolden_LFB(filp, &Result->LFB, outfileOffset);
		AutoRegressoin_SaveGolden_LOGO(filp, &Result->LOGO, outfileOffset);
		memc_file_write(filp, outfileOffset, "},\n\n", sizeof(char)*4);

		memc_file_sync(filp);
		memc_file_close(filp);
		rtd_pr_memc_notice("[%s] Regression gold data has saved in %s\n", __MEMC_AUTO_REGRESSION__, FileName);

		return true;
	}
	return false;
#endif
}
#endif
#if SAVE_RESULT_FILE
bool AutoRegressoin_SaveResultFile(_CHECK_RESULT_AUTOREGRESSION *Regression_Result)
{
#ifdef BUILD_QUICK_SHOW
	return false;
#else
	struct file* filp = NULL;
	unsigned long outfileOffset = 0;
	unsigned char u8_i = 0, u8_result_type;
	char result_string[255] = {0}, data_string[255] = {0};

	filp = memc_file_open(RESULT_FILE_NAME, O_RDWR | O_CREAT | O_APPEND, 0777);//| O_LARGEFILE

	if(filp!=NULL){
		for(u8_i=0; u8_i<AUTOREGRESSION_TYPE_NUM; u8_i++){
			// type info(sc,GFB,LFB,LOGO)
			memset(&result_string, 0, sizeof(result_string));
			strcat(result_string, "Type: ");
			strcat(result_string, AUTOREGRESSION_TYPE_STRING[u8_i]);
			strcat(result_string, "\n");
			memc_file_write(filp, outfileOffset, (unsigned char*) result_string, strlen(result_string));

			// result info(pass/fail)
			u8_result_type = (Regression_Result->Result[u8_i].u8_result>=SELF_TEST_NUM) ? SELF_TEST_FAIL : Regression_Result->Result[u8_i].u8_result;
			memset(&result_string, 0, sizeof(result_string));
			strcat(result_string, "Result: ");
			strcat(result_string, SELF_TEST_RESULT_STRING[u8_result_type]);
			strcat(result_string, "\n");
			memc_file_write(filp, outfileOffset, (unsigned char*) result_string, strlen(result_string));

			// correct number
			memset(&result_string, 0, sizeof(result_string));
			memset(&data_string, 0, sizeof(data_string));
			strcat(result_string, "Correct number: ");
			UnsignedValue_To_Char(Regression_Result->Result[u8_i].u16_correct_num, data_string);
			strcat(result_string, data_string);
			strcat(result_string, "\n");
			memc_file_write(filp, outfileOffset, (unsigned char*) result_string, strlen(result_string));

			// total number
			memset(&result_string, 0, sizeof(result_string));
			memset(&data_string, 0, sizeof(data_string));
			strcat(result_string, "Total number: ");
			UnsignedValue_To_Char(Regression_Result->Result[u8_i].u16_total_num , data_string);
			strcat(result_string, data_string);
			strcat(result_string, "\n");
			memc_file_write(filp, outfileOffset, (unsigned char*) result_string, strlen(result_string));

			// time info
			memset(&result_string, 0, sizeof(result_string));
			memset(&data_string, 0, sizeof(data_string));
			strcat(result_string, "Time(s): ");
			UnsignedValue_To_Char(Regression_Result->Result[u8_i].u16_time , data_string);
			strcat(result_string, data_string);
			strcat(result_string, "\n");
			memc_file_write(filp, outfileOffset, (unsigned char*) result_string, strlen(result_string));

			// error stream id
			memset(&result_string, 0, sizeof(result_string));
			memset(&data_string, 0, sizeof(data_string));
			strcat(result_string, "Error stream id: ");
			UnsignedValue_To_Char(Regression_Result->Result[u8_i].u32_error_stream_id , data_string);
			strcat(result_string, data_string);
			strcat(result_string, "\n");
			memc_file_write(filp, outfileOffset, (unsigned char*) result_string, strlen(result_string));

			// unstable stream id
			memset(&result_string, 0, sizeof(result_string));
			memset(&data_string, 0, sizeof(data_string));
			strcat(result_string, "Unstable stream id: ");
			UnsignedValue_To_Char(Regression_Result->Result[u8_i].u32_unstable_stream_id , data_string);
			strcat(result_string, data_string);
			strcat(result_string, "\n\n");
			memc_file_write(filp, outfileOffset, (unsigned char*) result_string, strlen(result_string));
		}
		
		memc_file_sync(filp);
		memc_file_close(filp);
		rtd_pr_memc_notice("[%s] Regression result has saved in %s\n", __MEMC_AUTO_REGRESSION__, RESULT_FILE_NAME);

		return true;
	}
	return false;
#endif
}

#endif

bool AutoRegression_Get_Data(_CHECK_RESULT_AUTOREGRESSION* Regression_Result, _AUTOREGRESSION_SINGLE_RESULT* Regression_Data, unsigned char u8_stream_id, bool u1_reset)
{
#ifdef BUILD_QUICK_SHOW
	return 0;
#endif
	static _CHECK_RESULT_AUTOREGRESSION Get_Result = {0};
	static unsigned char u8_state = 0, u8_stream_len = 0, u8_get_len_cnt = 0;
	static bool u1_stop_get_data = false;
	unsigned int max_play_times = 3;
	unsigned char u8_i = 0;
	bool u1_finish = false, u1_get_data_completed = true, u1_trigger_reset = false;

	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, 24, 26, &max_play_times);

	if(u8_stream_id>=AUTOREGRESSION_ALL_NUM){
		rtd_pr_memc_emerg( "[%s][%s] Errror wrong stream id(%d), max id(%d)\n", __FUNCTION__, __MEMC_AUTO_REGRESSION__, u8_stream_id, AUTOREGRESSION_ALL_NUM);
		return false;
	}

	if(u8_state==0 || u1_reset){
		u8_state = 1;
		u1_trigger_reset = true;
		u1_stop_get_data = false;
		u8_get_len_cnt = 0;
		u8_stream_len = MIN_STREAM_LEN;
		Init_Regression_Result(&Get_Result);

		//set id of regression stream
		AutoRegression_Com_Set_StreamID(u8_stream_id);
		//set status for playing regression stream
		AutoRegression_Com_Set_Status(COM_STATUS_PLAY);
	}
	else if(u8_state==1){

		if(g_usb_play_chg == USB_START_PLAY){
			AutoRegression_SetupEnvironment();
			u8_stream_len = AutoRegression_Com_Get_StreamLen();
		}

		if(g_stream_play_time>=u8_stream_len*1000 || g_usb_play_chg==USB_FINISH_PLAY){
			if(u1_stop_get_data==false){
				AutoRegression_Com_Set_Status(COM_STATUS_END_PLAY);
				u1_stop_get_data = true;
			}
		}

		// play the stream and record the information
		if(Get_Result.Result[AUTOREGRESSION_SC].u8_result!=SELF_TEST_FAIL && Get_Result.Result[AUTOREGRESSION_SC].u8_result!=SELF_TEST_PASS){
			Get_Result.Result[AUTOREGRESSION_SC] = AutoRegression_Get_Stable_SC(&Regression_Data->SC, u8_stream_len, u1_trigger_reset);
		}

		if(Get_Result.Result[AUTOREGRESSION_GFB].u8_result!=SELF_TEST_FAIL && Get_Result.Result[AUTOREGRESSION_GFB].u8_result!=SELF_TEST_PASS){
			Get_Result.Result[AUTOREGRESSION_GFB] = AutoRegression_Get_Stable_global_FB(&Regression_Data->GFB, u8_stream_len, u1_trigger_reset);
		}

		if(Get_Result.Result[AUTOREGRESSION_LFB].u8_result!=SELF_TEST_FAIL && Get_Result.Result[AUTOREGRESSION_LFB].u8_result!=SELF_TEST_PASS){
			Get_Result.Result[AUTOREGRESSION_LFB] = AutoRegression_Get_Stable_local_FB(&Regression_Data->LFB, u8_stream_len, u1_trigger_reset);
		}

		if(Get_Result.Result[AUTOREGRESSION_LOGO].u8_result!=SELF_TEST_FAIL && Get_Result.Result[AUTOREGRESSION_LOGO].u8_result!=SELF_TEST_PASS){
			Get_Result.Result[AUTOREGRESSION_LOGO] = AutoRegression_Get_Stable_logo(&Regression_Data->LOGO, u8_stream_len, u1_trigger_reset);
		}

		for(u8_i=0; u8_i<AUTOREGRESSION_TYPE_NUM; u8_i++){
			if(Get_Result.Result[u8_i].u8_result!=SELF_TEST_FAIL && Get_Result.Result[u8_i].u8_result!=SELF_TEST_PASS){
				u1_get_data_completed = false;
			}
		}

		if(u1_get_data_completed){

			// check the regression result
			Regression_Result->Result[AUTOREGRESSION_SC].u16_total_num++;
			if(Get_Result.Result[AUTOREGRESSION_SC].u8_result==SELF_TEST_FAIL){
				Regression_Result->Result[AUTOREGRESSION_SC].u32_unstable_stream_id += Encode_Stream_Id(Regression_Result->Result[AUTOREGRESSION_SC].u16_total_num-1);
			}else if(Get_Single_Film_Auto_Regression_Result_SC(&Regression_Data->SC, u8_stream_id)==true) {
				Regression_Result->Result[AUTOREGRESSION_SC].u16_correct_num++;
			}else{
				Regression_Result->Result[AUTOREGRESSION_SC].u32_error_stream_id += Encode_Stream_Id(Regression_Result->Result[AUTOREGRESSION_SC].u16_total_num-1);
			}
			
			Regression_Result->Result[AUTOREGRESSION_GFB].u16_total_num++;
			if(Get_Result.Result[AUTOREGRESSION_GFB].u8_result==SELF_TEST_FAIL){
				Regression_Result->Result[AUTOREGRESSION_GFB].u32_unstable_stream_id += Encode_Stream_Id(Regression_Result->Result[AUTOREGRESSION_GFB].u16_total_num-1);
			}else if(Get_Single_Film_Auto_Regression_Result_GFB(&Regression_Data->GFB, u8_stream_id)==true) {
				Regression_Result->Result[AUTOREGRESSION_GFB].u16_correct_num++;
			}else{
				Regression_Result->Result[AUTOREGRESSION_GFB].u32_error_stream_id += Encode_Stream_Id(Regression_Result->Result[AUTOREGRESSION_GFB].u16_total_num-1);
			}
			
			Regression_Result->Result[AUTOREGRESSION_LFB].u16_total_num++;
			if(Get_Result.Result[AUTOREGRESSION_LFB].u8_result==SELF_TEST_FAIL){
				Regression_Result->Result[AUTOREGRESSION_LFB].u32_unstable_stream_id += Encode_Stream_Id(Regression_Result->Result[AUTOREGRESSION_LFB].u16_total_num-1);
			}else if(Get_Single_Film_Auto_Regression_Result_LFB(&Regression_Data->LFB, u8_stream_id)==true) {
				Regression_Result->Result[AUTOREGRESSION_LFB].u16_correct_num++;
			}else{
				Regression_Result->Result[AUTOREGRESSION_LFB].u32_error_stream_id += Encode_Stream_Id(Regression_Result->Result[AUTOREGRESSION_LFB].u16_total_num-1);
			}
			
			Regression_Result->Result[AUTOREGRESSION_LOGO].u16_total_num++;
			if(Get_Result.Result[AUTOREGRESSION_LOGO].u8_result==SELF_TEST_FAIL){
				Regression_Result->Result[AUTOREGRESSION_LOGO].u32_unstable_stream_id += Encode_Stream_Id(Regression_Result->Result[AUTOREGRESSION_LOGO].u16_total_num-1);
			}else if(Get_Single_Film_Auto_Regression_Result_Logo(&Regression_Data->LOGO, u8_stream_id)==true) {
				Regression_Result->Result[AUTOREGRESSION_LOGO].u16_correct_num++;
			}else{
				Regression_Result->Result[AUTOREGRESSION_LOGO].u32_error_stream_id += Encode_Stream_Id(Regression_Result->Result[AUTOREGRESSION_LOGO].u16_total_num-1);
			}

			u1_finish = true;
			u8_state = 0;
			for(u8_i=0; u8_i<AUTOREGRESSION_TYPE_NUM; u8_i++){
				Regression_Result->Result[u8_i].u8_result = (Regression_Result->Result[u8_i].u16_correct_num==Regression_Result->Result[u8_i].u16_total_num) ? SELF_TEST_PASS : SELF_TEST_FAIL;
			}

			// show the auto regression gloden value
			AutoRegression_Show_All(Regression_Data);

			// clear the result
			Init_Regression_Result(&Get_Result);
		}
	}

	if(g_regression_debug_log){
		rtd_pr_memc_emerg("[%s][%s] stream_id,%d,  num,%d,%d,%d,%d,%d,  info,%d,%d,%d,%d,%d, usb,%d\n", __FUNCTION__, __MEMC_AUTO_REGRESSION__, u8_stream_id, Regression_Result->Result[0].u16_total_num,
			Regression_Result->Result[AUTOREGRESSION_SC].u16_correct_num, Regression_Result->Result[AUTOREGRESSION_GFB].u16_correct_num, 
			Regression_Result->Result[AUTOREGRESSION_LFB].u16_correct_num, Regression_Result->Result[AUTOREGRESSION_LOGO].u16_correct_num, 
			u1_get_data_completed, Get_Result.Result[AUTOREGRESSION_SC].u8_result, Get_Result.Result[AUTOREGRESSION_GFB].u8_result, Get_Result.Result[AUTOREGRESSION_LFB].u8_result, Get_Result.Result[AUTOREGRESSION_LOGO].u8_result, g_usb_play_chg);
	}
	
	return u1_finish;
}

bool AutoRegression_Get_Data_Single(_CHECK_RESULT_AUTOREGRESSION* Regression_Result_Cur, unsigned char u8_stream_id)
{
#ifdef BUILD_QUICK_SHOW
	return 0;
#else
	static _AUTOREGRESSION_SINGLE_RESULT Regression_Result={{0}};
	static _AUTOREGRESSION_SINGLE_RESULT Regression_Data = {{0}};
	static unsigned char u8_state = 0;
	static bool u1_get_data_completed = false;
	bool u1_result = false, u1_finish = false;
	#if SAVE_GOLDEN_FILE
	static char FileName[25]="";
	static unsigned char u8_try_save_times = 0;
	unsigned char u8_save_file_status = SAVE_FILE_PROCESS;
	#endif

	if(g_regression_reset){
		u8_state = 0;
	}

	//init
	if(u8_state==0){
		u1_get_data_completed = false;
#if SAVE_GOLDEN_FILE
		u8_try_save_times = 0;
#endif
		memset(&Regression_Result, 0, sizeof(_AUTOREGRESSION_SINGLE_RESULT));
		memset(&Regression_Data, 0, sizeof(_AUTOREGRESSION_SINGLE_RESULT));
		Init_Regression_Result(Regression_Result_Cur);
		AutoRegression_Get_Data(Regression_Result_Cur, &Regression_Data, u8_stream_id, true);
		u8_state = 1;
	}
	// get the regression data and save in file
	else if(u8_state==1) {
		// get the regression data
		if(u1_get_data_completed==false){
			if(AutoRegression_Get_Data(Regression_Result_Cur, &Regression_Data, u8_stream_id, false)){
				memcpy(&Regression_Result, &Regression_Data, sizeof(Regression_Data));
				memset(&Regression_Data, 0, sizeof(Regression_Data));
				#if SAVE_GOLDEN_FILE
				memset(FileName, 0, sizeof(FileName));
				sprintf(FileName, "/tmp/Regression_%02d.txt", u8_stream_id);
				#endif
				u1_get_data_completed = true;
			}
		}

		// store the regression data in file
		if(u1_get_data_completed){
#if SAVE_GOLDEN_FILE
			if(AutoRegressoin_SaveGoldenFile(FileName, &Regression_Result, u8_stream_id)==true){
				u8_save_file_status = SAVE_FILE_PASS;
			}
			else if(u8_try_save_times>=MAX_TRY_SAVE_FILE_TIMES){
				u8_save_file_status = SAVE_FILE_FAIL;
			}
			else{
				u8_save_file_status = SAVE_FILE_PROCESS;
			}

			if(u8_save_file_status==SAVE_FILE_PASS || u8_save_file_status==SAVE_FILE_FAIL){
				u1_finish = true;
				u8_try_save_times = 0;
			}
			else{
				u8_try_save_times++;
			}
#else
			u1_finish = true;
#endif
		}

		if(u1_finish==true){
			u1_get_data_completed=false;
			u8_state = 2;
		}
	}
	// show the result
	else if(u8_state == 2){
		AutoRegression_Com_Set_Status(COM_STATUS_FINISH_REGRESSION);
		u8_state = 0;
		u1_result = true;
		rtd_pr_memc_emerg("[%s][%s] Get the auto regression data completed.\n", __FUNCTION__, __MEMC_AUTO_REGRESSION__);
	}

	if(g_usb_play==false){
		Set_PTG(PTG_DEFAULT);
		WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 0, 0, 1);
		StopMove_PTG();
	}else{
		WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 0, 0, 0);
		Close_PTG();
	}

	if(g_regression_debug_log){
		rtd_pr_memc_emerg("[%s][%s] state,%d, stream,%d, info,%d\n", __FUNCTION__, __MEMC_AUTO_REGRESSION__,
			u8_state, u8_stream_id, u1_get_data_completed);
	}

	return u1_result;
#endif
}

bool AutoRegression_Get_Data_All(_CHECK_RESULT_AUTOREGRESSION* Regression_Result_Cur)
{
#ifdef BUILD_QUICK_SHOW
	return 0;
#else
	static _AUTOREGRESSION_SINGLE_RESULT Regression_Result={{0}};
	static _AUTOREGRESSION_SINGLE_RESULT Regression_Data = {{0}};
	static unsigned char u8_state = 0, u8_stream_id = 0;
	static bool u1_get_data_completed = false;
	bool u1_result = false, u1_finish = false;
#if SAVE_GOLDEN_FILE
	static unsigned char u8_try_save_times = 0;
	static char FileName[25]="";
	unsigned char u8_save_file_status = SAVE_FILE_PROCESS;
#endif

	if(g_regression_reset){
		u8_state = 0;
	}

	//init
	if(u8_state==0){
		u1_get_data_completed = false;
		u8_stream_id = 0;
		#if SAVE_GOLDEN_FILE
		u8_try_save_times = 0;
		#endif
		memset(&Regression_Result, 0, sizeof(_AUTOREGRESSION_SINGLE_RESULT));
		memset(&Regression_Data, 0, sizeof(_AUTOREGRESSION_SINGLE_RESULT));
		Init_Regression_Result(Regression_Result_Cur);
		AutoRegression_Get_Data(Regression_Result_Cur, &Regression_Data, u8_stream_id, true);
		u8_state = 1;
	}
	// get the regression data and save in file
	else if(u8_state==1) {
		// get the regression data
		if(u1_get_data_completed==false){
			if(AutoRegression_Get_Data(Regression_Result_Cur, &Regression_Data, u8_stream_id, false)){
				memcpy(&Regression_Result, &Regression_Data, sizeof(Regression_Data));
				memset(&Regression_Data, 0, sizeof(_AUTOREGRESSION_SINGLE_RESULT));
			#if SAVE_GOLDEN_FILE
				memset(FileName, 0, sizeof(FileName));
				sprintf(FileName, "/tmp/Regression_%02d.txt", u8_stream_id);
			#endif
				u1_get_data_completed = true;
			}
		}

		// store the regression data in file
		if(u1_get_data_completed){
#if SAVE_GOLDEN_FILE
			if(AutoRegressoin_SaveGoldenFile(FileName, &Regression_Result, u8_stream_id)==true){
				u8_save_file_status = SAVE_FILE_PASS;
			}
			else if(u8_try_save_times>=MAX_TRY_SAVE_FILE_TIMES){
				u8_save_file_status = SAVE_FILE_FAIL;
			}
			else{
				u8_save_file_status = SAVE_FILE_PROCESS;
			}

			if(u8_save_file_status==SAVE_FILE_PASS || u8_save_file_status==SAVE_FILE_FAIL){
				u1_finish = true;
				u8_try_save_times = 0;
			}
			else{
				u8_try_save_times++;
			}
#else
			u1_finish = true;
#endif
		}

		if(u1_finish){
			u8_stream_id++;
			u1_get_data_completed=false;
		}

		if(u1_finish==true && u8_stream_id >= AUTOREGRESSION_ALL_NUM){
			u8_state = 2;
		}
	}
	// show the result
	else if(u8_state == 2){
		AutoRegression_Com_Set_Status(COM_STATUS_FINISH_REGRESSION);
		u8_state = 0;
		u1_result = true;
		rtd_pr_memc_emerg("[%s][%s] Get the auto regression data completed.\n", __FUNCTION__, __MEMC_AUTO_REGRESSION__);
	}

	if(g_usb_play==false){
		Set_PTG(PTG_DEFAULT);
		WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 0, 0, 1);
		StopMove_PTG();
	}else{
		WriteRegister(KME_ME1_TOP1_ME1_SCENE1_00_reg, 0, 0, 0);
		Close_PTG();
	}

	if(g_regression_debug_log){
		rtd_pr_memc_emerg("[%s][%s] state,%d, stream,%d, info,%d\n", __FUNCTION__, __MEMC_AUTO_REGRESSION__,
			u8_state, u8_stream_id, u1_get_data_completed);
	}

	return u1_result;
#endif
}

/**
 * @brief This function check the ippre ptg, ddr boundary and rim boundary
 * https://wiki.realtek.com/x/oBw2Eg
*/
VOID BasicInfoCheck_Environment_check(void)
{
	static unsigned char u8_state = 0;
	unsigned int u1_check_all_env = 0, u1_stop_check_ptg  = 0, u1_check_single_env[ENVIRONMENT_CHECK_NUM]={0};
	unsigned char u8_i = 0;
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 31, 31, &u1_check_all_env);
	ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, 30, 30, &u1_stop_check_ptg);
	
	if(u1_check_all_env) {
		WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, 31, 31, 0);
		for(u8_i=0; u8_i<ENVIRONMENT_CHECK_NUM; u8_i++){
			Init_Calib_Result(&Environment_Check_Result[u8_i]);
		}
		u8_state = 1;
	}
	else if(u1_stop_check_ptg) {
		WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, 30, 30, 0);
		Close_Cross();
		Set_PTG(PTG_DEFAULT);
		Close_PTG();
		u8_state = 0;
	}
	
	// check with all test
	if(u8_state!=0) {
		// check the ippre ptg color
		if(u8_state == 1){
			Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL] = BasicInfoCheck_Verify_IPPRE_PTG_Color();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u8_result==SELF_TEST_PASS ||	Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u8_result==SELF_TEST_FAIL) {
				u8_state = 2;
			}
		}
		// check the ippre ptg checkerboard position
		else if(u8_state == 2){
			Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS] = BasicInfoCheck_Verify_IPPRE_PTG_Position();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u8_result==SELF_TEST_FAIL) {
				u8_state = 3;
			}
		}
		// check the ippre ptg square color and size
		else if(u8_state == 3){
			Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE] = BasicInfoCheck_Verify_IPPRE_PTG_Square();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u8_result==SELF_TEST_FAIL) {
				u8_state = 4;
			}
		}
		// check the ippre ptg mv
		else if(u8_state == 4){
			Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO] = BasicInfoCheck_Check_IPPRE_MV_Info();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u8_result==SELF_TEST_FAIL) {
				u8_state = 5;
			}
		}
		// check the ddr boundary
		else if(u8_state == 5){
			Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY] = BasicInfoCheck_Check_DDR_Boundary();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u8_result==SELF_TEST_FAIL) {
				u8_state = 6;
			}
		}
		// check the rim boundary
		else if(u8_state == 6){
			Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY] = BasicInfoCheck_Check_Rim_Boundary();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u8_result==SELF_TEST_FAIL) {
				u8_state = 7;
			}
		}
		// check the lbmc
		else if(u8_state == 7){
			Environment_Check_Result[ENVIRONMENT_CHECK_LBMC] = BasicInfoCheck_Check_LBMC_Set();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u8_result==SELF_TEST_FAIL) {
				u8_state = 8;
			}
		}
		// check the region(logo/mixmode)
		else if(u8_state == 8){
			Environment_Check_Result[ENVIRONMENT_CHECK_REGION] = BasicInfoCheck_Check_Region_Set();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u8_result==SELF_TEST_FAIL) {
				u8_state = 9;
			}
		}
		// show the result
		else if(u8_state == 9){
			u8_state = 0;
			// disable IPPre PTG
			Set_PTG(PTG_DEFAULT);
			Close_PTG();
			Close_Cross();
			rtd_pr_memc_emerg( "************************************************\n");
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check IPPRE PTG color][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u16_total_num);	
			}else{
				rtd_pr_memc_emerg( "[%s][check IPPRE PTG color][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u16_total_num);
			}
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check IPPRE PTG position][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u16_total_num);	
			}else{
				rtd_pr_memc_emerg( "[%s][check IPPRE PTG position][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u16_total_num);
			}
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check IPPRE PTG size][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u16_total_num);	
			}else{
				rtd_pr_memc_emerg( "[%s][check IPPRE PTG size][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u16_total_num);
			}
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check GMV][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u16_total_num);	
			}else{
				rtd_pr_memc_emerg( "[%s][check GMV][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u16_total_num);
			}
			if(Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check DDR boundary][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u16_total_num);	
			}else{
				rtd_pr_memc_emerg( "[%s][check DDR boundary][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u16_total_num);
			}
			if(Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check Rim boundary][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u16_total_num);	
			}else{
				rtd_pr_memc_emerg( "[%s][check Rim boundary][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u16_total_num);
			}
			if(Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check LBMC][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_total_num);	
			}else{
				rtd_pr_memc_emerg( "[%s][check LBMC][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_total_num);
			}
			if(Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check Region][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u16_total_num);	
			}else{
				rtd_pr_memc_emerg( "[%s][check Region][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u16_total_num);
			}
			rtd_pr_memc_emerg( "************************************************\n");
		}
	}
	else {
		for(u8_i=0; u8_i<ENVIRONMENT_CHECK_NUM; u8_i++){
			ReadRegister(SOFTWARE2_SOFTWARE2_08_reg, u8_i, u8_i, &u1_check_single_env[u8_i]);
		}
		if(u1_check_single_env[ENVIRONMENT_CHECK_PTG_APL]){
			Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL] = BasicInfoCheck_Verify_IPPRE_PTG_Color();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u8_result==SELF_TEST_PASS ||	Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, ENVIRONMENT_CHECK_PTG_APL, ENVIRONMENT_CHECK_PTG_APL, 0);
				if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check IPPRE PTG color][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check IPPRE PTG color][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_APL].u16_total_num);
				}
			}
		}
		else if(u1_check_single_env[ENVIRONMENT_CHECK_PTG_POS]){
			Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS] = BasicInfoCheck_Verify_IPPRE_PTG_Position();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, ENVIRONMENT_CHECK_PTG_POS, ENVIRONMENT_CHECK_PTG_POS, 0);
				if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check IPPRE PTG position][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check IPPRE PTG position][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_POS].u16_total_num);
				}
			}
		}
		else if(u1_check_single_env[ENVIRONMENT_CHECK_PTG_SQUARE]){
			Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE] = BasicInfoCheck_Verify_IPPRE_PTG_Square();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, ENVIRONMENT_CHECK_PTG_SQUARE, ENVIRONMENT_CHECK_PTG_SQUARE, 0);
				if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check IPPRE PTG size][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check IPPRE PTG size][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_SQUARE].u16_total_num);
				}
			}
		}
		else if(u1_check_single_env[ENVIRONMENT_CHECK_DDR_BOUNDARY]){
			Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY] = BasicInfoCheck_Check_DDR_Boundary();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, ENVIRONMENT_CHECK_DDR_BOUNDARY, ENVIRONMENT_CHECK_DDR_BOUNDARY, 0);
				if(Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check DDR boundary][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check DDR boundary][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_DDR_BOUNDARY].u16_total_num);
				}
			}
		}
		else if(u1_check_single_env[ENVIRONMENT_CHECK_RIM_BOUNDARY]){
			Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY] = BasicInfoCheck_Check_Rim_Boundary();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, ENVIRONMENT_CHECK_RIM_BOUNDARY, ENVIRONMENT_CHECK_RIM_BOUNDARY, 0);
				if(Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check Rim boundary][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check Rim boundary][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_RIM_BOUNDARY].u16_total_num);
				}
			}
		}
		else if(u1_check_single_env[ENVIRONMENT_CHECK_LBMC]){
			Environment_Check_Result[ENVIRONMENT_CHECK_LBMC] = BasicInfoCheck_Check_LBMC_Set();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, ENVIRONMENT_CHECK_LBMC, ENVIRONMENT_CHECK_LBMC, 0);
				if(Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check LBMC][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check LBMC][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_total_num);
				}
			}
		}
		else if(u1_check_single_env[ENVIRONMENT_CHECK_PTG_MV_INFO]){
			Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO] = BasicInfoCheck_Check_IPPRE_MV_Info();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, ENVIRONMENT_CHECK_PTG_MV_INFO, ENVIRONMENT_CHECK_PTG_MV_INFO, 0);
				if(Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check MV Info][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check MV Info][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_PTG_MV_INFO].u16_total_num);
				}
			}
		}
		else if(u1_check_single_env[ENVIRONMENT_CHECK_REGION]){
			Environment_Check_Result[ENVIRONMENT_CHECK_REGION] = BasicInfoCheck_Check_Region_Set();
			if(Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u8_result==SELF_TEST_PASS || Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_08_reg, ENVIRONMENT_CHECK_REGION, ENVIRONMENT_CHECK_REGION, 0);
				if(Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check Region][PASS] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_REGION].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check Region][FAIL] %d/%d(ok/total)\n", __FUNCTION__, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_correct_num, Environment_Check_Result[ENVIRONMENT_CHECK_LBMC].u16_total_num);
				}
			}
		}
	}
}

/**
 * @brief This function check the basic info(APL/DTL/SAD...) by internal pattern gen
 * https://wiki.realtek.com/x/oBw2Eg
*/
VOID BasicInfoCheck_IPPRE_PTG_check(void)
{
	_PQLPARAMETER *s_pPQLParam = GetPQLParameter();
	static unsigned char u8_state = 0;
	unsigned int u1_check_all_info = 0, u1_stop_check_info = 0, u1_check_single_info[PTG_CALIB_NUM]={0};
	unsigned char u8_i = 0;
	
	ReadRegister(SOFTWARE2_SOFTWARE2_09_reg, 31, 31, &u1_check_all_info);
	ReadRegister(SOFTWARE2_SOFTWARE2_09_reg, 30, 30, &u1_stop_check_info);
	
	if(u1_check_all_info) {
		WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, 31, 31, 0);
		for(u8_i=0; u8_i<PTG_CALIB_NUM; u8_i++){
			Init_Calib_Result(&PTG_Calib_Result[u8_i]);
		}
		u8_state = 1;
	}
	else if(u1_stop_check_info) {
		WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, 30, 30, 0);
		Close_Cross();
		Set_PTG(PTG_DEFAULT);
		Close_PTG();
		u8_state = 0;
	}
	
	// check with all test
	if(u8_state!=0){
		// check the APL by ippre ptg
		if(u8_state == 1){
			PTG_Calib_Result[PTG_CALIB_APL] = BasicInfoCheck_Check_APL();
			if(PTG_Calib_Result[PTG_CALIB_APL].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_APL].u8_result==SELF_TEST_FAIL) {
				u8_state = 2;
			}
		}
		// check the DTL by ippre ptg
		else if(u8_state == 2){
			PTG_Calib_Result[PTG_CALIB_DTL] = BasicInfoCheck_Check_DTL();
			if(PTG_Calib_Result[PTG_CALIB_DTL].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_DTL].u8_result==SELF_TEST_FAIL) {
				u8_state = 3;
			}
		}
		// check the SAD by ippre ptg
		else if(u8_state == 3){
			PTG_Calib_Result[PTG_CALIB_SAD] = BasicInfoCheck_Check_SAD();
			if(PTG_Calib_Result[PTG_CALIB_SAD].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_SAD].u8_result==SELF_TEST_FAIL) {
				u8_state = 4;
			}
		}
		// check and calib the SC by ippre ptg
		else if(u8_state == 4){
			PTG_Calib_Result[PTG_CALIB_SC] = BasicInfoCheck_SceneChange_Calib(&(s_pPQLParam->_param_frc_sceneAnalysis));
			if(PTG_Calib_Result[PTG_CALIB_SC].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_SC].u8_result==SELF_TEST_FAIL) {
				u8_state = 5;
			}
		}
		// check the lbmc by ippre ptg
		else if(u8_state == 5){
			PTG_Calib_Result[PTG_CALIB_LBMC] = BasicInfoCheck_Check_LBMC_mode();
			if(PTG_Calib_Result[PTG_CALIB_LBMC].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_LBMC].u8_result==SELF_TEST_FAIL) {
				u8_state = 6;
			}
		}
		// check the YUV histogram
		else if(u8_state == 6){
			PTG_Calib_Result[PTG_CALIB_YUV] = BasicInfoCheck_Check_YUV_Hist();
			if(PTG_Calib_Result[PTG_CALIB_YUV].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_YUV].u8_result==SELF_TEST_FAIL) {
				u8_state = 7;
			}
		}
		// check the YUV histogram
		else if(u8_state == 7){
			PTG_Calib_Result[PTG_CALIB_LOGO_DETECT] = BasicInfoCheck_AutoCalib_LogoDetect();
			if(PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u8_result==SELF_TEST_FAIL) {
				u8_state = 8;
			}
		}
		// show the result
		else if(u8_state == 8){
			u8_state = 0;
			// disable IPPre PTG
			Set_PTG(PTG_DEFAULT);
			Close_PTG();
			Close_Cross();
			rtd_pr_memc_emerg( "************************************************\n");
			if(PTG_Calib_Result[PTG_CALIB_APL].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check APL][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_APL].u16_correct_num, PTG_Calib_Result[PTG_CALIB_APL].u16_total_num);	
			}else{
				rtd_pr_memc_emerg( "[%s][check APL][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_APL].u16_correct_num, PTG_Calib_Result[PTG_CALIB_APL].u16_total_num);
			}
			if(PTG_Calib_Result[PTG_CALIB_DTL].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check DTL][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_DTL].u16_correct_num, PTG_Calib_Result[PTG_CALIB_DTL].u16_total_num);		
			}else{
				rtd_pr_memc_emerg( "[%s][check DTL][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_DTL].u16_correct_num, PTG_Calib_Result[PTG_CALIB_DTL].u16_total_num);		
			}
			if(PTG_Calib_Result[PTG_CALIB_SAD].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check SAD][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_SAD].u16_correct_num, PTG_Calib_Result[PTG_CALIB_SAD].u16_total_num);		
			}else{
				rtd_pr_memc_emerg( "[%s][check SAD][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_SAD].u16_correct_num, PTG_Calib_Result[PTG_CALIB_SAD].u16_total_num);		
			}
			if(PTG_Calib_Result[PTG_CALIB_SC].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check SC][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_SC].u16_correct_num, PTG_Calib_Result[PTG_CALIB_SC].u16_total_num);		
			}else{
				rtd_pr_memc_emerg( "[%s][check SC][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_SC].u16_correct_num, PTG_Calib_Result[PTG_CALIB_SC].u16_total_num);		
			}
			if(PTG_Calib_Result[PTG_CALIB_LBMC].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check LBMC][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_LBMC].u16_correct_num, PTG_Calib_Result[PTG_CALIB_LBMC].u16_total_num);		
			}else{
				rtd_pr_memc_emerg( "[%s][check LBMC][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_LBMC].u16_correct_num, PTG_Calib_Result[PTG_CALIB_LBMC].u16_total_num);		
			}
			if(PTG_Calib_Result[PTG_CALIB_YUV].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check YUV][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_YUV].u16_correct_num, PTG_Calib_Result[PTG_CALIB_YUV].u16_total_num);		
			}else{
				rtd_pr_memc_emerg( "[%s][check YUV][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_YUV].u16_correct_num, PTG_Calib_Result[PTG_CALIB_YUV].u16_total_num);		
			}
			if(PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check Logo Detect Threshold][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u16_correct_num, PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u16_total_num);		
			}else{
				rtd_pr_memc_emerg( "[%s][check Logo Detect Threshold][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u16_correct_num, PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u16_total_num);		
			}
			rtd_pr_memc_emerg( "************************************************\n");
		}
	}
	else {
		for(u8_i=0; u8_i<PTG_CALIB_NUM; u8_i++){
			ReadRegister(SOFTWARE2_SOFTWARE2_09_reg, u8_i, u8_i, &u1_check_single_info[u8_i]);
		}
		if(u1_check_single_info[PTG_CALIB_APL]){
			PTG_Calib_Result[PTG_CALIB_APL] = BasicInfoCheck_Check_APL();
			if(PTG_Calib_Result[PTG_CALIB_APL].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_APL].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, PTG_CALIB_APL, PTG_CALIB_APL, 0);
				if(PTG_Calib_Result[PTG_CALIB_APL].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check APL][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_APL].u16_correct_num, PTG_Calib_Result[PTG_CALIB_APL].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check APL][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_APL].u16_correct_num, PTG_Calib_Result[PTG_CALIB_APL].u16_total_num);
				}
			}
		}
		else if(u1_check_single_info[PTG_CALIB_DTL]){
			PTG_Calib_Result[PTG_CALIB_DTL] = BasicInfoCheck_Check_DTL();
			if(PTG_Calib_Result[PTG_CALIB_DTL].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_DTL].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, PTG_CALIB_DTL, PTG_CALIB_DTL, 0);
				if(PTG_Calib_Result[PTG_CALIB_DTL].u8_result==SELF_TEST_PASS) {
				
					rtd_pr_memc_emerg( "[%s][check DTL][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_DTL].u16_correct_num, PTG_Calib_Result[PTG_CALIB_DTL].u16_total_num);		
				}else{
					
					rtd_pr_memc_emerg( "[%s][check DTL][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_DTL].u16_correct_num, PTG_Calib_Result[PTG_CALIB_DTL].u16_total_num);		
				}
			}
		}
		else if(u1_check_single_info[PTG_CALIB_SAD]){
			PTG_Calib_Result[PTG_CALIB_SAD] = BasicInfoCheck_Check_SAD();
			if(PTG_Calib_Result[PTG_CALIB_SAD].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_SAD].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, PTG_CALIB_SAD, PTG_CALIB_SAD, 0);
				if(PTG_Calib_Result[PTG_CALIB_SAD].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check SAD][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_SAD].u16_correct_num, PTG_Calib_Result[PTG_CALIB_SAD].u16_total_num); 	
				}else{
					rtd_pr_memc_emerg( "[%s][check SAD][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_SAD].u16_correct_num, PTG_Calib_Result[PTG_CALIB_SAD].u16_total_num); 	
				}
			}
		}
		else if(u1_check_single_info[PTG_CALIB_SC]){
			PTG_Calib_Result[PTG_CALIB_SC] = BasicInfoCheck_SceneChange_Calib(&(s_pPQLParam->_param_frc_sceneAnalysis));
			if(PTG_Calib_Result[PTG_CALIB_SC].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_SC].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, PTG_CALIB_SC, PTG_CALIB_SC, 0);
				if(PTG_Calib_Result[PTG_CALIB_SC].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check SC][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_SC].u16_correct_num, PTG_Calib_Result[PTG_CALIB_SC].u16_total_num);		
				}else{
					rtd_pr_memc_emerg( "[%s][check SC][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_SC].u16_correct_num, PTG_Calib_Result[PTG_CALIB_SC].u16_total_num);		
				}
			}
		}
		else if(u1_check_single_info[PTG_CALIB_LBMC]){
			PTG_Calib_Result[PTG_CALIB_LBMC] = BasicInfoCheck_Check_LBMC_mode();
			if(PTG_Calib_Result[PTG_CALIB_LBMC].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_LBMC].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, PTG_CALIB_LBMC, PTG_CALIB_LBMC, 0);
				if(PTG_Calib_Result[PTG_CALIB_LBMC].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check LBMC][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_LBMC].u16_correct_num, PTG_Calib_Result[PTG_CALIB_LBMC].u16_total_num);		
				}else{
					rtd_pr_memc_emerg( "[%s][check LBMC][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_LBMC].u16_correct_num, PTG_Calib_Result[PTG_CALIB_LBMC].u16_total_num);		
				}
			}
		}
		else if(u1_check_single_info[PTG_CALIB_YUV]){
			PTG_Calib_Result[PTG_CALIB_YUV] = BasicInfoCheck_Check_YUV_Hist();
			if(PTG_Calib_Result[PTG_CALIB_YUV].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_YUV].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, PTG_CALIB_YUV, PTG_CALIB_YUV, 0);
				if(PTG_Calib_Result[PTG_CALIB_YUV].u8_result==SELF_TEST_PASS) {
					WriteRegister(SOFTWARE2_SOFTWARE2_15_reg, 16, 16, 1);
					WriteRegister(SOFTWARE2_SOFTWARE2_15_reg, 17, 17, 0);
					rtd_pr_memc_emerg( "[%s][check YUV][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_YUV].u16_correct_num, PTG_Calib_Result[PTG_CALIB_YUV].u16_total_num);		
				}else{
					WriteRegister(SOFTWARE2_SOFTWARE2_15_reg, 16, 16, 0);
					WriteRegister(SOFTWARE2_SOFTWARE2_15_reg, 17, 17, 1);
					rtd_pr_memc_emerg( "[%s][check YUV][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_YUV].u16_correct_num, PTG_Calib_Result[PTG_CALIB_YUV].u16_total_num);		
				}
			}
		}
		// check the logo detect threshold
		else if(u1_check_single_info[PTG_CALIB_LOGO_DETECT]){
			PTG_Calib_Result[PTG_CALIB_LOGO_DETECT] = BasicInfoCheck_AutoCalib_LogoDetect();
			if(PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u8_result==SELF_TEST_PASS || PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u8_result==SELF_TEST_FAIL) {
				WriteRegister(SOFTWARE2_SOFTWARE2_09_reg, PTG_CALIB_LOGO_DETECT, PTG_CALIB_LOGO_DETECT, 0);
				if(PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u8_result==SELF_TEST_PASS) {
					rtd_pr_memc_emerg( "[%s][check Logo Detect Threshold][PASS] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u16_correct_num, PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u16_total_num);	
				}else{
					rtd_pr_memc_emerg( "[%s][check Logo Detect Threshold][FAIL] %d/%d(ok/total)\n", __FUNCTION__, PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u16_correct_num, PTG_Calib_Result[PTG_CALIB_LOGO_DETECT].u16_total_num);	
				}
			}
		}
		else {
			BasicInfoCheck_Single_Check_SAD();
		}
	}
}

/**
 * @brief This function check with real pattern
 * https://wiki.realtek.com/x/oBw2Eg
*/
VOID BasicInfoCheck_RealPattern_check(void)// should be modify
{
	/*static unsigned char u8_state = 0;
	unsigned char u8_i = 0;
	unsigned int u1_check_en = 0, u1_stop_check  = 0;
	ReadRegister(SOFTWARE2_SOFTWARE2_10_reg, 31, 31, &u1_check_en);
	ReadRegister(SOFTWARE2_SOFTWARE2_10_reg, 30, 30, &u1_stop_check);
	if(u1_check_en) {
		WriteRegister(SOFTWARE2_SOFTWARE2_10_reg, 31, 31, 0);  
		for(u8_i=0; u8_i<REALSTREAM_CALIB_NUM; u8_i++){
			Init_Calib_Result(&RealStream_Calib_Result[u8_i]);
		}
		u8_state = 1;
	}
	else if(u1_stop_check) {
		WriteRegister(SOFTWARE2_SOFTWARE2_10_reg, 30, 30, 0);
		u8_state = 0;
	}
	// calib the fb bad region
	if(u8_state == 1){
		RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION] = BasicInfoCheck_BadRegion_Calib();
		if(RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u8_result==SELF_TEST_PASS || RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u8_result==SELF_TEST_FAIL) {
			u8_state = 2;
		}
	}
	// show the result
	else if(u8_state == 2){
		u8_state = 0;
		rtd_pr_memc_emerg( "************************************************\n");
		if(RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u8_result==SELF_TEST_PASS) {
			rtd_pr_memc_emerg( "[%s][check FB bad region][PASS] %d/%d(ok/total)\n", __FUNCTION__, RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u16_correct_num, RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u16_total_num);	
		}else{
			rtd_pr_memc_emerg( "[%s][check FB bad region][FAIL] %d/%d(ok/total)\n", __FUNCTION__, RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u16_correct_num, RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u16_total_num);
		}
		rtd_pr_memc_emerg( "************************************************\n");
	}*/



	unsigned char u8_i = 0;
	unsigned int u1_check[REALSTREAM_CALIB_NUM]={0}, u1_shutdown_check[REALSTREAM_CALIB_NUM]={0};
	static bool u1_calib_pre = false;
	bool u1_calib_cur = false;
	
	for(u8_i=0; u8_i<REALSTREAM_CALIB_NUM; u8_i++){
		ReadRegister(SOFTWARE2_SOFTWARE2_10_reg, u8_i+SHUTDOWN_CHECK_BIT_OFFSET, u8_i+SHUTDOWN_CHECK_BIT_OFFSET, &u1_shutdown_check[u8_i]);
		// shut down flag is on, turn off the checking flag
		if(u1_shutdown_check[u8_i]==true){
			u1_check[u8_i] = 0;
			WriteRegister(SOFTWARE2_SOFTWARE2_10_reg, u8_i, u8_i, 0);
		}
		// read the checking flag
		else {
			ReadRegister(SOFTWARE2_SOFTWARE2_10_reg, u8_i, u8_i, &u1_check[u8_i]);
		}

		if(u1_check[u8_i]==true){
			u1_calib_cur = true;
		}
	}

	// turn off identify pattern when calibrate with real stream
	if(u1_calib_pre==false && u1_calib_cur==true){
		WriteRegister(HARDWARE_HARDWARE_57_reg, 28, 28, 0);
	}else if(u1_calib_pre==true && u1_calib_cur==false){
		WriteRegister(HARDWARE_HARDWARE_57_reg, 28, 28, 1);
	}
	
	// check the mv info
	if(u1_check[REALSTREAM_CALIB_MV_INFO]){
		RealStream_Calib_Result[REALSTREAM_CALIB_MV_INFO] = BasicInfoCheck_MV_Info();
		if(RealStream_Calib_Result[REALSTREAM_CALIB_MV_INFO].u8_result==SELF_TEST_PASS || RealStream_Calib_Result[REALSTREAM_CALIB_MV_INFO].u8_result==SELF_TEST_FAIL) {
			WriteRegister(SOFTWARE2_SOFTWARE2_10_reg, REALSTREAM_CALIB_MV_INFO, REALSTREAM_CALIB_MV_INFO, 0);
			if(RealStream_Calib_Result[REALSTREAM_CALIB_MV_INFO].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check MV INFO][PASS] %d/%d(ok/total)\n", __FUNCTION__, RealStream_Calib_Result[REALSTREAM_CALIB_MV_INFO].u16_correct_num, RealStream_Calib_Result[REALSTREAM_CALIB_MV_INFO].u16_total_num);	
			}else if(RealStream_Calib_Result[REALSTREAM_CALIB_MV_INFO].u8_result==SELF_TEST_FAIL) {
				rtd_pr_memc_emerg( "[%s][check MV INFO][FAIL] %d/%d(ok/total)\n", __FUNCTION__, RealStream_Calib_Result[REALSTREAM_CALIB_MV_INFO].u16_correct_num, RealStream_Calib_Result[REALSTREAM_CALIB_MV_INFO].u16_total_num);	
			}
		}
	}
	// check the fb bad region
	else if(u1_check[REALSTREAM_CALIB_FB_BADREGION]){
		RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION] = BasicInfoCheck_BadRegion_Calib();
		if(RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u8_result==SELF_TEST_PASS || RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u8_result==SELF_TEST_FAIL) {
			WriteRegister(SOFTWARE2_SOFTWARE2_10_reg, REALSTREAM_CALIB_FB_BADREGION, REALSTREAM_CALIB_FB_BADREGION, 0);
			if(RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u8_result==SELF_TEST_PASS) {
				rtd_pr_memc_emerg( "[%s][check FB bad region][PASS] %d/%d(ok/total)\n", __FUNCTION__, RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u16_correct_num, RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u16_total_num);	
			}else if(RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u8_result==SELF_TEST_FAIL) {
				rtd_pr_memc_emerg( "[%s][check FB bad region][FAIL] %d/%d(ok/total)\n", __FUNCTION__, RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u16_correct_num, RealStream_Calib_Result[REALSTREAM_CALIB_FB_BADREGION].u16_total_num);	
			}
			WriteRegister(SOFTWARE2_SOFTWARE2_10_reg, 31, 31, 0);
		}
	}

	u1_calib_pre = u1_calib_cur;
}

/**
 * @brief This function do auto regression with script
 * https://wiki.realtek.com/x/cHE2Eg
 */
VOID AutoRegression_Verify(VOID)
{
#ifdef BUILD_QUICK_SHOW
	return;
#endif
	unsigned int u1_Regression_en = 0, time_finish = 0, u1_AutoRegression_all_en = 0, u1_AutoRegression_Single_en = 0;
	unsigned int u8_stream_id = 0;
	unsigned char u8_i = 0;
	static _CHECK_RESULT_AUTOREGRESSION Regression_Result;
	static bool u1_save_result_file = false;
	static unsigned char u8_show_cnt = 0;
	static unsigned int time_base = 0, u1_Regression_all_pre = 0, u1_Regression_Single_pre = 0;

	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, 31, 31, &u1_Regression_en);
	if(!u1_Regression_en){
		return;
	}

	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_VERIFY_ALL_BIT, AUTOREGRESSION_VERIFY_ALL_BIT, &u1_AutoRegression_all_en);
	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_VERIFY_SINGLE_BIT, AUTOREGRESSION_VERIFY_SINGLE_BIT, &u1_AutoRegression_Single_en);
	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_STREAM_ID_LOW_BIT, AUTOREGRESSION_STREAM_ID_HIGH_BIT, &u8_stream_id);

	u8_stream_id = _MIN_(u8_stream_id, AUTOREGRESSION_ALL_NUM-1);

	// do all auto regression
	if(u1_AutoRegression_all_en) {
		// init
		if(u1_Regression_all_pre==false || g_regression_reset){
			Init_Regression_Result(&AutoRegression_Result);
			time_base = Get_Time_sec();
		}

		// get the auto regression result
		if(AutoRegression_Get_Data_All(&AutoRegression_Result)){
			u1_save_result_file = true;
			memcpy(&Regression_Result, &AutoRegression_Result, sizeof(_CHECK_RESULT_AUTOREGRESSION));
			WriteRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_VERIFY_ALL_BIT, AUTOREGRESSION_VERIFY_ALL_BIT, 0);
		}
		
		// save time info
		time_finish = Get_Time_sec()-time_base;
		for(u8_i=0; u8_i<AUTOREGRESSION_TYPE_NUM; u8_i++){
			AutoRegression_Result.Result[u8_i].u16_time = time_finish;
		}
	}
	else if(u1_AutoRegression_Single_en){
		// init
		if(u1_Regression_Single_pre==false || g_regression_reset){
			Init_Regression_Result(&AutoRegression_Result);
			time_base = Get_Time_sec();
		}

		// get the auto regression result
		if(AutoRegression_Get_Data_Single(&AutoRegression_Result, u8_stream_id)){
			u1_save_result_file = true;
			memcpy(&Regression_Result, &AutoRegression_Result, sizeof(_CHECK_RESULT_AUTOREGRESSION));
			WriteRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_VERIFY_SINGLE_BIT, AUTOREGRESSION_VERIFY_SINGLE_BIT, 0);
		}
		
		// save time info
		time_finish = Get_Time_sec()-time_base;
		for(u8_i=0; u8_i<AUTOREGRESSION_TYPE_NUM; u8_i++){
			AutoRegression_Result.Result[u8_i].u16_time = time_finish;
		}
	}

	if(u1_save_result_file){
		#if SAVE_RESULT_FILE
		if(AutoRegressoin_SaveResultFile(&Regression_Result)){
			u1_save_result_file = false;
		}
		#else
			u1_save_result_file = true;
		#endif
	}

	u1_Regression_all_pre = u1_AutoRegression_all_en;
	u1_Regression_Single_pre = u1_AutoRegression_Single_en;
	
	u8_show_cnt++;
	if(u8_show_cnt>200) {
		u8_show_cnt = 0;
		
		if(AutoRegression_Result.Result[AUTOREGRESSION_SC].u8_result==SELF_TEST_PASS) {
			rtd_pr_memc_emerg( "[%s][SC][PASS] %d/%d(ok/total) time,%u\n", __FUNCTION__, AutoRegression_Result.Result[AUTOREGRESSION_SC].u16_correct_num, AutoRegression_Result.Result[AUTOREGRESSION_SC].u16_total_num, AutoRegression_Result.Result[AUTOREGRESSION_SC].u16_time);
		}else if(AutoRegression_Result.Result[AUTOREGRESSION_SC].u8_result==SELF_TEST_FAIL) {
			rtd_pr_memc_emerg( "[%s][SC][FAIL] %d/%d(ok/total) time,%u, error_id,0x%x, unstable_id,0x%x\n", __FUNCTION__, AutoRegression_Result.Result[AUTOREGRESSION_SC].u16_correct_num, AutoRegression_Result.Result[AUTOREGRESSION_SC].u16_total_num, AutoRegression_Result.Result[AUTOREGRESSION_SC].u16_time, AutoRegression_Result.Result[AUTOREGRESSION_SC].u32_error_stream_id, AutoRegression_Result.Result[AUTOREGRESSION_SC].u32_unstable_stream_id);
		}
		if(AutoRegression_Result.Result[AUTOREGRESSION_GFB].u8_result==SELF_TEST_PASS) {
			rtd_pr_memc_emerg( "[%s][FB][PASS] %d/%d(ok/total) time,%u\n", __FUNCTION__, AutoRegression_Result.Result[AUTOREGRESSION_GFB].u16_correct_num, AutoRegression_Result.Result[AUTOREGRESSION_GFB].u16_total_num, AutoRegression_Result.Result[AUTOREGRESSION_GFB].u16_time);
		}else if(AutoRegression_Result.Result[AUTOREGRESSION_GFB].u8_result==SELF_TEST_FAIL) {
			rtd_pr_memc_emerg( "[%s][FB][FAIL] %d/%d(ok/total) time,%u, error_id,0x%x, unstable_id,0x%x\n", __FUNCTION__, AutoRegression_Result.Result[AUTOREGRESSION_GFB].u16_correct_num, AutoRegression_Result.Result[AUTOREGRESSION_GFB].u16_total_num, AutoRegression_Result.Result[AUTOREGRESSION_GFB].u16_time, AutoRegression_Result.Result[AUTOREGRESSION_GFB].u32_error_stream_id, AutoRegression_Result.Result[AUTOREGRESSION_GFB].u32_unstable_stream_id);
		}
		if(AutoRegression_Result.Result[AUTOREGRESSION_LFB].u8_result==SELF_TEST_PASS) {
			rtd_pr_memc_emerg( "[%s][LFB][PASS] %d/%d(ok/total) time,%u\n", __FUNCTION__, AutoRegression_Result.Result[AUTOREGRESSION_LFB].u16_correct_num, AutoRegression_Result.Result[AUTOREGRESSION_LFB].u16_total_num, AutoRegression_Result.Result[AUTOREGRESSION_LFB].u16_time);
		}else if(AutoRegression_Result.Result[AUTOREGRESSION_LFB].u8_result==SELF_TEST_FAIL) {
			rtd_pr_memc_emerg( "[%s][LFB][FAIL] %d/%d(ok/total) time,%u, error_id,0x%x, unstable_id,0x%x\n", __FUNCTION__, AutoRegression_Result.Result[AUTOREGRESSION_LFB].u16_correct_num, AutoRegression_Result.Result[AUTOREGRESSION_LFB].u16_total_num, AutoRegression_Result.Result[AUTOREGRESSION_LFB].u16_time, AutoRegression_Result.Result[AUTOREGRESSION_LFB].u32_error_stream_id, AutoRegression_Result.Result[AUTOREGRESSION_LFB].u32_unstable_stream_id);
		}
		if(AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u8_result==SELF_TEST_PASS) {
			rtd_pr_memc_emerg( "[%s][LOGO][PASS] %d/%d(ok/total) time,%u\n", __FUNCTION__, AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u16_correct_num, AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u16_total_num, AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u16_time);
		}else if(AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u8_result==SELF_TEST_FAIL) {
			rtd_pr_memc_emerg( "[%s][LOGO][FAIL] %d/%d(ok/total) time,%u, error_id,0x%x, unstable_id,0x%x\n", __FUNCTION__, AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u16_correct_num, AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u16_total_num, AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u16_time, AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u32_error_stream_id, AutoRegression_Result.Result[AUTOREGRESSION_LOGO].u32_unstable_stream_id);
		}
	}
}

/**
 * @brief This function do auto regression with script
 * https://wiki.realtek.com/x/cHE2Eg
 */
VOID AutoRegression_GetGolden(VOID)
{
#ifdef BUILD_QUICK_SHOW
	return;
#endif
	static _CHECK_RESULT_AUTOREGRESSION Regression_Result = {0};
	static unsigned int u1_get_All_pre = 0, u1_get_Single_en_pre = 0;
	unsigned int u1_get_All_en, u1_get_Single_en, u1_Regression_en, u8_stream_id = 0;

	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, 31, 31, &u1_Regression_en);
	if(!u1_Regression_en){
		return;
	}

	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_STREAM_ID_LOW_BIT, AUTOREGRESSION_STREAM_ID_HIGH_BIT, &u8_stream_id);
	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_GETDATA_ALL_BIT, AUTOREGRESSION_GETDATA_ALL_BIT, &u1_get_All_en);
	ReadRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_GETDATA_SINGLE_BIT, AUTOREGRESSION_GETDATA_SINGLE_BIT, &u1_get_Single_en);

	u8_stream_id = _MIN_(u8_stream_id, AUTOREGRESSION_ALL_NUM-1);

	if(u1_get_All_en){
		if(u1_get_All_pre!=u1_get_All_en){
			memset(&Regression_Result, 0, sizeof(Regression_Result));
		}
		if(AutoRegression_Get_Data_All(&Regression_Result)){
			WriteRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_GETDATA_ALL_BIT, AUTOREGRESSION_GETDATA_ALL_BIT, 0);
		}
	}

	if(u1_get_Single_en){
		if(u1_get_Single_en_pre!=u1_get_Single_en){
			memset(&Regression_Result, 0, sizeof(Regression_Result));
		}
		if(AutoRegression_Get_Data_Single(&Regression_Result, u8_stream_id)){
			WriteRegister(SOFTWARE2_SOFTWARE2_11_reg, AUTOREGRESSION_GETDATA_SINGLE_BIT, AUTOREGRESSION_GETDATA_SINGLE_BIT, 0);
		}
	}

	u1_get_All_pre = u1_get_All_en;
	u1_get_Single_en_pre = u1_get_Single_en;
}

VOID BasicInfoCheck_Proc(VOID)
{
	BasicInfoCheck_Environment_check();
	BasicInfoCheck_IPPRE_PTG_check();
}

VOID AutoRegression_Proc(VOID)
{
	AutoRegression_Update_Info();
	AutoRegression_GetGolden();
	AutoRegression_Verify();
}

